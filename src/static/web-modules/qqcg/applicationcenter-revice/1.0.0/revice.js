define("consumer/applicationcenter-revice/1.0.0/revice",["jquery/jquery/1.10.2/jquery","pafweblib/temporary/1.0.0/numeral","$","pafweblib/FormValidator/0.2.1/FormValidator"],function(a,b,c){var d=a("jquery/jquery/1.10.2/jquery"),e=(a("pafweblib/temporary/1.0.0/numeral"),a("pafweblib/FormValidator/0.2.1/FormValidator")),f={init:function(){var a=/^(1[^012][0-9]{9})$/i,b=this,c=d("#payAccount"),e=c.val().replace(/\s/g,"");d("#payBalance").numeral({scale:2,intlen:12}),c.numeral(),d(".textarea-count").each(function(){function a(){var a=c.prop("maxlength")||50,b=c.val().length;b>=a?(c.val(c.val().substring(0,a)),e.html(0)):e.html(a-b)}var b=d(this),c=d(b.data("textarea")),e=b.find(".textarea-left");c.keyup(a),a()}),b.checkForm(),""!=e&&a.test(e)&&b.queryName()},queryName:function(){var a=d("#payAccount").val();return d.ajax({type:"POST",url:window.contextPath+"/applicationCenter/payment/receiving/receiveInfo",data:{payAccount:a},dataType:"JSON",success:function(a){d("#payName").val(a.payName)},error:function(){"undefined"!=typeof console&&console.log("applicationCenter-payment-receiving-receiveInfo")}}),!1},checkForm:function(){var a=this,b=new e("#receiveMoneyForm",{rules:{payAccount:"required|phone",payBalance:"required|gtZero"},messages:{payAccount:{required:"付款方壹钱包账户不能为空",phone:"付款方壹钱包账户为对方手机号码"},payBalance:{required:"收款金额不能为空",gtZero:"收款金额不能低于0元"}},success:{payAccount:function(){a.queryName()}}});b.extendRules({gtZero:function(a,b){return b=window.parseFloat(b),0>=b?!1:!0}}),b.launched()}};c.exports=f});

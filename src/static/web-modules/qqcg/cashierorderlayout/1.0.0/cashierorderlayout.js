define("consumer/cashierorderlayout/1.0.0/cashierorderlayout",["jquery/jquery/1.10.2/jquery"],function(a,b,c){function d(){i("#show-order-detail").on("click",function(){$orderDetail=i(".orderdetail"),$orderDetail.attr("class").indexOf("hidden")>-1?($orderDetail.removeClass("hidden"),i(this).find("span").html("∧")):($orderDetail.addClass("hidden"),i(this).find("span").html("∨"))}),i(".preferential-msg").on("click",function(){$preferentialMsg=i(".preferentialmsg"),$preferentialMsg.attr("class").indexOf("hidden")>-1?($preferentialMsg.removeClass("hidden"),i(this).find("span").html("∧")):($preferentialMsg.addClass("hidden"),i(this).find("span").html("∨"))})}function e(){h=f(),i("#transId").val(h),i.ajax({dataType:"JSON",type:"GET",async:!1,url:"/cashier-v2/"+h+"/order-details"}).done(function(a){if("000000"==a.code){var b=a.data,c=fmoney(b.orderAmt/1e6,2).split(".");i("#orderCustName").html(b.orderCustName),i("#mobileNumber").html(b.custMobileNumber),i("#merchantName").html("商品名称： "+b.commodityInfo),i("#orderAmt").val(b.orderAmt),i("#orderYuan").html(c[0]),i(".pointer").removeClass("hidden"),i("#orderFen").html(c[1]+'<span class="yang">￥</span>'),i("#merchantId").html("商户号： "+b.merchantId),i("#merchantOrderNo").html("订单号： "+b.merchantOrderNo),i("#createTime").html("交易时间： "+b.createTime),i("#txType").html("交易类型： "+b.txType),i("#show-order-detail").html(b.merchantName+'消费<span class="pic">∨</span>')}else i(".cashier-order").html("系统异常")}).fail(function(){i(".cashier-order").html('<div style="height: 30px; line-height: 30px; width: 960px; margin: 0 auto; color: red;">系统异常</div>')})}function f(){for(var a,b=location.href.split("/"),c=0;c<b.length;c++)if("cashier"==b[c]){a=b[c+1];break}return a}var g,h,i=a("jquery/jquery/1.10.2/jquery");g=function(){e(),d()},c.exports=g});

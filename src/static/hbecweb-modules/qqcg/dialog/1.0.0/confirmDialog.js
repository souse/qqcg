define("consumer/dialog/1.0.0/confirmDialog",["./dialog"],function(a,b){function c(){for(var a,b=e.slice.call(arguments,0),c={},d=0,f=b.length;f>d;d++)if(a=b[d])for(var g in a)c[g]=a[g];return c}var d=document,e=Array.prototype,f=function(){},g=a("./dialog"),h=g.prototype,i=function(a){var b=this.options=c(j.defaultOptions,a);this.init(b)},j=i.prototype=c(h,{defaultOptions:c(h.defaultOptions,{dialogContentTmp:"",confirmHandler:f,cancelHandler:f}),create:function(a){return new i(a)},init:function(a){h.init.call(this,a),this.createDialogContent(a)},createDialogContent:function(a){var b=a.dialogContentTmp||'<h3>登录中国银行开通快捷支付</h3>                        <div class="box">                            <p class="line">在银行页面完成相关流程后，请告诉壹钱包最终结果（开通完成前请不要关闭该窗口）：</p>                            <div class="btns">                                <button id="ConfirmDialogConfirmBtn" class="btn btn-primary btn-confirm">开通成功</button>                                <button id="ConfirmDialogCancelBtn" class="btn btn-failure">开通遇到问题</button>                            </div>                            <p class="line"><a href="javascript:history.go(-1);">返回选择其他银行</a></p>                        </div>';this.displayDilogContent(b),this.bandDialogContentEvents()},confirmHandler:function(){var a=this.options;"undefined"!=typeof a.confirmHandler&&a.confirmHandler.call(this)},cancelHandler:function(){var a=this.options;"undefined"!=typeof a.cancelHandler&&a.cancelHandler.call(this)},removeDialog:function(){h.removeDialog.call(this);try{var a=d.getElementById("ConfirmDialogConfirmBtn"),b=d.getElementById("ConfirmDialogCancelBtn");a.onclick=null,b.onclick=null}catch(c){}},bandDialogContentEvents:function(){var a=this,b=d.getElementById("ConfirmDialogConfirmBtn"),c=d.getElementById("ConfirmDialogCancelBtn");try{b&&(b.onclick=function(){var c=b.getAttribute("data-closeDialog");"no"!==c&&a.removeDialog(),a.confirmHandler()}),c&&(c.onclick=function(){a.removeDialog(),a.cancelHandler()})}catch(e){}},displayDilogContent:function(a){var b=this.dialog,c=d.getElementById("loadingBox"),e=d.createElement("div");e.id="contentBox",e.innerHTML=a,c.style.display="none",b.insertBefore(e,c)}});b.create=j.create}),define("consumer/dialog/1.0.0/dialog",[],function(a,b,c){function d(){for(var a,b=h.slice.call(arguments,0),c={},d=0,e=b.length;e>d;d++)if(a=b[d])for(var f in a)c[f]=a[f];return c}function e(a){try{a.preventDefault()}catch(b){a.returnValue=!1}}var f=document,g=f.body,h=Array.prototype,i=function(){},j=function(a){var b=this.options=d(j.prototype.defaultOptions,a);this.init(b)};j.prototype={defaultOptions:{dialogClass:"",layerClass:"dialog-shadow",cancelHandler:i},create:function(a){return new j(a)},init:function(a){g.appendChild(this.layer=this.createLayer()),g.appendChild(this.dialog=this.createDialog(a)),this.bandDialogEvents()},createDialog:function(a){var b=f.createElement("div");return b.className="dialog-skeleton "+a.dialogClass,b.innerHTML='<a id="bfpDialogCloseBtn" class="close btn-close" href="#">&#215;</a>                                <iframe style="position:absolute;width:100%;height:100%;z-index:-1;left:0;top:0;background:none;" frameborder="no" border="0"></iframe>                               <div id="loadingBox" class="box-loading">&nbsp;</div>',b},createLayer:function(){var a=document.createElement("div");return a.className=this.options.layerClass,a},removeDialog:function(){var a=this.dialog,b=f.getElementById("bfpDialogCloseBtn");g.removeChild(a),g.removeChild(this.layer),b.onclick=null},cancelHandler:function(){var a=this.options;"undefined"!=typeof a.cancelHandler&&a.cancelHandler.call(this)},bandDialogEvents:function(){var a=this,b=f.getElementById("bfpDialogCloseBtn");b.onclick=function(b){b=b||window.event,e(b),a.cancelHandler(),a.removeDialog()}}},c.exports=j});

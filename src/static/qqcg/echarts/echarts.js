define("echarts",["echarts/echarts"],function(b,a,c){var d=b("echarts/echarts");return d});define("echarts/echarts",["./config","zrender/tool/util","zrender/tool/event","zrender/tool/env","zrender","zrender/config","./chart/island","./component/toolbox","./component","./component/title","./component/tooltip","./component/legend","./util/ecData","./chart","zrender/tool/color","./component/timeline","zrender/shape/Image","zrender/loadingEffect/Bar","zrender/loadingEffect/Bubble","zrender/loadingEffect/DynamicLine","zrender/loadingEffect/Ring","zrender/loadingEffect/Spin","zrender/loadingEffect/Whirling","./theme/macarons","./theme/infographic"],function(d,g,b){var m=d("./config");var f=d("zrender/tool/util");var n=d("zrender/tool/event");var o={};var c=d("zrender/tool/env").canvasSupported;var i=new Date()-0;var p={};var k="_echarts_instance_";o.version="2.2.7";o.dependencies={zrender:"2.1.1"};o.init=function(t,s){var r=d("zrender");if(r.version.replace(".","")-0<o.dependencies.zrender.replace(".","")-0){console.error("ZRender "+r.version+" is too old for ECharts "+o.version+". Current version need ZRender "+o.dependencies.zrender+"+")}t=t instanceof Array?t[0]:t;var q=t.getAttribute(k);if(!q){q=i++;t.setAttribute(k,q)}if(p[q]){p[q].dispose()}p[q]=new l(t);p[q].id=q;p[q].canvasSupported=c;p[q].setTheme(s);return p[q]};o.getInstanceById=function(q){return p[q]};function a(){n.Dispatcher.call(this)}f.merge(a.prototype,n.Dispatcher.prototype,true);function l(q){q.innerHTML="";this._themeConfig={};this.dom=q;this._connected=false;this._status={dragIn:false,dragOut:false,needRefresh:false};this._curEventType=false;this._chartList=[];this._messageCenter=new a();this._messageCenterOutSide=new a();this.resize=this.resize();this._init()}var e=d("zrender/config").EVENT;var j=["CLICK","DBLCLICK","MOUSEOVER","MOUSEOUT","DRAGSTART","DRAGEND","DRAGENTER","DRAGOVER","DRAGLEAVE","DROP"];function h(v,s,u,t,r){var x=v._chartList;var q=x.length;while(q--){var w=x[q];if(typeof w[s]==="function"){w[s](u,t,r)}}}l.prototype={_init:function(){var A=this;var q=d("zrender").init(this.dom);this._zr=q;this._messageCenter.dispatch=function(C,E,B,D){B=B||{};B.type=C;B.event=E;A._messageCenter.dispatchWithContext(C,B,D);A._messageCenterOutSide.dispatchWithContext(C,B,D)};this._onevent=function(B){return A.__onevent(B)};for(var w in m.EVENT){if(w!="CLICK"&&w!="DBLCLICK"&&w!="HOVER"&&w!="MOUSEOUT"&&w!="MAP_ROAM"){this._messageCenter.bind(m.EVENT[w],this._onevent,this)}}var z={};this._onzrevent=function(B){return A[z[B.type]](B)};for(var t=0,v=j.length;t<v;t++){var u=j[t];var r=e[u];z[r]="_on"+u.toLowerCase();q.on(r,this._onzrevent)}this.chart={};this.component={};var y=d("./chart/island");this._island=new y(this._themeConfig,this._messageCenter,q,{},this);this.chart.island=this._island;var s=d("./component/toolbox");this._toolbox=new s(this._themeConfig,this._messageCenter,q,{},this);this.component.toolbox=this._toolbox;d("echarts/chart/bar");d("echarts/chart/line");d("echarts/chart/pie");var x=d("./component");x.define("title",d("./component/title"));x.define("tooltip",d("./component/tooltip"));x.define("legend",d("./component/legend"));if(q.getWidth()===0||q.getHeight()===0){console.error("Dom’s width & height should be ready before init.")}},__onevent:function(t){t.__echartsId=t.__echartsId||this.id;var v=t.__echartsId===this.id;if(!this._curEventType){this._curEventType=t.type}switch(t.type){case m.EVENT.LEGEND_SELECTED:this._onlegendSelected(t);break;case m.EVENT.DATA_ZOOM:if(!v){var q=this.component.dataZoom;if(q){q.silence(true);q.absoluteZoom(t.zoom);q.silence(false)}}this._ondataZoom(t);break;case m.EVENT.DATA_RANGE:v&&this._ondataRange(t);break;case m.EVENT.MAGIC_TYPE_CHANGED:if(!v){var r=this.component.toolbox;if(r){r.silence(true);r.setMagicType(t.magicType);r.silence(false)}}this._onmagicTypeChanged(t);break;case m.EVENT.DATA_VIEW_CHANGED:v&&this._ondataViewChanged(t);break;case m.EVENT.TOOLTIP_HOVER:v&&this._tooltipHover(t);break;case m.EVENT.RESTORE:this._onrestore();break;case m.EVENT.REFRESH:v&&this._onrefresh(t);break;case m.EVENT.TOOLTIP_IN_GRID:case m.EVENT.TOOLTIP_OUT_GRID:if(!v){var s=this.component.grid;if(s){this._zr.trigger("mousemove",{connectTrigger:true,zrenderX:s.getX()+t.x*s.getWidth(),zrenderY:s.getY()+t.y*s.getHeight()})}}else{if(this._connected){var s=this.component.grid;if(s){t.x=(t.event.zrenderX-s.getX())/s.getWidth();t.y=(t.event.zrenderY-s.getY())/s.getHeight()}}}break}if(this._connected&&v&&this._curEventType===t.type){for(var u in this._connected){this._connected[u].connectedEventHandler(t)}this._curEventType=null}if(!v||!this._connected&&v){this._curEventType=null}},_onclick:function(r){h(this,"onclick",r);if(r.target){var q=this._eventPackage(r.target);if(q&&q.seriesIndex!=null){this._messageCenter.dispatch(m.EVENT.CLICK,r.event,q,this)}}},_ondblclick:function(r){h(this,"ondblclick",r);if(r.target){var q=this._eventPackage(r.target);if(q&&q.seriesIndex!=null){this._messageCenter.dispatch(m.EVENT.DBLCLICK,r.event,q,this)}}},_onmouseover:function(r){if(r.target){var q=this._eventPackage(r.target);if(q&&q.seriesIndex!=null){this._messageCenter.dispatch(m.EVENT.HOVER,r.event,q,this)}}},_onmouseout:function(r){if(r.target){var q=this._eventPackage(r.target);if(q&&q.seriesIndex!=null){this._messageCenter.dispatch(m.EVENT.MOUSEOUT,r.event,q,this)}}},_ondragstart:function(q){this._status={dragIn:false,dragOut:false,needRefresh:false};h(this,"ondragstart",q)},_ondragenter:function(q){h(this,"ondragenter",q)},_ondragover:function(q){h(this,"ondragover",q)},_ondragleave:function(q){h(this,"ondragleave",q)},_ondrop:function(q){h(this,"ondrop",q,this._status);this._island.ondrop(q,this._status)},_ondragend:function(r){h(this,"ondragend",r,this._status);this._timeline&&this._timeline.ondragend(r,this._status);this._island.ondragend(r,this._status);if(this._status.needRefresh){this._syncBackupData(this._option);var q=this._messageCenter;q.dispatch(m.EVENT.DATA_CHANGED,r.event,this._eventPackage(r.target),this);q.dispatch(m.EVENT.REFRESH,null,null,this)}},_onlegendSelected:function(q){this._status.needRefresh=false;h(this,"onlegendSelected",q,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(m.EVENT.REFRESH,null,null,this)}},_ondataZoom:function(q){this._status.needRefresh=false;h(this,"ondataZoom",q,this._status);if(this._status.needRefresh){this._messageCenter.dispatch(m.EVENT.REFRESH,null,null,this)}},_ondataRange:function(q){this._clearEffect();this._status.needRefresh=false;h(this,"ondataRange",q,this._status);if(this._status.needRefresh){this._zr.refreshNextFrame()}},_onmagicTypeChanged:function(){this._clearEffect();this._render(this._toolbox.getMagicOption())},_ondataViewChanged:function(q){this._syncBackupData(q.option);this._messageCenter.dispatch(m.EVENT.DATA_CHANGED,null,q,this);this._messageCenter.dispatch(m.EVENT.REFRESH,null,null,this)},_tooltipHover:function(r){var q=[];h(this,"ontooltipHover",r,q)},_onrestore:function(){this.restore()},_onrefresh:function(q){this._refreshInside=true;this.refresh(q);this._refreshInside=false},_syncBackupData:function(q){this.component.dataZoom&&this.component.dataZoom.syncBackupData(q)},_eventPackage:function(t){if(t){var s=d("./util/ecData");var q=s.get(t,"seriesIndex");var r=s.get(t,"dataIndex");r=q!=-1&&this.component.dataZoom?this.component.dataZoom.getRealDataIndex(q,r):r;return{seriesIndex:q,seriesName:(s.get(t,"series")||{}).name,dataIndex:r,data:s.get(t,"data"),name:s.get(t,"name"),value:s.get(t,"value"),special:s.get(t,"special")}}return},_noDataCheck:function(u){var s=u.series;for(var r=0,q=s.length;r<q;r++){if(s[r].type==m.CHART_TYPE_MAP||s[r].data&&s[r].data.length>0||s[r].markPoint&&s[r].markPoint.data&&s[r].markPoint.data.length>0||s[r].markLine&&s[r].markLine.data&&s[r].markLine.data.length>0||s[r].nodes&&s[r].nodes.length>0||s[r].links&&s[r].links.length>0||s[r].matrix&&s[r].matrix.length>0||s[r].eventList&&s[r].eventList.length>0){return false}}var t=this._option&&this._option.noDataLoadingOption||this._themeConfig.noDataLoadingOption||m.noDataLoadingOption||{text:this._option&&this._option.noDataText||this._themeConfig.noDataText||m.noDataText,effect:this._option&&this._option.noDataEffect||this._themeConfig.noDataEffect||m.noDataEffect};this.clear();this.showLoading(t);return true},_render:function(y){this._mergeGlobalConifg(y);if(this._noDataCheck(y)){return}var G=y.backgroundColor;if(G){if(!c&&G.indexOf("rgba")!=-1){var x=G.split(",");this.dom.style.filter="alpha(opacity="+x[3].substring(0,x[3].lastIndexOf(")"))*100+")";x.length=3;x[0]=x[0].replace("a","");this.dom.style.backgroundColor=x.join(",")+")"}else{this.dom.style.backgroundColor=G}}this._zr.clearAnimation();this._chartList=[];var t=d("./chart");var F=d("./component");if(y.xAxis||y.yAxis){y.grid=y.grid||{};y.dataZoom=y.dataZoom||{}}var s=["title","legend","tooltip","dataRange","roamController","grid","dataZoom","xAxis","yAxis","polar"];var r;var u;var E;for(var A=0,w=s.length;A<w;A++){u=s[A];E=this.component[u];if(y[u]){if(E){E.refresh&&E.refresh(y)}else{r=F.get(/^[xy]Axis$/.test(u)?"axis":u);E=new r(this._themeConfig,this._messageCenter,this._zr,y,this,u);this.component[u]=E}this._chartList.push(E)}else{if(E){E.dispose();this.component[u]=null;delete this.component[u]}}}var B;var D;var C;var v={};for(var A=0,w=y.series.length;A<w;A++){D=y.series[A].type;if(!D){console.error("series["+A+"] chart type has not been defined.");continue}if(!v[D]){v[D]=true;B=t.get(D);if(B){if(this.chart[D]){C=this.chart[D];C.refresh(y)}else{C=new B(this._themeConfig,this._messageCenter,this._zr,y,this)}this._chartList.push(C);this.chart[D]=C}else{console.error(D+" has not been required.")}}}for(D in this.chart){if(D!=m.CHART_TYPE_ISLAND&&!v[D]){this.chart[D].dispose();this.chart[D]=null;delete this.chart[D]}}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._island.refresh(y);this._toolbox.refresh(y);y.animation&&!y.renderAsImage?this._zr.refresh():this._zr.render();var q="IMG"+this.id;var z=document.getElementById(q);if(y.renderAsImage&&c){if(z){z.src=this.getDataURL(y.renderAsImage)}else{z=this.getImage(y.renderAsImage);z.id=q;z.style.position="absolute";z.style.left=0;z.style.top=0;this.dom.firstChild.appendChild(z)}this.un();this._zr.un();this._disposeChartList();this._zr.clear()}else{if(z){z.parentNode.removeChild(z)}}z=null;this._option=y},restore:function(){this._clearEffect();this._option=f.clone(this._optionRestore);this._disposeChartList();this._island.clear();this._toolbox.reset(this._option,true);this._render(this._option)},refresh:function(s){this._clearEffect();s=s||{};var t=s.option;if(!this._refreshInside&&t){t=this.getOption();f.merge(t,s.option,true);f.merge(this._optionRestore,s.option,true);this._toolbox.reset(t)}this._island.refresh(t);this._toolbox.refresh(t);this._zr.clearAnimation();for(var r=0,q=this._chartList.length;r<q;r++){this._chartList[r].refresh&&this._chartList[r].refresh(t)}this.component.grid&&this.component.grid.refixAxisShape(this.component);this._zr.refresh()},_disposeChartList:function(){this._clearEffect();this._zr.clearAnimation();var q=this._chartList.length;while(q--){var s=this._chartList[q];if(s){var r=s.type;this.chart[r]&&delete this.chart[r];this.component[r]&&delete this.component[r];s.dispose&&s.dispose()}}this._chartList=[]},_mergeGlobalConifg:function(u){var s=["backgroundColor","calculable","calculableColor","calculableHolderColor","nameConnector","valueConnector","animation","animationThreshold","animationDuration","animationDurationUpdate","animationEasing","addDataAnimation","symbolList","DRAG_ENABLE_TIME"];var q=s.length;while(q--){var r=s[q];if(u[r]==null){u[r]=this._themeConfig[r]!=null?this._themeConfig[r]:m[r]}}var t=u.color;if(!(t&&t.length)){t=this._themeConfig.color||m.color}this._zr.getColor=function(v){var w=d("zrender/tool/color");return w.getColor(v,t)};if(!c){u.animation=false;u.addDataAnimation=false}},setOption:function(q,r){if(!q.timeline){return this._setOption(q,r)}else{return this._setTimelineOption(q)}},_setOption:function(r,s,q){if(!s&&this._option){this._option=f.merge(this.getOption(),f.clone(r),true)}else{this._option=f.clone(r);!q&&this._timeline&&this._timeline.dispose()}this._optionRestore=f.clone(this._option);if(!this._option.series||this._option.series.length===0){this._zr.clear();return}if(this.component.dataZoom&&(this._option.dataZoom||this._option.toolbox&&this._option.toolbox.feature&&this._option.toolbox.feature.dataZoom&&this._option.toolbox.feature.dataZoom.show)){this.component.dataZoom.syncOption(this._option)}this._toolbox.reset(this._option);this._render(this._option);return this},getOption:function(){var s=f.clone(this._option);var q=this;function r(v){var u=q._optionRestore[v];if(u){if(u instanceof Array){var t=u.length;while(t--){s[v][t].data=f.clone(u[t].data)}}else{s[v].data=f.clone(u.data)}}}r("xAxis");r("yAxis");r("series");return s},setSeries:function(q,r){if(!r){this.setOption({series:q})}else{this._option.series=q;this.setOption(this._option,r)}return this},getSeries:function(){return this.getOption().series},_setTimelineOption:function(q){this._timeline&&this._timeline.dispose();var s=d("./component/timeline");var r=new s(this._themeConfig,this._messageCenter,this._zr,q,this);this._timeline=r;this.component.timeline=this._timeline;return this},addData:function(C,Q,A,u,x){var M=C instanceof Array?C:[[C,Q,A,u,x]];var F=this.getOption();var v=this._optionRestore;var D=this;for(var I=0,H=M.length;I<H;I++){C=M[I][0];Q=M[I][1];A=M[I][2];u=M[I][3];x=M[I][4];var G=v.series[C];var O=A?"unshift":"push";var N=A?"pop":"shift";if(G){var z=G.data;var t=F.series[C].data;z[O](Q);t[O](Q);if(!u){z[N]();Q=t[N]()}if(x!=null){var r;var s;if(G.type===m.CHART_TYPE_PIE&&(r=v.legend)&&(s=r.data)){var B=F.legend.data;s[O](x);B[O](x);if(!u){var L=f.indexOf(s,Q.name);L!=-1&&s.splice(L,1);L=f.indexOf(B,Q.name);L!=-1&&B.splice(L,1)}}else{if(v.xAxis!=null&&v.yAxis!=null){var w;var E;var y=G.xAxisIndex||0;if(v.xAxis[y].type==null||v.xAxis[y].type==="category"){w=v.xAxis[y].data;E=F.xAxis[y].data;w[O](x);E[O](x);if(!u){w[N]();E[N]()}}y=G.yAxisIndex||0;if(v.yAxis[y].type==="category"){w=v.yAxis[y].data;E=F.yAxis[y].data;w[O](x);E[O](x);if(!u){w[N]();E[N]()}}}}}this._option.series[C].data=F.series[C].data}}this._zr.clearAnimation();var P=this._chartList;var K=0;var J=function(){K--;if(K===0){q()}};for(var I=0,H=P.length;I<H;I++){if(F.addDataAnimation&&P[I].addDataAnimation){K++;P[I].addDataAnimation(M,J)}}this.component.dataZoom&&this.component.dataZoom.syncOption(F);this._option=F;function q(){if(!D._zr){return}D._zr.clearAnimation();for(var S=0,R=P.length;S<R;S++){P[S].motionlessOnce=F.addDataAnimation&&P[S].addDataAnimation}D._messageCenter.dispatch(m.EVENT.REFRESH,null,{option:F},D)}if(!F.addDataAnimation){setTimeout(q,0)}return this},addMarkPoint:function(q,r){return this._addMark(q,r,"markPoint")},addMarkLine:function(q,r){return this._addMark(q,r,"markLine")},_addMark:function(y,u,A){var t=this._option.series;var x;if(t&&(x=t[y])){var s=this._optionRestore.series;var q=s[y];var r=x[A];var w=q[A];r=x[A]=r||{data:[]};w=q[A]=w||{data:[]};for(var z in u){if(z==="data"){r.data=r.data.concat(u.data);w.data=w.data.concat(u.data)}else{if(typeof u[z]!="object"||r[z]==null){r[z]=w[z]=u[z]}else{f.merge(r[z],u[z],true);f.merge(w[z],u[z],true)}}}var v=this.chart[x.type];v&&v.addMark(y,u,A)}return this},delMarkPoint:function(r,q){return this._delMark(r,q,"markPoint")},delMarkLine:function(r,q){return this._delMark(r,q,"markLine")},_delMark:function(z,s,B){var w=this._option.series;var y;var u;var A;if(!(w&&(y=w[z])&&(u=y[B])&&(A=u.data))){return this}s=s.split(" > ");var r=-1;for(var v=0,t=A.length;v<t;v++){var q=A[v];if(q instanceof Array){if(q[0].name===s[0]&&q[1].name===s[1]){r=v;break}}else{if(q.name===s[0]){r=v;break}}}if(r>-1){A.splice(r,1);this._optionRestore.series[z][B].data.splice(r,1);var x=this.chart[y.type];x&&x.delMark(z,s.join(" > "),B)}return this},getDom:function(){return this.dom},getZrender:function(){return this._zr},getDataURL:function(s){if(!c){return""}if(this._chartList.length===0){var r="IMG"+this.id;var q=document.getElementById(r);if(q){return q.src}}var u=this.component.tooltip;u&&u.hideTip();switch(s){case"jpeg":break;default:s="png"}var t=this._option.backgroundColor;if(t&&t.replace(" ","")==="rgba(0,0,0,0)"){t="#fff"}return this._zr.toDataURL("image/"+s,t)},getImage:function(r){var s=this._optionRestore.title;var q=document.createElement("img");q.src=this.getDataURL(r);q.title=s&&s.text||"ECharts";return q},getConnectedDataURL:function(w){if(!this.isConnected()){return this.getDataURL(w)}var A=this.dom;var u={self:{img:this.getDataURL(w),left:A.offsetLeft,top:A.offsetTop,right:A.offsetLeft+A.offsetWidth,bottom:A.offsetTop+A.offsetHeight}};var x=u.self.left;var v=u.self.top;var y=u.self.right;var C=u.self.bottom;for(var z in this._connected){A=this._connected[z].getDom();u[z]={img:this._connected[z].getDataURL(w),left:A.offsetLeft,top:A.offsetTop,right:A.offsetLeft+A.offsetWidth,bottom:A.offsetTop+A.offsetHeight};x=Math.min(x,u[z].left);v=Math.min(v,u[z].top);y=Math.max(y,u[z].right);C=Math.max(C,u[z].bottom)}var r=document.createElement("div");r.style.position="absolute";r.style.left="-4000px";r.style.width=y-x+"px";r.style.height=C-v+"px";document.body.appendChild(r);var s=d("zrender").init(r);var q=d("zrender/shape/Image");for(var z in u){s.addShape(new q({style:{x:u[z].left-x,y:u[z].top-v,image:u[z].img}}))}s.render();var B=this._option.backgroundColor;if(B&&B.replace(/ /g,"")==="rgba(0,0,0,0)"){B="#fff"}var t=s.toDataURL("image/png",B);setTimeout(function(){s.dispose();r.parentNode.removeChild(r);r=null},100);return t},getConnectedImage:function(r){var s=this._optionRestore.title;var q=document.createElement("img");q.src=this.getConnectedDataURL(r);q.title=s&&s.text||"ECharts";return q},on:function(r,q){this._messageCenterOutSide.bind(r,q,this);return this},un:function(r,q){this._messageCenterOutSide.unbind(r,q);return this},connect:function(r){if(!r){return this}if(!this._connected){this._connected={}}if(r instanceof Array){for(var s=0,q=r.length;s<q;s++){this._connected[r[s].id]=r[s]}}else{this._connected[r.id]=r}return this},disConnect:function(s){if(!s||!this._connected){return this}if(s instanceof Array){for(var t=0,q=s.length;t<q;t++){delete this._connected[s[t].id]}}else{delete this._connected[s.id]}for(var r in this._connected){return r,this}this._connected=false;return this},connectedEventHandler:function(q){if(q.__echartsId!=this.id){this._onevent(q)}},isConnected:function(){return !!this._connected},showLoading:function(u){var s={bar:d("zrender/loadingEffect/Bar"),bubble:d("zrender/loadingEffect/Bubble"),dynamicLine:d("zrender/loadingEffect/DynamicLine"),ring:d("zrender/loadingEffect/Ring"),spin:d("zrender/loadingEffect/Spin"),whirling:d("zrender/loadingEffect/Whirling")};this._toolbox.hideDataView();u=u||{};var t=u.textStyle||{};u.textStyle=t;var r=f.merge(f.merge(f.clone(t),this._themeConfig.textStyle),m.textStyle);t.textFont=r.fontStyle+" "+r.fontWeight+" "+r.fontSize+"px "+r.fontFamily;t.text=u.text||this._option&&this._option.loadingText||this._themeConfig.loadingText||m.loadingText;if(u.x!=null){t.x=u.x}if(u.y!=null){t.y=u.y}u.effectOption=u.effectOption||{};u.effectOption.textStyle=t;var q=u.effect;if(typeof q==="string"||q==null){q=s[u.effect||this._option&&this._option.loadingEffect||this._themeConfig.loadingEffect||m.loadingEffect]||s.spin}this._zr.showLoading(new q(u.effectOption));return this},hideLoading:function(){this._zr.hideLoading();return this},setTheme:function(q){if(q){if(typeof q==="string"){switch(q){case"macarons":q=d("./theme/macarons");break;case"infographic":q=d("./theme/infographic");break;default:q={}}}else{q=q||{}}this._themeConfig=q}if(!c){var r=this._themeConfig.textStyle;r&&r.fontFamily&&r.fontFamily2&&(r.fontFamily=r.fontFamily2);r=m.textStyle;r.fontFamily=r.fontFamily2}this._timeline&&this._timeline.setTheme(true);this._optionRestore&&this.restore()},resize:function(){var q=this;return function(){q._clearEffect();q._zr.resize();if(q._option&&q._option.renderAsImage&&c){q._render(q._option);return q}q._zr.clearAnimation();q._island.resize();q._toolbox.resize();q._timeline&&q._timeline.resize();for(var s=0,r=q._chartList.length;s<r;s++){q._chartList[s].resize&&q._chartList[s].resize()}q.component.grid&&q.component.grid.refixAxisShape(q.component);q._zr.refresh();q._messageCenter.dispatch(m.EVENT.RESIZE,null,null,q);return q}},_clearEffect:function(){this._zr.modLayer(m.EFFECT_ZLEVEL,{motionBlur:false});this._zr.painter.clearLayer(m.EFFECT_ZLEVEL)},clear:function(){this._disposeChartList();this._zr.clear();this._option={};this._optionRestore={};this.dom.style.backgroundColor=null;return this},dispose:function(){var q=this.dom.getAttribute(k);q&&delete p[q];this._island.dispose();this._toolbox.dispose();this._timeline&&this._timeline.dispose();this._messageCenter.unbind();this.clear();this._zr.dispose();this._zr=null}};return o});define("echarts/config",[],function(){var a={CHART_TYPE_LINE:"line",CHART_TYPE_BAR:"bar",CHART_TYPE_SCATTER:"scatter",CHART_TYPE_PIE:"pie",CHART_TYPE_RADAR:"radar",CHART_TYPE_VENN:"venn",CHART_TYPE_TREEMAP:"treemap",CHART_TYPE_TREE:"tree",CHART_TYPE_MAP:"map",CHART_TYPE_K:"k",CHART_TYPE_ISLAND:"island",CHART_TYPE_FORCE:"force",CHART_TYPE_CHORD:"chord",CHART_TYPE_GAUGE:"gauge",CHART_TYPE_FUNNEL:"funnel",CHART_TYPE_EVENTRIVER:"eventRiver",CHART_TYPE_WORDCLOUD:"wordCloud",CHART_TYPE_HEATMAP:"heatmap",COMPONENT_TYPE_TITLE:"title",COMPONENT_TYPE_LEGEND:"legend",COMPONENT_TYPE_DATARANGE:"dataRange",COMPONENT_TYPE_DATAVIEW:"dataView",COMPONENT_TYPE_DATAZOOM:"dataZoom",COMPONENT_TYPE_TOOLBOX:"toolbox",COMPONENT_TYPE_TOOLTIP:"tooltip",COMPONENT_TYPE_GRID:"grid",COMPONENT_TYPE_AXIS:"axis",COMPONENT_TYPE_POLAR:"polar",COMPONENT_TYPE_X_AXIS:"xAxis",COMPONENT_TYPE_Y_AXIS:"yAxis",COMPONENT_TYPE_AXIS_CATEGORY:"categoryAxis",COMPONENT_TYPE_AXIS_VALUE:"valueAxis",COMPONENT_TYPE_TIMELINE:"timeline",COMPONENT_TYPE_ROAMCONTROLLER:"roamController",backgroundColor:"rgba(0,0,0,0)",color:["#ff7f50","#87cefa","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],markPoint:{clickable:true,symbol:"pin",symbolSize:10,large:false,effect:{show:false,loop:true,period:15,type:"scale",scaleSize:2,bounceDistance:10},itemStyle:{normal:{borderWidth:2,label:{show:true,position:"inside"}},emphasis:{label:{show:true}}}},markLine:{clickable:true,symbol:["circle","arrow"],symbolSize:[2,4],smoothness:0.2,precision:2,effect:{show:false,loop:true,period:15,scaleSize:2},bundling:{enable:false,maxTurningAngle:45},itemStyle:{normal:{borderWidth:1.5,label:{show:true,position:"end"},lineStyle:{type:"dashed"}},emphasis:{label:{show:false},lineStyle:{}}}},textStyle:{decoration:"none",fontFamily:"Arial, Verdana, sans-serif",fontFamily2:"微软雅黑",fontSize:12,fontStyle:"normal",fontWeight:"normal"},EVENT:{REFRESH:"refresh",RESTORE:"restore",RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",HOVER:"hover",MOUSEOUT:"mouseout",DATA_CHANGED:"dataChanged",DATA_ZOOM:"dataZoom",DATA_RANGE:"dataRange",DATA_RANGE_SELECTED:"dataRangeSelected",DATA_RANGE_HOVERLINK:"dataRangeHoverLink",LEGEND_SELECTED:"legendSelected",LEGEND_HOVERLINK:"legendHoverLink",MAP_SELECTED:"mapSelected",PIE_SELECTED:"pieSelected",MAGIC_TYPE_CHANGED:"magicTypeChanged",DATA_VIEW_CHANGED:"dataViewChanged",TIMELINE_CHANGED:"timelineChanged",MAP_ROAM:"mapRoam",FORCE_LAYOUT_END:"forceLayoutEnd",TOOLTIP_HOVER:"tooltipHover",TOOLTIP_IN_GRID:"tooltipInGrid",TOOLTIP_OUT_GRID:"tooltipOutGrid",ROAMCONTROLLER:"roamController"},DRAG_ENABLE_TIME:120,EFFECT_ZLEVEL:10,effectBlendAlpha:0.95,symbolList:["circle","rectangle","triangle","diamond","emptyCircle","emptyRectangle","emptyTriangle","emptyDiamond"],loadingEffect:"spin",loadingText:"数据读取中...",noDataEffect:"bubble",noDataText:"暂无数据",calculable:false,calculableColor:"rgba(255,165,0,0.6)",calculableHolderColor:"#ccc",nameConnector:" & ",valueConnector:": ",animation:true,addDataAnimation:true,animationThreshold:2000,animationDuration:2000,animationDurationUpdate:500,animationEasing:"ExponentialOut"};return a});define("zrender/tool/util",["../dep/excanvas"],function(k,s,e){var i=Array.prototype;var m=i.forEach;var h=i.map;var l=i.filter;var b={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1};var c=Object.prototype.toString;function u(v){return v&&v.nodeType===1&&typeof v.nodeName=="string"}function q(z){if(typeof z=="object"&&z!==null){var w=z;if(z instanceof Array){w=[];for(var y=0,v=z.length;y<v;y++){w[y]=q(z[y])}}else{if(!b[c.call(z)]&&!u(z)){w={};for(var x in z){if(z.hasOwnProperty(x)){w[x]=q(z[x])}}}}return w}return z}function a(z,y,x,w){if(y.hasOwnProperty(x)){var v=z[x];if(typeof v=="object"&&!b[c.call(v)]&&!u(v)){g(z[x],y[x],w)}else{if(w||!(x in z)){z[x]=y[x]}}}}function g(y,x,v){for(var w in x){a(y,x,w,v)}return y}var p;function j(){if(!p){k("../dep/excanvas");if(window.G_vmlCanvasManager){var v=document.createElement("div");v.style.position="absolute";v.style.top="-1000px";document.body.appendChild(v);p=G_vmlCanvasManager.initElement(v).getContext("2d")}else{p=document.createElement("canvas").getContext("2d")}}return p}function d(y,x){if(y.indexOf){return y.indexOf(x)}for(var w=0,v=y.length;w<v;w++){if(y[w]===x){return w}}return -1}function o(w,v){var x=w.prototype;function y(){}y.prototype=v.prototype;w.prototype=new y();for(var z in x){w.prototype[z]=x[z]}w.constructor=w}function f(A,w,z){if(!(A&&w)){return}if(A.forEach&&A.forEach===m){A.forEach(w,z)}else{if(A.length===+A.length){for(var y=0,v=A.length;y<v;y++){w.call(z,A[y],y,A)}}else{for(var x in A){if(A.hasOwnProperty(x)){w.call(z,A[x],x,A)}}}}}function r(A,x,z){if(!(A&&x)){return}if(A.map&&A.map===h){return A.map(x,z)}else{var w=[];for(var y=0,v=A.length;y<v;y++){w.push(x.call(z,A[y],y,A))}return w}}function n(A,x,z){if(!(A&&x)){return}if(A.filter&&A.filter===l){return A.filter(x,z)}else{var w=[];for(var y=0,v=A.length;y<v;y++){if(x.call(z,A[y],y,A)){w.push(A[y])}}return w}}function t(w,v){return function(){w.apply(v,arguments)}}return{inherits:o,clone:q,merge:g,getContext:j,indexOf:d,each:f,map:r,filter:n,bind:t}});define("zrender/tool/event",["../mixin/Eventful"],function(d,c,f){var h=d("../mixin/Eventful");function b(i){return typeof i.zrenderX!="undefined"&&i.zrenderX||typeof i.offsetX!="undefined"&&i.offsetX||typeof i.layerX!="undefined"&&i.layerX||typeof i.clientX!="undefined"&&i.clientX}function a(i){return typeof i.zrenderY!="undefined"&&i.zrenderY||typeof i.offsetY!="undefined"&&i.offsetY||typeof i.layerY!="undefined"&&i.layerY||typeof i.clientY!="undefined"&&i.clientY}function g(i){return typeof i.zrenderDelta!="undefined"&&i.zrenderDelta||typeof i.wheelDelta!="undefined"&&i.wheelDelta||typeof i.detail!="undefined"&&-i.detail}var e=typeof window.addEventListener==="function"?function(i){i.preventDefault();i.stopPropagation();i.cancelBubble=true}:function(i){i.returnValue=false;i.cancelBubble=true};return{getX:b,getY:a,getDelta:g,stop:e,Dispatcher:h}});define("zrender/tool/env",[],function(){function a(t){var j=this.os={};var u=this.browser={};var c=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/);var v=t.match(/(Android);?[\s\/]+([\d.]+)?/);var n=t.match(/(iPad).*OS\s([\d_]+)/);var h=t.match(/(iPod)(.*OS\s([\d_]+))?/);var f=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);var b=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/);var p=b&&t.match(/TouchPad/);var g=t.match(/Kindle\/([\d.]+)/);var s=t.match(/Silk\/([\d._]+)/);var o=t.match(/(BlackBerry).*Version\/([\d.]+)/);var l=t.match(/(BB10).*Version\/([\d.]+)/);var d=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/);var m=t.match(/PlayBook/);var r=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/);var i=t.match(/Firefox\/([\d.]+)/);var q=t.match(/MSIE ([\d.]+)/);var k=c&&t.match(/Mobile\//)&&!r;var e=t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!r;var q=t.match(/MSIE\s([\d.]+)/);if(u.webkit=!!c){u.version=c[1]}if(v){j.android=true,j.version=v[2]}if(f&&!h){j.ios=j.iphone=true,j.version=f[2].replace(/_/g,".")}if(n){j.ios=j.ipad=true,j.version=n[2].replace(/_/g,".")}if(h){j.ios=j.ipod=true,j.version=h[3]?h[3].replace(/_/g,"."):null}if(b){j.webos=true,j.version=b[2]}if(p){j.touchpad=true}if(o){j.blackberry=true,j.version=o[2]}if(l){j.bb10=true,j.version=l[2]}if(d){j.rimtabletos=true,j.version=d[2]}if(m){u.playbook=true}if(g){j.kindle=true,j.version=g[1]}if(s){u.silk=true,u.version=s[1]}if(!s&&j.android&&t.match(/Kindle Fire/)){u.silk=true}if(r){u.chrome=true,u.version=r[1]}if(i){u.firefox=true,u.version=i[1]}if(q){u.ie=true,u.version=q[1]}if(k&&(t.match(/Safari/)||!!j.ios)){u.safari=true}if(e){u.webview=true}if(q){u.ie=true,u.version=q[1]}j.tablet=!!(n||m||v&&!t.match(/Mobile/)||i&&t.match(/Tablet/)||q&&!t.match(/Phone/)&&t.match(/Touch/));j.phone=!!(!j.tablet&&!j.ipod&&(v||f||b||o||l||r&&t.match(/Android/)||r&&t.match(/CriOS\/([\d.]+)/)||i&&t.match(/Mobile/)||q&&t.match(/Touch/)));return{browser:u,os:j,canvasSupported:document.createElement("canvas").getContext?true:false}}return a(navigator.userAgent)});define("zrender",["zrender/zrender"],function(b,a,c){var d=b("zrender/zrender");return d});define("zrender/zrender",["./dep/excanvas","./tool/util","./tool/log","./tool/guid","./Handler","./Painter","./Storage","./animation/Animation","./tool/env"],function(d,f,b){d("./dep/excanvas");var h=d("./tool/util");var e=d("./tool/log");var l=d("./tool/guid");var k=d("./Handler");var g=d("./Painter");var n=d("./Storage");var i=d("./animation/Animation");var m={};var c={};c.version="2.1.1";c.init=function(p){var o=new a(l(),p);m[o.id]=o;return o};c.dispose=function(p){if(p){p.dispose()}else{for(var o in m){m[o].dispose()}m={}}return c};c.getInstance=function(o){return m[o]};c.delInstance=function(o){delete m[o];return c};function j(o){return function(){if(o._needsRefreshNextFrame){o.refresh()}}}var a=function(s,q){this.id=s;this.env=d("./tool/env");this.storage=new n();this.painter=new g(q,this.storage);this.handler=new k(q,this.storage,this.painter);this.animation=new i({stage:{update:j(this)}});this.animation.start();var o=this;this.painter.refreshNextFrame=function(){o.refreshNextFrame()};this._needsRefreshNextFrame=false;var o=this;var r=this.storage;var p=r.delFromMap;r.delFromMap=function(t){var u=r.get(t);o.stopAnimation(u);p.call(r,t)}};a.prototype.getId=function(){return this.id};a.prototype.addShape=function(o){this.addElement(o);return this};a.prototype.addGroup=function(o){this.addElement(o);return this};a.prototype.delShape=function(o){this.delElement(o);return this};a.prototype.delGroup=function(o){this.delElement(o);return this};a.prototype.modShape=function(p,o){this.modElement(p,o);return this};a.prototype.modGroup=function(o,p){this.modElement(o,p);return this};a.prototype.addElement=function(o){this.storage.addRoot(o);this._needsRefreshNextFrame=true;return this};a.prototype.delElement=function(o){this.storage.delRoot(o);this._needsRefreshNextFrame=true;return this};a.prototype.modElement=function(o,p){this.storage.mod(o,p);this._needsRefreshNextFrame=true;return this};a.prototype.modLayer=function(p,o){this.painter.modLayer(p,o);this._needsRefreshNextFrame=true;return this};a.prototype.addHoverShape=function(o){this.storage.addHover(o);return this};a.prototype.render=function(o){this.painter.render(o);this._needsRefreshNextFrame=false;return this};a.prototype.refresh=function(o){this.painter.refresh(o);this._needsRefreshNextFrame=false;return this};a.prototype.refreshNextFrame=function(){this._needsRefreshNextFrame=true;return this};a.prototype.refreshHover=function(o){this.painter.refreshHover(o);return this};a.prototype.refreshShapes=function(o,p){this.painter.refreshShapes(o,p);return this};a.prototype.resize=function(){this.painter.resize();return this};a.prototype.animate=function(p,y,u){var x=this;if(typeof p==="string"){p=this.storage.get(p)}if(p){var v;if(y){var w=y.split(".");var o=p;for(var t=0,r=w.length;t<r;t++){if(!o){continue}o=o[w[t]]}if(o){v=o}}else{v=p}if(!v){e('Property "'+y+'" is not existed in element '+p.id);return}if(p.__animators==null){p.__animators=[]}var s=p.__animators;var q=this.animation.animate(v,{loop:u}).during(function(){x.modShape(p)}).done(function(){var z=h.indexOf(p.__animators,q);if(z>=0){s.splice(z,1)}});s.push(q);return q}else{e("Element not existed")}};a.prototype.stopAnimation=function(q){if(q.__animators){var r=q.__animators;var o=r.length;for(var p=0;p<o;p++){r[p].stop()}r.length=0}return this};a.prototype.clearAnimation=function(){this.animation.clear();return this};a.prototype.showLoading=function(o){this.painter.showLoading(o);return this};a.prototype.hideLoading=function(){this.painter.hideLoading();return this};a.prototype.getWidth=function(){return this.painter.getWidth()};a.prototype.getHeight=function(){return this.painter.getHeight()};a.prototype.toDataURL=function(q,o,p){return this.painter.toDataURL(q,o,p)};a.prototype.shapeToImage=function(q,p,o){var r=l();return this.painter.shapeToImage(r,q,p,o)};a.prototype.on=function(o,q,p){this.handler.on(o,q,p);return this};a.prototype.un=function(o,p){this.handler.un(o,p);return this};a.prototype.trigger=function(o,p){this.handler.trigger(o,p);return this};a.prototype.clear=function(){this.storage.delRoot();this.painter.clear();return this};a.prototype.dispose=function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;c.delInstance(this.id)};return c});define("zrender/config",[],function(){var a={EVENT:{RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},elementClassName:"zr-element",catchBrushException:false,debugMode:0,devicePixelRatio:Math.max(window.devicePixelRatio||1,1)};return a});define("echarts/chart/island",["./base","zrender/shape/Circle","../config","../util/ecData","zrender/tool/util","zrender/tool/event","zrender/tool/color","../util/accMath","../chart"],function(e,g,b){var d=e("./base");var a=e("zrender/shape/Circle");var i=e("../config");i.island={zlevel:0,z:5,r:15,calculateStep:0.1};var c=e("../util/ecData");var f=e("zrender/tool/util");var j=e("zrender/tool/event");function h(o,k,p,n,m){d.call(this,o,k,p,n,m);this._nameConnector;this._valueConnector;this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();var l=this;l.shapeHandler.onmousewheel=function(v){var q=v.target;var s=v.event;var w=j.getDelta(s);w=w>0?-1:1;q.style.r-=w;q.style.r=q.style.r<5?5:q.style.r;var t=c.get(q,"value");var u=t*l.option.island.calculateStep;t=u>1?Math.round(t-u*w):+(t-u*w).toFixed(2);var r=c.get(q,"name");q.style.text=r+":"+t;c.set(q,"value",t);c.set(q,"name",r);l.zr.modShape(q.id);l.zr.refreshNextFrame();j.stop(s)}}h.prototype={type:i.CHART_TYPE_ISLAND,_combine:function(n,k){var p=e("zrender/tool/color");var m=e("../util/accMath");var o=m.accAdd(c.get(n,"value"),c.get(k,"value"));var l=c.get(n,"name")+this._nameConnector+c.get(k,"name");n.style.text=l+this._valueConnector+o;c.set(n,"value",o);c.set(n,"name",l);n.style.r=this.option.island.r;n.style.color=p.mix(n.style.color,k.style.color)},refresh:function(k){if(k){k.island=this.reformOption(k.island);this.option=k;this._nameConnector=this.option.nameConnector;this._valueConnector=this.option.valueConnector}},getOption:function(){return this.option},resize:function(){var p=this.zr.getWidth();var n=this.zr.getHeight();var q=p/(this._zrWidth||p);var o=n/(this._zrHeight||n);if(q===1&&o===1){return}this._zrWidth=p;this._zrHeight=n;for(var m=0,k=this.shapeList.length;m<k;m++){this.zr.modShape(this.shapeList[m].id,{style:{x:Math.round(this.shapeList[m].style.x*q),y:Math.round(this.shapeList[m].style.y*o)}})}},add:function(m){var n=c.get(m,"name");var q=c.get(m,"value");var k=c.get(m,"series")!=null?c.get(m,"series").name:"";var l=this.getFont(this.option.island.textStyle);var p=this.option.island;var o={zlevel:p.zlevel,z:p.z,style:{x:m.style.x,y:m.style.y,r:this.option.island.r,color:m.style.color||m.style.strokeColor,text:n+this._valueConnector+q,textFont:l},draggable:true,hoverable:true,onmousewheel:this.shapeHandler.onmousewheel,_type:"island"};if(o.style.color==="#fff"){o.style.color=m.style.strokeColor}this.setCalculable(o);o.dragEnableTime=0;c.pack(o,{name:k},-1,q,-1,n);o=new a(o);this.shapeList.push(o);this.zr.addShape(o)},del:function(m){this.zr.delShape(m.id);var n=[];for(var o=0,k=this.shapeList.length;o<k;o++){if(this.shapeList[o].id!=m.id){n.push(this.shapeList[o])}}this.shapeList=n},ondrop:function(n,l){if(!this.isDrop||!n.target){return}var m=n.target;var k=n.dragged;this._combine(m,k);this.zr.modShape(m.id);l.dragIn=true;this.isDrop=false;return},ondragend:function(m,k){var l=m.target;if(!this.isDragend){if(!k.dragIn){l.style.x=j.getX(m.event);l.style.y=j.getY(m.event);this.add(l);k.needRefresh=true}}else{if(k.dragIn){this.del(l);k.needRefresh=true}}this.isDragend=false;return}};f.inherits(h,d);e("../chart").define("island",h);return h});define("echarts/component/toolbox",["./base","zrender/shape/Line","zrender/shape/Image","zrender/shape/Rectangle","../util/shape/Icon","../config","zrender/tool/util","zrender/config","zrender/tool/event","./dataView","../component"],function(e,i,c){var j=e("./base");var b=e("zrender/shape/Line");var a=e("zrender/shape/Image");var o=e("zrender/shape/Rectangle");var d=e("../util/shape/Icon");var l=e("../config");l.toolbox={zlevel:0,z:6,show:false,orient:"horizontal",x:"right",y:"top",color:["#1e90ff","#22bb22","#4b0082","#d2691e"],disableColor:"#ddd",effectiveColor:"red",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemSize:16,showTitle:true,feature:{mark:{show:false,title:{mark:"辅助线开关",markUndo:"删除辅助线",markClear:"清空辅助线"},lineStyle:{width:1,color:"#1e90ff",type:"dashed"}},dataZoom:{show:false,title:{dataZoom:"区域缩放",dataZoomReset:"区域缩放后退"}},dataView:{show:false,title:"数据视图",readOnly:false,lang:["数据视图","关闭","刷新"]},magicType:{show:false,title:{line:"折线图切换",bar:"柱形图切换",stack:"堆积",tiled:"平铺",force:"力导向布局图切换",chord:"和弦图切换",pie:"饼图切换",funnel:"漏斗图切换"},type:[]},restore:{show:false,title:"还原"},saveAsImage:{show:false,title:"保存为图片",type:"png",lang:["点击保存"]}}};var f=e("zrender/tool/util");var h=e("zrender/config");var n=e("zrender/tool/event");var m="stack";var k="tiled";function g(t,p,u,s,r){j.call(this,t,p,u,s,r);this.dom=r.dom;this._magicType={};this._magicMap={};this._isSilence=false;this._iconList;this._iconShapeMap={};this._featureTitle={};this._featureIcon={};this._featureColor={};this._featureOption={};this._enableColor="red";this._disableColor="#ccc";this._markShapeList=[];var q=this;q._onMark=function(v){q.__onMark(v)};q._onMarkUndo=function(v){q.__onMarkUndo(v)};q._onMarkClear=function(v){q.__onMarkClear(v)};q._onDataZoom=function(v){q.__onDataZoom(v)};q._onDataZoomReset=function(v){q.__onDataZoomReset(v)};q._onDataView=function(v){q.__onDataView(v)};q._onRestore=function(v){q.__onRestore(v)};q._onSaveAsImage=function(v){q.__onSaveAsImage(v)};q._onMagicType=function(v){q.__onMagicType(v)};q._onCustomHandler=function(v){q.__onCustomHandler(v)};q._onmousemove=function(v){return q.__onmousemove(v)};q._onmousedown=function(v){return q.__onmousedown(v)};q._onmouseup=function(v){return q.__onmouseup(v)};q._onclick=function(v){return q.__onclick(v)}}g.prototype={type:l.COMPONENT_TYPE_TOOLBOX,_buildShape:function(){this._iconList=[];var u=this.option.toolbox;this._enableColor=u.effectiveColor;this._disableColor=u.disableColor;var t=u.feature;var v=[];for(var s in t){if(t[s].show){switch(s){case"mark":v.push({key:s,name:"mark"});v.push({key:s,name:"markUndo"});v.push({key:s,name:"markClear"});break;case"magicType":for(var r=0,p=t[s].type.length;r<p;r++){t[s].title[t[s].type[r]+"Chart"]=t[s].title[t[s].type[r]];if(t[s].option){t[s].option[t[s].type[r]+"Chart"]=t[s].option[t[s].type[r]]}v.push({key:s,name:t[s].type[r]+"Chart"})}break;case"dataZoom":v.push({key:s,name:"dataZoom"});v.push({key:s,name:"dataZoomReset"});break;case"saveAsImage":if(this.canvasSupported){v.push({key:s,name:"saveAsImage"})}break;default:v.push({key:s,name:s});break}}}if(v.length>0){var q;var s;for(var r=0,p=v.length;r<p;r++){q=v[r].name;s=v[r].key;this._iconList.push(q);this._featureTitle[q]=t[s].title[q]||t[s].title;if(t[s].icon){this._featureIcon[q]=t[s].icon[q]||t[s].icon}if(t[s].color){this._featureColor[q]=t[s].color[q]||t[s].color}if(t[s].option){this._featureOption[q]=t[s].option[q]||t[s].option}}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var r=0,p=this.shapeList.length;r<p;r++){this.zr.addShape(this.shapeList[r])}if(this._iconShapeMap.mark){this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear)}if(this._iconShapeMap.dataZoomReset&&this._zoomQueue.length===0){this._iconDisable(this._iconShapeMap.dataZoomReset)}}},_buildItem:function(){var v=this.option.toolbox;var D=this._iconList.length;var u=this._itemGroupLocation.x;var q=this._itemGroupLocation.y;var A=v.itemSize;var p=v.itemGap;var r;var x=v.color instanceof Array?v.color:[v.color];var w=this.getFont(v.textStyle);var C;var t;var s;if(v.orient==="horizontal"){C=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"bottom":"top";t=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"left":"right";s=this._itemGroupLocation.y/this.zr.getHeight()<0.5?"top":"bottom"}else{C=this._itemGroupLocation.x/this.zr.getWidth()<0.5?"right":"left"}this._iconShapeMap={};var B=this;for(var y=0;y<D;y++){r={type:"icon",zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:u,y:q,width:A,height:A,iconType:this._iconList[y],lineWidth:1,strokeColor:this._featureColor[this._iconList[y]]||x[y%x.length],brushType:"stroke"},highlightStyle:{lineWidth:1,text:v.showTitle?this._featureTitle[this._iconList[y]]:undefined,textFont:w,textPosition:C,strokeColor:this._featureColor[this._iconList[y]]||x[y%x.length]},hoverable:true,clickable:true};if(this._featureIcon[this._iconList[y]]){r.style.image=this._featureIcon[this._iconList[y]].replace(new RegExp("^image:\\/\\/"),"");r.style.opacity=0.8;r.highlightStyle.opacity=1;r.type="image"}if(v.orient==="horizontal"){if(y===0&&t==="left"){r.highlightStyle.textPosition="specific";r.highlightStyle.textAlign=t;r.highlightStyle.textBaseline=s;r.highlightStyle.textX=u;r.highlightStyle.textY=s==="top"?q+A+10:q-10}if(y===D-1&&t==="right"){r.highlightStyle.textPosition="specific";r.highlightStyle.textAlign=t;r.highlightStyle.textBaseline=s;r.highlightStyle.textX=u+A;r.highlightStyle.textY=s==="top"?q+A+10:q-10}}switch(this._iconList[y]){case"mark":r.onclick=B._onMark;break;case"markUndo":r.onclick=B._onMarkUndo;break;case"markClear":r.onclick=B._onMarkClear;break;case"dataZoom":r.onclick=B._onDataZoom;break;case"dataZoomReset":r.onclick=B._onDataZoomReset;break;case"dataView":if(!this._dataView){var z=e("./dataView");this._dataView=new z(this.ecTheme,this.messageCenter,this.zr,this.option,this.myChart)}r.onclick=B._onDataView;break;case"restore":r.onclick=B._onRestore;break;case"saveAsImage":r.onclick=B._onSaveAsImage;break;default:if(this._iconList[y].match("Chart")){r._name=this._iconList[y].replace("Chart","");r.onclick=B._onMagicType}else{r.onclick=B._onCustomHandler}break}if(r.type==="icon"){r=new d(r)}else{if(r.type==="image"){r=new a(r)}}this.shapeList.push(r);this._iconShapeMap[this._iconList[y]]=r;if(v.orient==="horizontal"){u+=A+p}else{q+=A+p}}},_buildBackground:function(){var p=this.option.toolbox;var q=this.reformCssArray(this.option.toolbox.padding);this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-q[3],y:this._itemGroupLocation.y-q[0],width:this._itemGroupLocation.width+q[3]+q[1],height:this._itemGroupLocation.height+q[0]+q[2],brushType:p.borderWidth===0?"fill":"both",color:p.backgroundColor,strokeColor:p.borderColor,lineWidth:p.borderWidth}}))},_getItemGroupLocation:function(){var r=this.option.toolbox;var v=this.reformCssArray(this.option.toolbox.padding);var B=this._iconList.length;var p=r.itemGap;var z=r.itemSize;var s=0;var t=0;if(r.orient==="horizontal"){s=(z+p)*B-p;t=z}else{t=(z+p)*B-p;s=z}var w;var A=this.zr.getWidth();switch(r.x){case"center":w=Math.floor((A-s)/2);break;case"left":w=v[3]+r.borderWidth;break;case"right":w=A-s-v[1]-r.borderWidth;break;default:w=r.x-0;w=isNaN(w)?0:w;break}var u;var q=this.zr.getHeight();switch(r.y){case"top":u=v[0]+r.borderWidth;break;case"bottom":u=q-t-v[2]-r.borderWidth;break;case"center":u=Math.floor((q-t)/2);break;default:u=r.y-0;u=isNaN(u)?0:u;break}return{x:w,y:u,width:s,height:t}},__onmousemove:function(p){if(this._marking){this._markShape.style.xEnd=n.getX(p.event);this._markShape.style.yEnd=n.getY(p.event);this.zr.addHoverShape(this._markShape)}if(this._zooming){this._zoomShape.style.width=n.getX(p.event)-this._zoomShape.style.x;this._zoomShape.style.height=n.getY(p.event)-this._zoomShape.style.y;this.zr.addHoverShape(this._zoomShape);this.dom.style.cursor="crosshair";n.stop(p.event)}if(this._zoomStart&&(this.dom.style.cursor!="pointer"&&this.dom.style.cursor!="move")){this.dom.style.cursor="crosshair"}},__onmousedown:function(r){if(r.target){return}this._zooming=true;var p=n.getX(r.event);var s=n.getY(r.event);var q=this.option.dataZoom||{};this._zoomShape=new o({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:p,y:s,width:1,height:1,brushType:"both"},highlightStyle:{lineWidth:2,color:q.fillerColor||l.dataZoom.fillerColor,strokeColor:q.handleColor||l.dataZoom.handleColor,brushType:"both"}});this.zr.addHoverShape(this._zoomShape);return true},__onmouseup:function(){if(!this._zoomShape||Math.abs(this._zoomShape.style.width)<10||Math.abs(this._zoomShape.style.height)<10){this._zooming=false;return true}if(this._zooming&&this.component.dataZoom){this._zooming=false;var p=this.component.dataZoom.rectZoom(this._zoomShape.style);if(p){this._zoomQueue.push({start:p.start,end:p.end,start2:p.start2,end2:p.end2});this._iconEnable(this._iconShapeMap.dataZoomReset);this.zr.refreshNextFrame()}}return true},__onclick:function(q){if(q.target){return}if(this._marking){this._marking=false;this._markShapeList.push(this._markShape);this._iconEnable(this._iconShapeMap.markUndo);this._iconEnable(this._iconShapeMap.markClear);this.zr.addShape(this._markShape);this.zr.refreshNextFrame()}else{if(this._markStart){this._marking=true;var p=n.getX(q.event);var r=n.getY(q.event);this._markShape=new b({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{xStart:p,yStart:r,xEnd:p,yEnd:r,lineWidth:this.query(this.option,"toolbox.feature.mark.lineStyle.width"),strokeColor:this.query(this.option,"toolbox.feature.mark.lineStyle.color"),lineType:this.query(this.option,"toolbox.feature.mark.lineStyle.type")}});this.zr.addHoverShape(this._markShape)}}},__onMark:function(r){var q=r.target;if(this._marking||this._markStart){this._resetMark();this.zr.refreshNextFrame()}else{this._resetZoom();this.zr.modShape(q.id,{style:{strokeColor:this._enableColor}});this.zr.refreshNextFrame();this._markStart=true;var p=this;setTimeout(function(){p.zr&&p.zr.on(h.EVENT.CLICK,p._onclick)&&p.zr.on(h.EVENT.MOUSEMOVE,p._onmousemove)},10)}return true},__onMarkUndo:function(){if(this._marking){this._marking=false}else{var p=this._markShapeList.length;if(p>=1){var q=this._markShapeList[p-1];this.zr.delShape(q.id);this.zr.refreshNextFrame();this._markShapeList.pop();if(p===1){this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear)}}}return true},__onMarkClear:function(){if(this._marking){this._marking=false}var p=this._markShapeList.length;if(p>0){while(p--){this.zr.delShape(this._markShapeList.pop().id)}this._iconDisable(this._iconShapeMap.markUndo);this._iconDisable(this._iconShapeMap.markClear);this.zr.refreshNextFrame()}return true},__onDataZoom:function(r){var q=r.target;if(this._zooming||this._zoomStart){this._resetZoom();this.zr.refreshNextFrame();this.dom.style.cursor="default"}else{this._resetMark();this.zr.modShape(q.id,{style:{strokeColor:this._enableColor}});this.zr.refreshNextFrame();this._zoomStart=true;var p=this;setTimeout(function(){p.zr&&p.zr.on(h.EVENT.MOUSEDOWN,p._onmousedown)&&p.zr.on(h.EVENT.MOUSEUP,p._onmouseup)&&p.zr.on(h.EVENT.MOUSEMOVE,p._onmousemove)},10);this.dom.style.cursor="crosshair"}return true},__onDataZoomReset:function(){if(this._zooming){this._zooming=false}this._zoomQueue.pop();if(this._zoomQueue.length>0){this.component.dataZoom.absoluteZoom(this._zoomQueue[this._zoomQueue.length-1])}else{this.component.dataZoom.rectZoom();this._iconDisable(this._iconShapeMap.dataZoomReset);this.zr.refreshNextFrame()}return true},_resetMark:function(){this._marking=false;if(this._markStart){this._markStart=false;if(this._iconShapeMap.mark){this.zr.modShape(this._iconShapeMap.mark.id,{style:{strokeColor:this._iconShapeMap.mark.highlightStyle.strokeColor}})}this.zr.un(h.EVENT.CLICK,this._onclick);this.zr.un(h.EVENT.MOUSEMOVE,this._onmousemove)}},_resetZoom:function(){this._zooming=false;if(this._zoomStart){this._zoomStart=false;if(this._iconShapeMap.dataZoom){this.zr.modShape(this._iconShapeMap.dataZoom.id,{style:{strokeColor:this._iconShapeMap.dataZoom.highlightStyle.strokeColor}})}this.zr.un(h.EVENT.MOUSEDOWN,this._onmousedown);this.zr.un(h.EVENT.MOUSEUP,this._onmouseup);this.zr.un(h.EVENT.MOUSEMOVE,this._onmousemove)}},_iconDisable:function(p){if(p.type!="image"){this.zr.modShape(p.id,{hoverable:false,clickable:false,style:{strokeColor:this._disableColor}})}else{this.zr.modShape(p.id,{hoverable:false,clickable:false,style:{opacity:0.3}})}},_iconEnable:function(p){if(p.type!="image"){this.zr.modShape(p.id,{hoverable:true,clickable:true,style:{strokeColor:p.highlightStyle.strokeColor}})}else{this.zr.modShape(p.id,{hoverable:true,clickable:true,style:{opacity:0.8}})}},__onDataView:function(){this._dataView.show(this.option);return true},__onRestore:function(){this._resetMark();this._resetZoom();this.messageCenter.dispatch(l.EVENT.RESTORE,null,null,this.myChart);return true},__onSaveAsImage:function(){var t=this.option.toolbox.feature.saveAsImage;var r=t.type||"png";if(r!="png"&&r!="jpeg"){r="png"}var s;if(!this.myChart.isConnected()){s=this.zr.toDataURL("image/"+r,this.option.backgroundColor&&this.option.backgroundColor.replace(" ","")==="rgba(0,0,0,0)"?"#fff":this.option.backgroundColor)}else{s=this.myChart.getConnectedDataURL(r)}var q=document.createElement("div");q.id="__echarts_download_wrap__";q.style.cssText="position:fixed;z-index:99999;display:block;top:0;left:0;background-color:rgba(33,33,33,0.5);text-align:center;width:100%;height:100%;line-height:"+document.documentElement.clientHeight+"px;";var p=document.createElement("a");p.href=s;p.setAttribute("download",(t.name?t.name:this.option.title&&(this.option.title.text||this.option.title.subtext)?this.option.title.text||this.option.title.subtext:"ECharts")+"."+r);p.innerHTML='<img style="vertical-align:middle" src="'+s+'" title="'+(!!window.ActiveXObject||"ActiveXObject" in window?"右键->图片另存为":t.lang?t.lang[0]:"点击保存")+'"/>';q.appendChild(p);document.body.appendChild(q);p=null;q=null;setTimeout(function(){var u=document.getElementById("__echarts_download_wrap__");if(u){u.onclick=function(){var v=document.getElementById("__echarts_download_wrap__");v.onclick=null;v.innerHTML="";document.body.removeChild(v);v=null};u=null}},500);return},__onMagicType:function(q){this._resetMark();var p=q.target._name;if(!this._magicType[p]){this._magicType[p]=true;if(p===l.CHART_TYPE_LINE){this._magicType[l.CHART_TYPE_BAR]=false}else{if(p===l.CHART_TYPE_BAR){this._magicType[l.CHART_TYPE_LINE]=false}}if(p===l.CHART_TYPE_PIE){this._magicType[l.CHART_TYPE_FUNNEL]=false}else{if(p===l.CHART_TYPE_FUNNEL){this._magicType[l.CHART_TYPE_PIE]=false}}if(p===l.CHART_TYPE_FORCE){this._magicType[l.CHART_TYPE_CHORD]=false}else{if(p===l.CHART_TYPE_CHORD){this._magicType[l.CHART_TYPE_FORCE]=false}}if(p===m){this._magicType[k]=false}else{if(p===k){this._magicType[m]=false}}this.messageCenter.dispatch(l.EVENT.MAGIC_TYPE_CHANGED,q.event,{magicType:this._magicType},this.myChart)}return true},setMagicType:function(p){this._resetMark();this._magicType=p;!this._isSilence&&this.messageCenter.dispatch(l.EVENT.MAGIC_TYPE_CHANGED,null,{magicType:this._magicType},this.myChart)},__onCustomHandler:function(r){var q=r.target.style.iconType;var p=this.option.toolbox.feature[q].onclick;if(typeof p==="function"){p.call(this,this.option)}},reset:function(w,q){q&&this.clear();if(this.query(w,"toolbox.show")&&this.query(w,"toolbox.feature.magicType.show")){var s=w.toolbox.feature.magicType.type;var v=s.length;this._magicMap={};while(v--){this._magicMap[s[v]]=true}v=w.series.length;var r;var t;while(v--){r=w.series[v].type;if(this._magicMap[r]){t=w.xAxis instanceof Array?w.xAxis[w.series[v].xAxisIndex||0]:w.xAxis;if(t&&(t.type||"category")==="category"){t.__boundaryGap=t.boundaryGap!=null?t.boundaryGap:true}t=w.yAxis instanceof Array?w.yAxis[w.series[v].yAxisIndex||0]:w.yAxis;if(t&&t.type==="category"){t.__boundaryGap=t.boundaryGap!=null?t.boundaryGap:true}w.series[v].__type=r;w.series[v].__itemStyle=f.clone(w.series[v].itemStyle||{})}if(this._magicMap[m]||this._magicMap[k]){w.series[v].__stack=w.series[v].stack}}}this._magicType=q?{}:this._magicType||{};for(var y in this._magicType){if(this._magicType[y]){this.option=w;this.getMagicOption();break}}var x=w.dataZoom;if(x&&x.show){var p=x.start!=null&&x.start>=0&&x.start<=100?x.start:0;var u=x.end!=null&&x.end>=0&&x.end<=100?x.end:100;if(p>u){p=p+u;u=p-u;p=p-u}this._zoomQueue=[{start:p,end:u,start2:0,end2:100}]}else{this._zoomQueue=[]}},getMagicOption:function(){var s;var r;if(this._magicType[l.CHART_TYPE_LINE]||this._magicType[l.CHART_TYPE_BAR]){var t=this._magicType[l.CHART_TYPE_LINE]?false:true;for(var q=0,p=this.option.series.length;q<p;q++){r=this.option.series[q].type;if(r==l.CHART_TYPE_LINE||r==l.CHART_TYPE_BAR){s=this.option.xAxis instanceof Array?this.option.xAxis[this.option.series[q].xAxisIndex||0]:this.option.xAxis;if(s&&(s.type||"category")==="category"){s.boundaryGap=t?true:s.__boundaryGap}s=this.option.yAxis instanceof Array?this.option.yAxis[this.option.series[q].yAxisIndex||0]:this.option.yAxis;if(s&&s.type==="category"){s.boundaryGap=t?true:s.__boundaryGap}}}this._defaultMagic(l.CHART_TYPE_LINE,l.CHART_TYPE_BAR)}this._defaultMagic(l.CHART_TYPE_CHORD,l.CHART_TYPE_FORCE);this._defaultMagic(l.CHART_TYPE_PIE,l.CHART_TYPE_FUNNEL);if(this._magicType[m]||this._magicType[k]){for(var q=0,p=this.option.series.length;q<p;q++){if(this._magicType[m]){this.option.series[q].stack="_ECHARTS_STACK_KENER_2014_";r=m}else{if(this._magicType[k]){this.option.series[q].stack=null;r=k}}if(this._featureOption[r+"Chart"]){f.merge(this.option.series[q],this._featureOption[r+"Chart"]||{},true)}}}return this.option},_defaultMagic:function(r,p){if(this._magicType[r]||this._magicType[p]){for(var s=0,q=this.option.series.length;s<q;s++){var t=this.option.series[s].type;if(t==r||t==p){this.option.series[s].type=this._magicType[r]?r:p;this.option.series[s].itemStyle=f.clone(this.option.series[s].__itemStyle);t=this.option.series[s].type;if(this._featureOption[t+"Chart"]){f.merge(this.option.series[s],this._featureOption[t+"Chart"]||{},true)}}}}},silence:function(p){this._isSilence=p},resize:function(){this._resetMark();this.clear();if(this.option&&this.option.toolbox&&this.option.toolbox.show){this._buildShape()}if(this._dataView){this._dataView.resize()}},hideDataView:function(){if(this._dataView){this._dataView.hide()}},clear:function(p){if(this.zr){this.zr.delShape(this.shapeList);this.shapeList=[];if(!p){this.zr.delShape(this._markShapeList);this._markShapeList=[]}}},onbeforDispose:function(){if(this._dataView){this._dataView.dispose();this._dataView=null}this._markShapeList=null},refresh:function(p){if(p){this._resetMark();this._resetZoom();p.toolbox=this.reformOption(p.toolbox);this.option=p;this.clear(true);if(p.toolbox.show){this._buildShape()}this.hideDataView()}}};f.inherits(g,j);e("../component").define("toolbox",g);return g});define("echarts/component",[],function(){var a={};var b={};a.define=function(d,c){b[d]=c;return a};a.get=function(c){return b[c]};return a});define("echarts/component/title",["./base","zrender/shape/Text","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","zrender/tool/color","../component"],function(c,f,b){var g=c("./base");var d=c("zrender/shape/Text");var j=c("zrender/shape/Rectangle");var i=c("../config");i.title={zlevel:0,z:6,show:true,text:"",subtext:"",x:"left",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:5,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}};var e=c("zrender/tool/util");var k=c("zrender/tool/area");var a=c("zrender/tool/color");function h(o,l,p,n,m){g.call(this,o,l,p,n,m);this.refresh(n)}h.prototype={type:i.COMPONENT_TYPE_TITLE,_buildShape:function(){if(!this.titleOption.show){return}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var n=0,m=this.shapeList.length;n<m;n++){this.zr.addShape(this.shapeList[n])}},_buildItem:function(){var A=this.titleOption.text;var u=this.titleOption.link;var r=this.titleOption.target;var w=this.titleOption.subtext;var s=this.titleOption.sublink;var q=this.titleOption.subtarget;var o=this.getFont(this.titleOption.textStyle);var l=this.getFont(this.titleOption.subtextStyle);var v=this._itemGroupLocation.x;var t=this._itemGroupLocation.y;var n=this._itemGroupLocation.width;var z=this._itemGroupLocation.height;var m={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:t,color:this.titleOption.textStyle.color,text:A,textFont:o,textBaseline:"top"},highlightStyle:{color:a.lift(this.titleOption.textStyle.color,1),brushType:"fill"},hoverable:false};if(u){m.hoverable=true;m.clickable=true;m.onclick=function(){if(!r||r!="self"){window.open(u)}else{window.location=u}}}var p={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{y:t+z,color:this.titleOption.subtextStyle.color,text:w,textFont:l,textBaseline:"bottom"},highlightStyle:{color:a.lift(this.titleOption.subtextStyle.color,1),brushType:"fill"},hoverable:false};if(s){p.hoverable=true;p.clickable=true;p.onclick=function(){if(!q||q!="self"){window.open(s)}else{window.location=s}}}switch(this.titleOption.x){case"center":m.style.x=p.style.x=v+n/2;m.style.textAlign=p.style.textAlign="center";break;case"left":m.style.x=p.style.x=v;m.style.textAlign=p.style.textAlign="left";break;case"right":m.style.x=p.style.x=v+n;m.style.textAlign=p.style.textAlign="right";break;default:v=this.titleOption.x-0;v=isNaN(v)?0:v;m.style.x=p.style.x=v;break}if(this.titleOption.textAlign){m.style.textAlign=p.style.textAlign=this.titleOption.textAlign}this.shapeList.push(new d(m));w!==""&&this.shapeList.push(new d(p))},_buildBackground:function(){var l=this.reformCssArray(this.titleOption.padding);this.shapeList.push(new j({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-l[3],y:this._itemGroupLocation.y-l[0],width:this._itemGroupLocation.width+l[3]+l[1],height:this._itemGroupLocation.height+l[0]+l[2],brushType:this.titleOption.borderWidth===0?"fill":"both",color:this.titleOption.backgroundColor,strokeColor:this.titleOption.borderColor,lineWidth:this.titleOption.borderWidth}}))},_getItemGroupLocation:function(){var r=this.reformCssArray(this.titleOption.padding);var u=this.titleOption.text;var s=this.titleOption.subtext;var n=this.getFont(this.titleOption.textStyle);var m=this.getFont(this.titleOption.subtextStyle);var o=Math.max(k.getTextWidth(u,n),k.getTextWidth(s,m));var p=k.getTextHeight(u,n)+(s===""?0:this.titleOption.itemGap+k.getTextHeight(s,m));var t;var v=this.zr.getWidth();switch(this.titleOption.x){case"center":t=Math.floor((v-o)/2);break;case"left":t=r[3]+this.titleOption.borderWidth;break;case"right":t=v-o-r[1]-this.titleOption.borderWidth;break;default:t=this.titleOption.x-0;t=isNaN(t)?0:t;break}var q;var l=this.zr.getHeight();switch(this.titleOption.y){case"top":q=r[0]+this.titleOption.borderWidth;break;case"bottom":q=l-p-r[2]-this.titleOption.borderWidth;break;case"center":q=Math.floor((l-p)/2);break;default:q=this.titleOption.y-0;q=isNaN(q)?0:q;break}return{x:t,y:q,width:o,height:p}},refresh:function(l){if(l){this.option=l;this.option.title=this.reformOption(this.option.title);this.titleOption=this.option.title;this.titleOption.textStyle=this.getTextStyle(this.titleOption.textStyle);this.titleOption.subtextStyle=this.getTextStyle(this.titleOption.subtextStyle)}this.clear();this._buildShape()}};e.inherits(h,g);c("../component").define("title",h);return h});define("echarts/component/tooltip",["./base","../util/shape/Cross","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/ecData","zrender/config","zrender/tool/event","zrender/tool/area","zrender/tool/color","zrender/tool/util","zrender/shape/Base","../component"],function(f,i,e){var j=f("./base");var a=f("../util/shape/Cross");var d=f("zrender/shape/Line");var p=f("zrender/shape/Rectangle");var k=new p({});var n=f("../config");n.tooltip={zlevel:1,z:8,show:true,showContent:true,trigger:"item",islandFormatter:"{a} <br/>{b} : {c}",showDelay:20,hideDelay:100,transitionDuration:0.4,enterable:false,backgroundColor:"rgba(0,0,0,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,axisPointer:{type:"line",lineStyle:{color:"#48b",width:2,type:"solid"},crossStyle:{color:"#1e90ff",width:1,type:"dashed"},shadowStyle:{color:"rgba(150,150,150,0.3)",width:"auto",type:"default"}},textStyle:{color:"#fff"}};var c=f("../util/ecData");var h=f("zrender/config");var o=f("zrender/tool/event");var q=f("zrender/tool/area");var b=f("zrender/tool/color");var g=f("zrender/tool/util");var m=f("zrender/shape/Base");function l(v,r,w,u,t){j.call(this,v,r,w,u,t);this.dom=t.dom;var s=this;s._onmousemove=function(x){return s.__onmousemove(x)};s._onglobalout=function(x){return s.__onglobalout(x)};this.zr.on(h.EVENT.MOUSEMOVE,s._onmousemove);this.zr.on(h.EVENT.GLOBALOUT,s._onglobalout);s._hide=function(x){return s.__hide(x)};s._tryShow=function(x){return s.__tryShow(x)};s._refixed=function(x){return s.__refixed(x)};s._setContent=function(y,x){return s.__setContent(y,x)};this._tDom=this._tDom||document.createElement("div");this._tDom.onselectstart=function(){return false};this._tDom.onmouseover=function(){s._mousein=true};this._tDom.onmouseout=function(){s._mousein=false};this._tDom.className="echarts-tooltip";this._tDom.style.position="absolute";this.hasAppend=false;this._axisLineShape&&this.zr.delShape(this._axisLineShape.id);this._axisLineShape=new d({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:true,hoverable:false});this.shapeList.push(this._axisLineShape);this.zr.addShape(this._axisLineShape);this._axisShadowShape&&this.zr.delShape(this._axisShadowShape.id);this._axisShadowShape=new d({zlevel:this.getZlevelBase(),z:1,invisible:true,hoverable:false});this.shapeList.push(this._axisShadowShape);this.zr.addShape(this._axisShadowShape);this._axisCrossShape&&this.zr.delShape(this._axisCrossShape.id);this._axisCrossShape=new a({zlevel:this.getZlevelBase(),z:this.getZBase(),invisible:true,hoverable:false});this.shapeList.push(this._axisCrossShape);this.zr.addShape(this._axisCrossShape);this.showing=false;this.refresh(u)}l.prototype={type:n.COMPONENT_TYPE_TOOLTIP,_gCssText:"position:absolute;display:block;border-style:solid;white-space:nowrap;",_style:function(s){if(!s){return""}var t=[];if(s.transitionDuration){var r="left "+s.transitionDuration+"s,top "+s.transitionDuration+"s";t.push("transition:"+r);t.push("-moz-transition:"+r);t.push("-webkit-transition:"+r);t.push("-o-transition:"+r)}if(s.backgroundColor){t.push("background-Color:"+b.toHex(s.backgroundColor));t.push("filter:alpha(opacity=70)");t.push("background-Color:"+s.backgroundColor)}if(s.borderWidth!=null){t.push("border-width:"+s.borderWidth+"px")}if(s.borderColor!=null){t.push("border-color:"+s.borderColor)}if(s.borderRadius!=null){t.push("border-radius:"+s.borderRadius+"px");t.push("-moz-border-radius:"+s.borderRadius+"px");t.push("-webkit-border-radius:"+s.borderRadius+"px");t.push("-o-border-radius:"+s.borderRadius+"px")}var v=s.textStyle;if(v){v.color&&t.push("color:"+v.color);v.decoration&&t.push("text-decoration:"+v.decoration);v.align&&t.push("text-align:"+v.align);v.fontFamily&&t.push("font-family:"+v.fontFamily);v.fontSize&&t.push("font-size:"+v.fontSize+"px");v.fontSize&&t.push("line-height:"+Math.round(v.fontSize*3/2)+"px");v.fontStyle&&t.push("font-style:"+v.fontStyle);v.fontWeight&&t.push("font-weight:"+v.fontWeight)}var u=s.padding;if(u!=null){u=this.reformCssArray(u);t.push("padding:"+u[0]+"px "+u[1]+"px "+u[2]+"px "+u[3]+"px")}t=t.join(";")+";";return t},__hide:function(){this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;if(this._tDom){this._tDom.style.display="none"}var r=false;if(!this._axisLineShape.invisible){this._axisLineShape.invisible=true;this.zr.modShape(this._axisLineShape.id);r=true}if(!this._axisShadowShape.invisible){this._axisShadowShape.invisible=true;this.zr.modShape(this._axisShadowShape.id);r=true}if(!this._axisCrossShape.invisible){this._axisCrossShape.invisible=true;this.zr.modShape(this._axisCrossShape.id);r=true}if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this._lastTipShape=false;this.shapeList.length=2}r&&this.zr.refreshNextFrame();this.showing=false},_show:function(s,r,w,u){var v=this._tDom.offsetHeight;var t=this._tDom.offsetWidth;if(s){if(typeof s==="function"){s=s([r,w])}if(s instanceof Array){r=s[0];w=s[1]}}if(r+t>this._zrWidth){r-=t+40}if(w+v>this._zrHeight){w-=v-20}if(w<20){w=0}this._tDom.style.cssText=this._gCssText+this._defaultCssText+(u?u:"")+"left:"+r+"px;top:"+w+"px;";if(v<10||t<10){setTimeout(this._refixed,20)}this.showing=true},__refixed:function(){if(this._tDom){var s="";var t=this._tDom.offsetHeight;var r=this._tDom.offsetWidth;if(this._tDom.offsetLeft+r>this._zrWidth){s+="left:"+(this._zrWidth-r-20)+"px;"}if(this._tDom.offsetTop+t>this._zrHeight){s+="top:"+(this._zrHeight-t-10)+"px;"}if(s!==""){this._tDom.style.cssText+=s}}},__tryShow:function(){var t;var r;if(!this._curTarget){this._findPolarTrigger()||this._findAxisTrigger()}else{if(this._curTarget._type==="island"&&this.option.tooltip.show){this._showItemTrigger();return}var s=c.get(this._curTarget,"series");var u=c.get(this._curTarget,"data");t=this.deepQuery([u,s,this.option],"tooltip.show");if(s==null||u==null||!t){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}else{r=this.deepQuery([u,s,this.option],"tooltip.trigger");r==="axis"?this._showAxisTrigger(s.xAxisIndex,s.yAxisIndex,c.get(this._curTarget,"dataIndex")):this._showItemTrigger()}}},_findAxisTrigger:function(){if(!this.component.xAxis||!this.component.yAxis){this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var v=this.option.series;var s;var u;for(var t=0,r=v.length;t<r;t++){if(this.deepQuery([v[t],this.option],"tooltip.trigger")==="axis"){s=v[t].xAxisIndex||0;u=v[t].yAxisIndex||0;if(this.component.xAxis.getAxis(s)&&this.component.xAxis.getAxis(s).type===n.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(s,u,this._getNearestDataIndex("x",this.component.xAxis.getAxis(s)));return}else{if(this.component.yAxis.getAxis(u)&&this.component.yAxis.getAxis(u).type===n.COMPONENT_TYPE_AXIS_CATEGORY){this._showAxisTrigger(s,u,this._getNearestDataIndex("y",this.component.yAxis.getAxis(u)));return}else{this._showAxisTrigger(s,u,-1);return}}}}if(this.option.tooltip.axisPointer.type==="cross"){this._showAxisTrigger(-1,-1,-1)}},_findPolarTrigger:function(){if(!this.component.polar){return false}var r=o.getX(this._event);var u=o.getY(this._event);var s=this.component.polar.getNearestIndex([r,u]);var t;if(s){t=s.valueIndex;s=s.polarIndex}else{s=-1}if(s!=-1){return this._showPolarTrigger(s,t)}return false},_getNearestDataIndex:function(A,v){var B=-1;var C=o.getX(this._event);var z=o.getY(this._event);if(A==="x"){var u;var D;var t=this.component.grid.getXend();var s=v.getCoordByIndex(B);while(s<t){D=s;if(s<=C){u=s}else{break}s=v.getCoordByIndex(++B)}if(B<=0){B=0}else{if(C-u<=D-C){B-=1}else{if(v.getNameByIndex(B)==null){B-=1}}}return B}else{var w;var r;var E=this.component.grid.getY();var s=v.getCoordByIndex(B);while(s>E){w=s;if(s>=z){r=s}else{break}s=v.getCoordByIndex(++B)}if(B<=0){B=0}else{if(z-w>=r-z){B-=1}else{if(v.getNameByIndex(B)==null){B-=1}}}return B}return -1},_showAxisTrigger:function(t,B,M){!this._event.connectTrigger&&this.messageCenter.dispatch(n.EVENT.TOOLTIP_IN_GRID,this._event,null,this.myChart);if(this.component.xAxis==null||this.component.yAxis==null||t==null||B==null){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay);return}var w=this.option.series;var J=[];var I=[];var A;var G;var N;var D;var s="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show){return}G=this.option.tooltip.formatter;N=this.option.tooltip.position}var F=t!=-1&&this.component.xAxis.getAxis(t).type===n.COMPONENT_TYPE_AXIS_CATEGORY?"xAxis":B!=-1&&this.component.yAxis.getAxis(B).type===n.COMPONENT_TYPE_AXIS_CATEGORY?"yAxis":false;var v;var u;if(F){var z=F=="xAxis"?t:B;A=this.component[F].getAxis(z);for(var H=0,E=w.length;H<E;H++){if(!this._isSelected(w[H].name)){continue}if(w[H][F+"Index"]===z&&this.deepQuery([w[H],this.option],"tooltip.trigger")==="axis"){D=this.query(w[H],"tooltip.showContent")||D;G=this.query(w[H],"tooltip.formatter")||G;N=this.query(w[H],"tooltip.position")||N;s+=this._style(this.query(w[H],"tooltip"));if(w[H].stack!=null&&F=="xAxis"){J.unshift(w[H]);I.unshift(H)}else{J.push(w[H]);I.push(H)}}}this.messageCenter.dispatch(n.EVENT.TOOLTIP_HOVER,this._event,{seriesIndex:I,dataIndex:M},this.myChart);var r;if(F=="xAxis"){v=this.subPixelOptimize(A.getCoordByIndex(M),this._axisLineWidth);u=o.getY(this._event);r=[v,this.component.grid.getY(),v,this.component.grid.getYend()]}else{v=o.getX(this._event);u=this.subPixelOptimize(A.getCoordByIndex(M),this._axisLineWidth);r=[this.component.grid.getX(),u,this.component.grid.getXend(),u]}this._styleAxisPointer(J,r[0],r[1],r[2],r[3],A.getGap(),v,u)}else{v=o.getX(this._event);u=o.getY(this._event);this._styleAxisPointer(w,this.component.grid.getX(),u,this.component.grid.getXend(),u,0,v,u);if(M>=0){this._showItemTrigger(true)}else{clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._tDom.style.display="none"}}if(J.length>0){this._lastItemTriggerId=-1;if(this._lastDataIndex!=M||this._lastSeriesIndex!=I[0]){this._lastDataIndex=M;this._lastSeriesIndex=I[0];var L;var C;if(typeof G==="function"){var K=[];for(var H=0,E=J.length;H<E;H++){L=J[H].data[M];C=this.getDataFromOption(L,"-");K.push({seriesIndex:I[H],seriesName:J[H].name||"",series:J[H],dataIndex:M,data:L,name:A.getNameByIndex(M),value:C,0:J[H].name||"",1:A.getNameByIndex(M),2:C,3:L})}this._curTicket="axis:"+M;this._tDom.innerHTML=G.call(this.myChart,K,this._curTicket,this._setContent)}else{if(typeof G==="string"){this._curTicket=NaN;G=G.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");for(var H=0,E=J.length;H<E;H++){G=G.replace("{a"+H+"}",this._encodeHTML(J[H].name||""));G=G.replace("{b"+H+"}",this._encodeHTML(A.getNameByIndex(M)));L=J[H].data[M];L=this.getDataFromOption(L,"-");G=G.replace("{c"+H+"}",L instanceof Array?L:this.numAddCommas(L))}this._tDom.innerHTML=G}else{this._curTicket=NaN;G=this._encodeHTML(A.getNameByIndex(M));for(var H=0,E=J.length;H<E;H++){G+="<br/>"+this._encodeHTML(J[H].name||"")+" : ";L=J[H].data[M];L=this.getDataFromOption(L,"-");G+=L instanceof Array?L:this.numAddCommas(L)}this._tDom.innerHTML=G}}}if(D===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(N,v+10,u+10,s)}},_showPolarTrigger:function(F,G){if(this.component.polar==null||F==null||G==null||G<0){return false}var u=this.option.series;var D=[];var C=[];var A;var H;var w;var s="";if(this.option.tooltip.trigger==="axis"){if(!this.option.tooltip.show){return false}A=this.option.tooltip.formatter;H=this.option.tooltip.position}var r=this.option.polar[F].indicator[G].text;for(var B=0,x=u.length;B<x;B++){if(!this._isSelected(u[B].name)){continue}if(u[B].polarIndex===F&&this.deepQuery([u[B],this.option],"tooltip.trigger")==="axis"){w=this.query(u[B],"tooltip.showContent")||w;A=this.query(u[B],"tooltip.formatter")||A;H=this.query(u[B],"tooltip.position")||H;s+=this._style(this.query(u[B],"tooltip"));D.push(u[B]);C.push(B)}}if(D.length>0){var t;var I;var v;var E=[];for(var B=0,x=D.length;B<x;B++){t=D[B].data;for(var z=0,y=t.length;z<y;z++){I=t[z];if(!this._isSelected(I.name)){continue}I=I!=null?I:{name:"",value:{dataIndex:"-"}};v=this.getDataFromOption(I.value[G]);E.push({seriesIndex:C[B],seriesName:D[B].name||"",series:D[B],dataIndex:G,data:I,name:I.name,indicator:r,value:v,0:D[B].name||"",1:I.name,2:v,3:r})}}if(E.length<=0){return}this._lastItemTriggerId=-1;if(this._lastDataIndex!=G||this._lastSeriesIndex!=C[0]){this._lastDataIndex=G;this._lastSeriesIndex=C[0];if(typeof A==="function"){this._curTicket="axis:"+G;this._tDom.innerHTML=A.call(this.myChart,E,this._curTicket,this._setContent)}else{if(typeof A==="string"){A=A.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");for(var B=0,x=E.length;B<x;B++){A=A.replace("{a"+B+"}",this._encodeHTML(E[B].seriesName));A=A.replace("{b"+B+"}",this._encodeHTML(E[B].name));A=A.replace("{c"+B+"}",this.numAddCommas(E[B].value));A=A.replace("{d"+B+"}",this._encodeHTML(E[B].indicator))}this._tDom.innerHTML=A}else{A=this._encodeHTML(E[0].name)+"<br/>"+this._encodeHTML(E[0].indicator)+" : "+this.numAddCommas(E[0].value);for(var B=1,x=E.length;B<x;B++){A+="<br/>"+this._encodeHTML(E[B].name)+"<br/>";A+=this._encodeHTML(E[B].indicator)+" : "+this.numAddCommas(E[B].value)}this._tDom.innerHTML=A}}}if(w===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(H,o.getX(this._event),o.getY(this._event),s);return true}},_showItemTrigger:function(D){if(!this._curTarget){return}var A=c.get(this._curTarget,"series");var u=c.get(this._curTarget,"seriesIndex");var v=c.get(this._curTarget,"data");var H=c.get(this._curTarget,"dataIndex");var r=c.get(this._curTarget,"name");var J=c.get(this._curTarget,"value");var E=c.get(this._curTarget,"special");var B=c.get(this._curTarget,"special2");var s=[v,A,this.option];var I;var z;var w;var C="";if(this._curTarget._type!="island"){var t=D?"axis":"item";if(this.option.tooltip.trigger===t){I=this.option.tooltip.formatter;z=this.option.tooltip.position}if(this.query(A,"tooltip.trigger")===t){w=this.query(A,"tooltip.showContent")||w;I=this.query(A,"tooltip.formatter")||I;z=this.query(A,"tooltip.position")||z;C+=this._style(this.query(A,"tooltip"))}w=this.query(v,"tooltip.showContent")||w;I=this.query(v,"tooltip.formatter")||I;z=this.query(v,"tooltip.position")||z;C+=this._style(this.query(v,"tooltip"))}else{this._lastItemTriggerId=NaN;w=this.deepQuery(s,"tooltip.showContent");I=this.deepQuery(s,"tooltip.islandFormatter");z=this.deepQuery(s,"tooltip.islandPosition")}this._lastDataIndex=-1;this._lastSeriesIndex=-1;if(this._lastItemTriggerId!==this._curTarget.id){this._lastItemTriggerId=this._curTarget.id;if(typeof I==="function"){this._curTicket=(A.name||"")+":"+H;this._tDom.innerHTML=I.call(this.myChart,{seriesIndex:u,seriesName:A.name||"",series:A,dataIndex:H,data:v,name:r,value:J,percent:E,indicator:E,value2:B,indicator2:B,0:A.name||"",1:r,2:J,3:E,4:B,5:v,6:u,7:H},this._curTicket,this._setContent)}else{if(typeof I==="string"){this._curTicket=NaN;I=I.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}");I=I.replace("{a0}",this._encodeHTML(A.name||"")).replace("{b0}",this._encodeHTML(r)).replace("{c0}",J instanceof Array?J:this.numAddCommas(J));I=I.replace("{d}","{d0}").replace("{d0}",E||"");I=I.replace("{e}","{e0}").replace("{e0}",c.get(this._curTarget,"special2")||"");this._tDom.innerHTML=I}else{this._curTicket=NaN;if(A.type===n.CHART_TYPE_RADAR&&E){this._tDom.innerHTML=this._itemFormatter.radar.call(this,A,r,J,E)}else{if(A.type===n.CHART_TYPE_EVENTRIVER){this._tDom.innerHTML=this._itemFormatter.eventRiver.call(this,A,r,J,v)}else{this._tDom.innerHTML=""+(A.name!=null?this._encodeHTML(A.name)+"<br/>":"")+(r===""?"":this._encodeHTML(r)+" : ")+(J instanceof Array?J:this.numAddCommas(J))}}}}}var G=o.getX(this._event);var F=o.getY(this._event);if(this.deepQuery(s,"tooltip.axisPointer.show")&&this.component.grid){this._styleAxisPointer([A],this.component.grid.getX(),F,this.component.grid.getXend(),F,0,G,F)}else{this._hide()}if(w===false||!this.option.tooltip.showContent){return}if(!this.hasAppend){this._tDom.style.left=this._zrWidth/2+"px";this._tDom.style.top=this._zrHeight/2+"px";this.dom.firstChild.appendChild(this._tDom);this.hasAppend=true}this._show(z,G+20,F-20,C)},_itemFormatter:{radar:function(v,s,w,r){var u="";u+=this._encodeHTML(s===""?v.name||"":s);u+=u===""?"":"<br />";for(var t=0;t<r.length;t++){u+=this._encodeHTML(r[t].text)+" : "+this.numAddCommas(w[t])+"<br />"}return u},chord:function(u,t,w,s,r){if(r==null){return this._encodeHTML(t)+" ("+this.numAddCommas(w)+")"}else{var x=this._encodeHTML(t);var v=this._encodeHTML(s);return""+(u.name!=null?this._encodeHTML(u.name)+"<br/>":"")+x+" -> "+v+" ("+this.numAddCommas(w)+")<br />"+v+" -> "+x+" ("+this.numAddCommas(r)+")"}},eventRiver:function(v,s,x,w){var u="";u+=this._encodeHTML(v.name===""?"":v.name+" : ");u+=this._encodeHTML(s);u+=u===""?"":"<br />";w=w.evolution;for(var t=0,r=w.length;t<r;t++){u+='<div style="padding-top:5px;">';if(!w[t].detail){continue}if(w[t].detail.img){u+='<img src="'+w[t].detail.img+'" style="float:left;width:40px;height:40px;">'}u+='<div style="margin-left:45px;">'+w[t].time+"<br/>";u+='<a href="'+w[t].detail.link+'" target="_blank">';u+=w[t].detail.text+"</a></div>";u+="</div>"}return u}},_styleAxisPointer:function(J,v,A,z,E,G,D,C){if(J.length>0){var t;var u;var L=this.option.tooltip.axisPointer;var s=L.type;var K={line:{},cross:{},shadow:{}};for(var F in K){K[F].color=L[F+"Style"].color;K[F].width=L[F+"Style"].width;K[F].type=L[F+"Style"].type}for(var I=0,H=J.length;I<H;I++){t=J[I];u=this.query(t,"tooltip.axisPointer.type");s=u||s;if(u){K[u].color=this.query(t,"tooltip.axisPointer."+u+"Style.color")||K[u].color;K[u].width=this.query(t,"tooltip.axisPointer."+u+"Style.width")||K[u].width;K[u].type=this.query(t,"tooltip.axisPointer."+u+"Style.type")||K[u].type}}if(s==="line"){var r=K.line.width;var B=v==z;this._axisLineShape.style={xStart:B?this.subPixelOptimize(v,r):v,yStart:B?A:this.subPixelOptimize(A,r),xEnd:B?this.subPixelOptimize(z,r):z,yEnd:B?E:this.subPixelOptimize(E,r),strokeColor:K.line.color,lineWidth:r,lineType:K.line.type};this._axisLineShape.invisible=false;this.zr.modShape(this._axisLineShape.id)}else{if(s==="cross"){var w=K.cross.width;this._axisCrossShape.style={brushType:"stroke",rect:this.component.grid.getArea(),x:this.subPixelOptimize(D,w),y:this.subPixelOptimize(C,w),text:("( "+this.component.xAxis.getAxis(0).getValueFromCoord(D)+" , "+this.component.yAxis.getAxis(0).getValueFromCoord(C)+" )").replace("  , "," ").replace(" ,  "," "),textPosition:"specific",strokeColor:K.cross.color,lineWidth:w,lineType:K.cross.type};if(this.component.grid.getXend()-D>100){this._axisCrossShape.style.textAlign="left";this._axisCrossShape.style.textX=D+10}else{this._axisCrossShape.style.textAlign="right";this._axisCrossShape.style.textX=D-10}if(C-this.component.grid.getY()>50){this._axisCrossShape.style.textBaseline="bottom";this._axisCrossShape.style.textY=C-10}else{this._axisCrossShape.style.textBaseline="top";this._axisCrossShape.style.textY=C+10}this._axisCrossShape.invisible=false;this.zr.modShape(this._axisCrossShape.id)}else{if(s==="shadow"){if(K.shadow.width==null||K.shadow.width==="auto"||isNaN(K.shadow.width)){K.shadow.width=G}if(v===z){if(Math.abs(this.component.grid.getX()-v)<2){K.shadow.width/=2;v=z=z+K.shadow.width/2}else{if(Math.abs(this.component.grid.getXend()-v)<2){K.shadow.width/=2;v=z=z-K.shadow.width/2}}}else{if(A===E){if(Math.abs(this.component.grid.getY()-A)<2){K.shadow.width/=2;A=E=E+K.shadow.width/2}else{if(Math.abs(this.component.grid.getYend()-A)<2){K.shadow.width/=2;A=E=E-K.shadow.width/2}}}}this._axisShadowShape.style={xStart:v,yStart:A,xEnd:z,yEnd:E,strokeColor:K.shadow.color,lineWidth:K.shadow.width};this._axisShadowShape.invisible=false;this.zr.modShape(this._axisShadowShape.id)}}}this.zr.refreshNextFrame()}},__onmousemove:function(y){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);if(this._mousein&&this._enterable){return}var w=y.target;var x=o.getX(y.event);var v=o.getY(y.event);if(!w){this._curTarget=false;this._event=y.event;this._event.zrenderX=x;this._event.zrenderY=v;if(this._needAxisTrigger&&this.component.grid&&q.isInside(k,this.component.grid.getArea(),x,v)){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{if(this._needAxisTrigger&&this.component.polar&&this.component.polar.isInside([x,v])!=-1){this._showingTicket=setTimeout(this._tryShow,this._showDelay)}else{!this._event.connectTrigger&&this.messageCenter.dispatch(n.EVENT.TOOLTIP_OUT_GRID,this._event,null,this.myChart);this._hidingTicket=setTimeout(this._hide,this._hideDelay)}}}else{this._curTarget=w;this._event=y.event;this._event.zrenderX=x;this._event.zrenderY=v;var s;if(this._needAxisTrigger&&this.component.polar&&(s=this.component.polar.isInside([x,v]))!=-1){var u=this.option.series;for(var t=0,r=u.length;t<r;t++){if(u[t].polarIndex===s&&this.deepQuery([u[t],this.option],"tooltip.trigger")==="axis"){this._curTarget=null;break}}}this._showingTicket=setTimeout(this._tryShow,this._showDelay)}},__onglobalout:function(){clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this._hidingTicket=setTimeout(this._hide,this._hideDelay)},__setContent:function(s,r){if(!this._tDom){return}if(s===this._curTicket){this._tDom.innerHTML=r}setTimeout(this._refixed,20)},ontooltipHover:function(u,t){if(!this._lastTipShape||this._lastTipShape&&this._lastTipShape.dataIndex!=u.dataIndex){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape);this.shapeList.length=2}for(var s=0,r=t.length;s<r;s++){t[s].zlevel=this.getZlevelBase();t[s].z=this.getZBase();t[s].style=m.prototype.getHighlightStyle(t[s].style,t[s].highlightStyle);t[s].draggable=false;t[s].hoverable=false;t[s].clickable=false;t[s].ondragend=null;t[s].ondragover=null;t[s].ondrop=null;this.shapeList.push(t[s]);this.zr.addShape(t[s])}this._lastTipShape={dataIndex:u.dataIndex,tipShape:t}}},ondragend:function(){this._hide()},onlegendSelected:function(r){this._selectedMap=r.selected},_setSelectedMap:function(){if(this.component.legend){this._selectedMap=g.clone(this.component.legend.getSelectedMap())}else{this._selectedMap={}}},_isSelected:function(r){if(this._selectedMap[r]!=null){return this._selectedMap[r]}else{return true}},showTip:function(I){if(!I){return}var E;var w=this.option.series;if(I.seriesIndex!=null){E=I.seriesIndex}else{var H=I.seriesName;for(var D=0,C=w.length;D<C;D++){if(w[D].name===H){E=D;break}}}var B=w[E];if(B==null){return}var z=this.myChart.chart[B.type];var s=this.deepQuery([B,this.option],"tooltip.trigger")==="axis";if(!z){return}if(s){var K=I.dataIndex;switch(z.type){case n.CHART_TYPE_LINE:case n.CHART_TYPE_BAR:case n.CHART_TYPE_K:case n.CHART_TYPE_RADAR:if(this.component.polar==null||B.data[0].value.length<=K){return}var J=B.polarIndex||0;var r=this.component.polar.getVector(J,K,"max");this._event={zrenderX:r[0],zrenderY:r[1]};this._showPolarTrigger(J,K);break}}else{var A=z.shapeList;var v;var t;switch(z.type){case n.CHART_TYPE_LINE:case n.CHART_TYPE_BAR:case n.CHART_TYPE_K:case n.CHART_TYPE_TREEMAP:case n.CHART_TYPE_SCATTER:var K=I.dataIndex;for(var D=0,C=A.length;D<C;D++){if(A[D]._mark==null&&c.get(A[D],"seriesIndex")==E&&c.get(A[D],"dataIndex")==K){this._curTarget=A[D];v=A[D].style.x;t=z.type!=n.CHART_TYPE_K?A[D].style.y:A[D].style.y[0];break}}break;case n.CHART_TYPE_RADAR:var K=I.dataIndex;for(var D=0,C=A.length;D<C;D++){if(A[D].type==="polygon"&&c.get(A[D],"seriesIndex")==E&&c.get(A[D],"dataIndex")==K){this._curTarget=A[D];var r=this.component.polar.getCenter(B.polarIndex||0);v=r[0];t=r[1];break}}break;case n.CHART_TYPE_PIE:var L=I.name;for(var D=0,C=A.length;D<C;D++){if(A[D].type==="sector"&&c.get(A[D],"seriesIndex")==E&&c.get(A[D],"name")==L){this._curTarget=A[D];var F=this._curTarget.style;var u=(F.startAngle+F.endAngle)/2*Math.PI/180;v=this._curTarget.style.x+Math.cos(u)*F.r/1.5;t=this._curTarget.style.y-Math.sin(u)*F.r/1.5;break}}break;case n.CHART_TYPE_MAP:var L=I.name;var G=B.mapType;for(var D=0,C=A.length;D<C;D++){if(A[D].type==="text"&&A[D]._mapType===G&&A[D].style._name===L){this._curTarget=A[D];v=this._curTarget.style.x+this._curTarget.position[0];t=this._curTarget.style.y+this._curTarget.position[1];break}}break;case n.CHART_TYPE_CHORD:var L=I.name;for(var D=0,C=A.length;D<C;D++){if(A[D].type==="sector"&&c.get(A[D],"name")==L){this._curTarget=A[D];var F=this._curTarget.style;var u=(F.startAngle+F.endAngle)/2*Math.PI/180;v=this._curTarget.style.x+Math.cos(u)*(F.r-2);t=this._curTarget.style.y-Math.sin(u)*(F.r-2);this.zr.trigger(h.EVENT.MOUSEMOVE,{zrenderX:v,zrenderY:t});return}}break;case n.CHART_TYPE_FORCE:var L=I.name;for(var D=0,C=A.length;D<C;D++){if(A[D].type==="circle"&&c.get(A[D],"name")==L){this._curTarget=A[D];v=this._curTarget.position[0];t=this._curTarget.position[1];break}}break}if(v!=null&&t!=null){this._event={zrenderX:v,zrenderY:t};this.zr.addHoverShape(this._curTarget);this.zr.refreshHover();this._showItemTrigger()}}},hideTip:function(){this._hide()},refresh:function(v){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}this._lastTipShape=false;this.shapeList.length=2;this._lastDataIndex=-1;this._lastSeriesIndex=-1;this._lastItemTriggerId=-1;if(v){this.option=v;this.option.tooltip=this.reformOption(this.option.tooltip);this.option.tooltip.textStyle=g.merge(this.option.tooltip.textStyle,this.ecTheme.textStyle);this._needAxisTrigger=false;if(this.option.tooltip.trigger==="axis"){this._needAxisTrigger=true}var u=this.option.series;for(var t=0,r=u.length;t<r;t++){if(this.query(u[t],"tooltip.trigger")==="axis"){this._needAxisTrigger=true;break}}this._showDelay=this.option.tooltip.showDelay;this._hideDelay=this.option.tooltip.hideDelay;this._defaultCssText=this._style(this.option.tooltip);this._setSelectedMap();this._axisLineWidth=this.option.tooltip.axisPointer.lineStyle.width;this._enterable=this.option.tooltip.enterable;if(!this._enterable&&this._tDom.className.indexOf(h.elementClassName)<0){this._tDom.className+=" "+h.elementClassName}}if(this.showing){var s=this;setTimeout(function(){s.zr.trigger(h.EVENT.MOUSEMOVE,s.zr.handler._event)},50)}},onbeforDispose:function(){if(this._lastTipShape&&this._lastTipShape.tipShape.length>0){this.zr.delShape(this._lastTipShape.tipShape)}clearTimeout(this._hidingTicket);clearTimeout(this._showingTicket);this.zr.un(h.EVENT.MOUSEMOVE,this._onmousemove);this.zr.un(h.EVENT.GLOBALOUT,this._onglobalout);if(this.hasAppend&&!!this.dom.firstChild){this.dom.firstChild.removeChild(this._tDom)}this._tDom=null},_encodeHTML:function(r){return String(r).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}};g.inherits(l,j);f("../component").define("tooltip",l);return l});define("echarts/component/legend",["./base","zrender/shape/Text","zrender/shape/Rectangle","zrender/shape/Sector","../util/shape/Icon","../util/shape/Candle","../config","zrender/tool/util","zrender/tool/area","../component"],function(d,j,b){var l=d("./base");var f=d("zrender/shape/Text");var o=d("zrender/shape/Rectangle");var h=d("zrender/shape/Sector");var c=d("../util/shape/Icon");var n=d("../util/shape/Candle");var m=d("../config");m.legend={zlevel:0,z:4,show:true,orient:"horizontal",x:"center",y:"top",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:20,itemHeight:14,textStyle:{color:"#333"},selectedMode:true};var e=d("zrender/tool/util");var p=d("zrender/tool/area");function a(t,k,u,s,r){if(!this.query(s,"legend.data")){console.error("option.legend.data has not been defined.");return}l.call(this,t,k,u,s,r);var q=this;q._legendSelected=function(v){q.__legendSelected(v)};q._dispatchHoverLink=function(v){return q.__dispatchHoverLink(v)};this._colorIndex=0;this._colorMap={};this._selectedMap={};this._hasDataMap={};this.refresh(s)}a.prototype={type:m.COMPONENT_TYPE_LEGEND,_buildShape:function(){if(!this.legendOption.show){return}this._itemGroupLocation=this._getItemGroupLocation();this._buildBackground();this._buildItem();for(var q=0,k=this.shapeList.length;q<k;q++){this.zr.addShape(this.shapeList[q])}},_buildItem:function(){var H=this.legendOption.data;var x=H.length;var E;var G;var A;var z;var u=this.legendOption.textStyle;var t;var r;var F;var k=this.zr.getWidth();var q=this.zr.getHeight();var w=this._itemGroupLocation.x;var v=this._itemGroupLocation.y;var s=this.legendOption.itemWidth;var B=this.legendOption.itemHeight;var y=this.legendOption.itemGap;var C;if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){w=this._itemGroupLocation.x+this._itemGroupLocation.width-s}for(var D=0;D<x;D++){t=e.merge(H[D].textStyle||{},u);r=this.getFont(t);E=this._getName(H[D]);F=this._getFormatterName(E);if(E===""){if(this.legendOption.orient==="horizontal"){w=this._itemGroupLocation.x;v+=B+y}else{this.legendOption.x==="right"?w-=this._itemGroupLocation.maxWidth+y:w+=this._itemGroupLocation.maxWidth+y;v=this._itemGroupLocation.y}continue}G=H[D].icon||this._getSomethingByName(E).type;C=this.getColor(E);if(this.legendOption.orient==="horizontal"){if(k-w<200&&s+5+p.getTextWidth(F,r)+(D===x-1||H[D+1]===""?0:y)>=k-w){w=this._itemGroupLocation.x;v+=B+y}}else{if(q-v<200&&B+(D===x-1||H[D+1]===""?0:y)>=q-v){this.legendOption.x==="right"?w-=this._itemGroupLocation.maxWidth+y:w+=this._itemGroupLocation.maxWidth+y;v=this._itemGroupLocation.y}}A=this._getItemShapeByType(w,v,s,B,this._selectedMap[E]&&this._hasDataMap[E]?C:"#ccc",G,C);A._name=E;A=new c(A);z={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:w+s+5,y:v+B/2,color:this._selectedMap[E]?t.color==="auto"?C:t.color:"#ccc",text:F,textFont:r,textBaseline:"middle"},highlightStyle:{color:C,brushType:"fill"},hoverable:!!this.legendOption.selectedMode,clickable:!!this.legendOption.selectedMode};if(this.legendOption.orient==="vertical"&&this.legendOption.x==="right"){z.style.x-=s+10;z.style.textAlign="right"}z._name=E;z=new f(z);if(this.legendOption.selectedMode){A.onclick=z.onclick=this._legendSelected;A.onmouseover=z.onmouseover=this._dispatchHoverLink;A.hoverConnect=z.id;z.hoverConnect=A.id}this.shapeList.push(A);this.shapeList.push(z);if(this.legendOption.orient==="horizontal"){w+=s+5+p.getTextWidth(F,r)+y}else{v+=B+y}}if(this.legendOption.orient==="horizontal"&&this.legendOption.x==="center"&&v!=this._itemGroupLocation.y){this._mLineOptimize()}},_getName:function(k){return typeof k.name!="undefined"?k.name:k},_getFormatterName:function(q){var k=this.legendOption.formatter;var r;if(typeof k==="function"){r=k.call(this.myChart,q)}else{if(typeof k==="string"){r=k.replace("{name}",q)}else{r=q}}return r},_getFormatterNameFromData:function(q){var k=this._getName(q);return this._getFormatterName(k)},_mLineOptimize:function(){var r=[];var t=this._itemGroupLocation.x;for(var q=2,k=this.shapeList.length;q<k;q++){if(this.shapeList[q].style.x===t){r.push((this._itemGroupLocation.width-(this.shapeList[q-1].style.x+p.getTextWidth(this.shapeList[q-1].style.text,this.shapeList[q-1].style.textFont)-t))/2)}else{if(q===k-1){r.push((this._itemGroupLocation.width-(this.shapeList[q].style.x+p.getTextWidth(this.shapeList[q].style.text,this.shapeList[q].style.textFont)-t))/2)}}}var s=-1;for(var q=1,k=this.shapeList.length;q<k;q++){if(this.shapeList[q].style.x===t){s++}if(r[s]===0){continue}else{this.shapeList[q].style.x+=r[s]}}},_buildBackground:function(){var k=this.reformCssArray(this.legendOption.padding);this.shapeList.push(new o({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._itemGroupLocation.x-k[3],y:this._itemGroupLocation.y-k[0],width:this._itemGroupLocation.width+k[3]+k[1],height:this._itemGroupLocation.height+k[0]+k[2],brushType:this.legendOption.borderWidth===0?"fill":"both",color:this.legendOption.backgroundColor,strokeColor:this.legendOption.borderColor,lineWidth:this.legendOption.borderWidth}}))},_getItemGroupLocation:function(){var I=this.legendOption.data;var u=I.length;var A=this.legendOption.itemGap;var s=this.legendOption.itemWidth+5;var D=this.legendOption.itemHeight;var t=this.legendOption.textStyle;var C=this.getFont(t);var r=0;var H=0;var B=this.reformCssArray(this.legendOption.padding);var k=this.zr.getWidth()-B[1]-B[3];var q=this.zr.getHeight()-B[0]-B[2];var G=0;var F=0;if(this.legendOption.orient==="horizontal"){H=D;for(var E=0;E<u;E++){if(this._getName(I[E])===""){G-=A;r=Math.max(r,G);H+=D+A;G=0;continue}var z=p.getTextWidth(this._getFormatterNameFromData(I[E]),I[E].textStyle?this.getFont(e.merge(I[E].textStyle||{},t)):C);if(G+s+z+A>k){G-=A;r=Math.max(r,G);H+=D+A;G=0}else{G+=s+z+A;r=Math.max(r,G-A)}}}else{for(var E=0;E<u;E++){F=Math.max(F,p.getTextWidth(this._getFormatterNameFromData(I[E]),I[E].textStyle?this.getFont(e.merge(I[E].textStyle||{},t)):C))}F+=s;r=F;for(var E=0;E<u;E++){if(this._getName(I[E])===""){r+=F+A;G-=A;H=Math.max(H,G);G=0;continue}if(G+D+A>q){r+=F+A;G-=A;H=Math.max(H,G);G=0}else{G+=D+A;H=Math.max(H,G-A)}}}k=this.zr.getWidth();q=this.zr.getHeight();var w;switch(this.legendOption.x){case"center":w=Math.floor((k-r)/2);break;case"left":w=B[3]+this.legendOption.borderWidth;break;case"right":w=k-r-B[1]-B[3]-this.legendOption.borderWidth*2;break;default:w=this.parsePercent(this.legendOption.x,k);break}var v;switch(this.legendOption.y){case"top":v=B[0]+this.legendOption.borderWidth;break;case"bottom":v=q-H-B[0]-B[2]-this.legendOption.borderWidth*2;break;case"center":v=Math.floor((q-H)/2);break;default:v=this.parsePercent(this.legendOption.y,q);break}return{x:w,y:v,width:r,height:H,maxWidth:F}},_getSomethingByName:function(t){var v=this.option.series;var w;for(var u=0,q=v.length;u<q;u++){if(v[u].name===t){return{type:v[u].type,series:v[u],seriesIndex:u,data:null,dataIndex:-1}}if(v[u].type===m.CHART_TYPE_PIE||v[u].type===m.CHART_TYPE_RADAR||v[u].type===m.CHART_TYPE_CHORD||v[u].type===m.CHART_TYPE_FORCE||v[u].type===m.CHART_TYPE_FUNNEL||v[u].type===m.CHART_TYPE_TREEMAP){w=v[u].categories||v[u].data||v[u].nodes;for(var s=0,r=w.length;s<r;s++){if(w[s].name===t){return{type:v[u].type,series:v[u],seriesIndex:u,data:w[s],dataIndex:s}}}}}return{type:"bar",series:null,seriesIndex:-1,data:null,dataIndex:-1}},_getItemShapeByType:function(w,v,q,z,t,u,r){var A=t==="#ccc"?r:t;var k={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{iconType:"legendicon"+u,x:w,y:v,width:q,height:z,color:t,strokeColor:t,lineWidth:2},highlightStyle:{color:A,strokeColor:A,lineWidth:1},hoverable:this.legendOption.selectedMode,clickable:this.legendOption.selectedMode};var s;if(u.match("image")){var s=u.replace(new RegExp("^image:\\/\\/"),"");u="image"}switch(u){case"line":k.style.brushType="stroke";k.highlightStyle.lineWidth=3;break;case"radar":case"venn":case"tree":case"treemap":case"scatter":k.highlightStyle.lineWidth=3;break;case"k":k.style.brushType="both";k.highlightStyle.lineWidth=3;k.highlightStyle.color=k.style.color=this.deepQuery([this.ecTheme,m],"k.itemStyle.normal.color")||"#fff";k.style.strokeColor=t!="#ccc"?this.deepQuery([this.ecTheme,m],"k.itemStyle.normal.lineStyle.color")||"#ff3200":t;break;case"image":k.style.iconType="image";k.style.image=s;if(t==="#ccc"){k.style.opacity=0.5}break}return k},__legendSelected:function(s){var r=s.target._name;if(this.legendOption.selectedMode==="single"){for(var q in this._selectedMap){this._selectedMap[q]=false}}this._selectedMap[r]=!this._selectedMap[r];this.messageCenter.dispatch(m.EVENT.LEGEND_SELECTED,s.event,{selected:this._selectedMap,target:r},this.myChart)},__dispatchHoverLink:function(k){this.messageCenter.dispatch(m.EVENT.LEGEND_HOVERLINK,k.event,{target:k.target._name},this.myChart);return},refresh:function(w){if(w){this.option=w||this.option;this.option.legend=this.reformOption(this.option.legend);this.legendOption=this.option.legend;var u=this.legendOption.data||[];var y;var x;var s;var r;if(this.legendOption.selected){for(var t in this.legendOption.selected){this._selectedMap[t]=typeof this._selectedMap[t]!="undefined"?this._selectedMap[t]:this.legendOption.selected[t]}}for(var v=0,q=u.length;v<q;v++){y=this._getName(u[v]);if(y===""){continue}x=this._getSomethingByName(y);if(!x.series){this._hasDataMap[y]=false}else{this._hasDataMap[y]=true;if(x.data&&(x.type===m.CHART_TYPE_PIE||x.type===m.CHART_TYPE_FORCE||x.type===m.CHART_TYPE_FUNNEL)){r=[x.data,x.series]}else{r=[x.series]}s=this.getItemStyleColor(this.deepQuery(r,"itemStyle.normal.color"),x.seriesIndex,x.dataIndex,x.data);if(s&&x.type!=m.CHART_TYPE_K){this.setColor(y,s)}this._selectedMap[y]=this._selectedMap[y]!=null?this._selectedMap[y]:true}}}this.clear();this._buildShape()},getRelatedAmount:function(t){var w=0;var v=this.option.series;var x;for(var u=0,q=v.length;u<q;u++){if(v[u].name===t){w++}if(v[u].type===m.CHART_TYPE_PIE||v[u].type===m.CHART_TYPE_RADAR||v[u].type===m.CHART_TYPE_CHORD||v[u].type===m.CHART_TYPE_FORCE||v[u].type===m.CHART_TYPE_FUNNEL){x=v[u].type!=m.CHART_TYPE_FORCE?v[u].data:v[u].categories;for(var s=0,r=x.length;s<r;s++){if(x[s].name===t&&x[s].value!="-"){w++}}}}return w},setColor:function(q,k){this._colorMap[q]=k},getColor:function(k){if(!this._colorMap[k]){this._colorMap[k]=this.zr.getColor(this._colorIndex++)}return this._colorMap[k]},hasColor:function(k){return this._colorMap[k]?this._colorMap[k]:false},add:function(q,k){var s=this.legendOption.data;for(var r=0,t=s.length;r<t;r++){if(this._getName(s[r])===q){return}}this.legendOption.data.push(q);this.setColor(q,k);this._selectedMap[q]=true;this._hasDataMap[q]=true},del:function(k){var r=this.legendOption.data;for(var q=0,s=r.length;q<s;q++){if(this._getName(r[q])===k){return this.legendOption.data.splice(q,1)}}},getItemShape:function(r){if(r==null){return}var q;for(var s=0,k=this.shapeList.length;s<k;s++){q=this.shapeList[s];if(q._name===r&&q.type!="text"){return q}}},setItemShape:function(r,t){var q;for(var s=0,k=this.shapeList.length;s<k;s++){q=this.shapeList[s];if(q._name===r&&q.type!="text"){if(!this._selectedMap[r]){t.style.color="#ccc";t.style.strokeColor="#ccc"}this.zr.modShape(q.id,t)}}},isSelected:function(k){if(typeof this._selectedMap[k]!="undefined"){return this._selectedMap[k]}else{return true}},getSelectedMap:function(){return this._selectedMap},setSelected:function(s,r){if(this.legendOption.selectedMode==="single"){for(var q in this._selectedMap){this._selectedMap[q]=false}}this._selectedMap[s]=r;this.messageCenter.dispatch(m.EVENT.LEGEND_SELECTED,null,{selected:this._selectedMap,target:s},this.myChart)},onlegendSelected:function(s,k){var r=s.selected;for(var q in r){if(this._selectedMap[q]!=r[q]){k.needRefresh=true}this._selectedMap[q]=r[q]}return}};var i={line:function(q,r){var k=r.height/2;q.moveTo(r.x,r.y+k);q.lineTo(r.x+r.width,r.y+k)},pie:function(r,t){var q=t.x;var u=t.y;var s=t.width;var k=t.height;h.prototype.buildPath(r,{x:q+s/2,y:u+k+2,r:k,r0:6,startAngle:45,endAngle:135})},eventRiver:function(r,t){var q=t.x;var u=t.y;var s=t.width;var k=t.height;r.moveTo(q,u+k);r.bezierCurveTo(q+s,u+k,q,u+4,q+s,u+4);r.lineTo(q+s,u);r.bezierCurveTo(q,u,q+s,u+k-4,q,u+k-4);r.lineTo(q,u+k)},k:function(r,t){var q=t.x;var u=t.y;var s=t.width;var k=t.height;n.prototype.buildPath(r,{x:q+s/2,y:[u+1,u+1,u+k-6,u+k],width:s-6})},bar:function(s,u){var q=u.x;var w=u.y+1;var t=u.width;var k=u.height-2;var v=3;s.moveTo(q+v,w);s.lineTo(q+t-v,w);s.quadraticCurveTo(q+t,w,q+t,w+v);s.lineTo(q+t,w+k-v);s.quadraticCurveTo(q+t,w+k,q+t-v,w+k);s.lineTo(q+v,w+k);s.quadraticCurveTo(q,w+k,q,w+k-v);s.lineTo(q,w+v);s.quadraticCurveTo(q,w,q+v,w)},force:function(k,q){c.prototype.iconLibrary.circle(k,q)},radar:function(C,q){var t=6;var A=q.x+q.width/2;var z=q.y+q.height/2;var k=q.height/2;var B=2*Math.PI/t;var s=-Math.PI/2;var w=A+k*Math.cos(s);var D=z+k*Math.sin(s);C.moveTo(w,D);s+=B;for(var v=0,u=t-1;v<u;v++){C.lineTo(A+k*Math.cos(s),z+k*Math.sin(s));s+=B}C.lineTo(w,D)}};i.chord=i.pie;i.map=i.bar;for(var g in i){c.prototype.iconLibrary["legendicon"+g]=i[g]}e.inherits(a,l);d("../component").define("legend",a);return a});define("echarts/util/ecData",[],function(){function b(j,h,f,g,l,e,k,i){var m;if(typeof g!="undefined"){m=g.value==null?g:g.value}j._echartsData={_series:h,_seriesIndex:f,_data:g,_dataIndex:l,_name:e,_value:m,_special:k,_special2:i};return j._echartsData}function a(e,f){var g=e._echartsData;if(!f){return g}switch(f){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":return g&&g["_"+f]}return null}function d(e,f,g){e._echartsData=e._echartsData||{};switch(f){case"series":case"seriesIndex":case"data":case"dataIndex":case"name":case"value":case"special":case"special2":e._echartsData["_"+f]=g;break}}function c(e,f){f._echartsData={_series:e._echartsData._series,_seriesIndex:e._echartsData._seriesIndex,_data:e._echartsData._data,_dataIndex:e._echartsData._dataIndex,_name:e._echartsData._name,_value:e._echartsData._value,_special:e._echartsData._special,_special2:e._echartsData._special2}}return{pack:b,set:d,get:a,clone:c}});define("echarts/chart",[],function(){var a={};var b={};a.define=function(d,c){b[d]=c;return a};a.get=function(c){return b[c]};return a});define("zrender/tool/color",["../tool/util"],function(f,O,d){var i=f("../tool/util");var t;var T=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"];var n=T;var b="rgba(255,255,0,0.5)";var g=b;var V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i;var H={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"};function s(Y){T=Y}function o(){T=n}function x(Y,Z){Y=Y|0;Z=Z||T;return Z[Y%Z.length]}function r(Y){b=Y}function q(){g=b}function U(){return b}function K(Z,ah,ab,Y,ag,aa,ae){if(!t){t=i.getContext()}var af=t.createRadialGradient(Z,ah,ab,Y,ag,aa);for(var ad=0,ac=ae.length;ad<ac;ad++){af.addColorStop(ae[ad][0],ae[ad][1])}af.__nonRecursion=true;return af}function h(ac,ae,Z,ad,ab){if(!t){t=i.getContext()}var af=t.createLinearGradient(ac,ae,Z,ad);for(var aa=0,Y=ab.length;aa<Y;aa++){af.addColorStop(ab[aa][0],ab[aa][1])}af.__nonRecursion=true;return af}function p(aa,ad,ac){aa=J(aa);ad=J(ad);aa=u(aa);ad=u(ad);var Z=[];var ab=(ad[0]-aa[0])/ac;var ag=(ad[1]-aa[1])/ac;var aj=(ad[2]-aa[2])/ac;var ak=(ad[3]-aa[3])/ac;for(var ae=0,Y=aa[0],af=aa[1],ah=aa[2],ai=aa[3];ae<ac;ae++){Z[ae]=S([W(Math.floor(Y),[0,255]),W(Math.floor(af),[0,255]),W(Math.floor(ah),[0,255]),ai.toFixed(4)-0],"rgba");Y+=ab;af+=ag;ah+=aj;ai+=ak}Y=ad[0];af=ad[1];ah=ad[2];ai=ad[3];Z[ae]=S([Y,af,ah,ai],"rgba");return Z}function N(Z,ad){var ab=[];var Y=Z.length;if(ad===undefined){ad=20}if(Y===1){ab=p(Z[0],Z[0],ad)}else{if(Y>1){for(var ac=0,ae=Y-1;ac<ae;ac++){var aa=p(Z[ac],Z[ac+1],ad);if(ac<ae-1){aa.pop()}ab=ab.concat(aa)}}}return ab}function S(Y,Z){Z=Z||"rgb";if(Y&&(Y.length===3||Y.length===4)){Y=B(Y,function(ab){return ab>1?Math.ceil(ab):ab});if(Z.indexOf("hex")>-1){return"#"+((1<<24)+(Y[0]<<16)+(Y[1]<<8)+ +Y[2]).toString(16).slice(1)}else{if(Z.indexOf("hs")>-1){var aa=B(Y.slice(1,3),function(ab){return ab+"%"});Y[1]=aa[0];Y[2]=aa[1]}}if(Z.indexOf("a")>-1){if(Y.length===3){Y.push(1)}Y[3]=W(Y[3],[0,1]);return Z+"("+Y.slice(0,4).join(",")+")"}return Z+"("+Y.slice(0,3).join(",")+")"}}function v(Y){Y=a(Y);if(Y.indexOf("rgba")<0){Y=J(Y)}var aa=[];var Z=0;Y.replace(/[\d.]+/g,function(ab){if(Z<3){ab=ab|0}else{ab=+ab}aa[Z++]=ab});return aa}function L(Y,ab){if(!m(Y)){return Y}var Z=u(Y);var aa=Z[3];if(typeof aa==="undefined"){aa=1}if(Y.indexOf("hsb")>-1){Z=e(Z)}else{if(Y.indexOf("hsl")>-1){Z=c(Z)}}if(ab.indexOf("hsb")>-1||ab.indexOf("hsv")>-1){Z=D(Z)}else{if(ab.indexOf("hsl")>-1){Z=A(Z)}}Z[3]=aa;return S(Z,ab)}function J(Y){return L(Y,"rgba")}function w(Y){return L(Y,"rgb")}function l(Y){return L(Y,"hex")}function G(Y){return L(Y,"hsva")}function z(Y){return L(Y,"hsv")}function k(Y){return L(Y,"hsba")}function I(Y){return L(Y,"hsb")}function X(Y){return L(Y,"hsla")}function C(Y){return L(Y,"hsl")}function E(Y){for(var Z in H){if(l(H[Z])===l(Y)){return Z}}return null}function a(Y){return String(Y).replace(/\s+/g,"")}function R(Z){if(H[Z]){Z=H[Z]}Z=a(Z);Z=Z.replace(/hsv/i,"hsb");if(/^#[\da-f]{3}$/i.test(Z)){Z=parseInt(Z.slice(1),16);var ab=(Z&3840)<<8;var aa=(Z&240)<<4;var Y=Z&15;Z="#"+((1<<24)+(ab<<4)+ab+(aa<<4)+aa+(Y<<4)+Y).toString(16).slice(1)}return Z}function F(Y,ac){if(!m(Y)){return Y}var ab=ac>0?1:-1;if(typeof ac==="undefined"){ac=0}ac=Math.abs(ac)>1?1:Math.abs(ac);Y=w(Y);var aa=u(Y);for(var Z=0;Z<3;Z++){if(ab===1){aa[Z]=aa[Z]*(1-ac)|0}else{aa[Z]=(255-aa[Z])*ac+aa[Z]|0}}return"rgb("+aa.join(",")+")"}function M(Y){if(!m(Y)){return Y}var Z=u(J(Y));Z=B(Z,function(aa){return 255-aa});return S(Z,"rgb")}function P(aj,ai,ad){if(!m(aj)||!m(ai)){return aj}if(typeof ad==="undefined"){ad=0.5}ad=1-W(ad,[0,1]);var ah=ad*2-1;var aa=u(J(aj));var Y=u(J(ai));var af=aa[3]-Y[3];var ag=((ah*af===-1?ah:(ah+af)/(1+ah*af))+1)/2;var ae=1-ag;var ac=[];for(var ab=0;ab<3;ab++){ac[ab]=aa[ab]*ag+Y[ab]*ae}var Z=aa[3]*ad+Y[3]*(1-ad);Z=Math.max(0,Math.min(1,Z));if(aa[3]===1&&Y[3]===1){return S(ac,"rgb")}ac[3]=Z;return S(ac,"rgba")}function y(){return"#"+(Math.random().toString(16)+"0000").slice(2,8)}function u(aa){aa=R(aa);var Y=aa.match(V);if(Y===null){throw new Error("The color format error")}var ad;var ag;var ab=[];var ae;if(Y[2]){ad=Y[2].replace("#","").split("");ae=[ad[0]+ad[1],ad[2]+ad[3],ad[4]+ad[5]];ab=B(ae,function(aj){return W(parseInt(aj,16),[0,255])})}else{if(Y[4]){var Z=Y[4].split(",");ag=Z[3];ae=Z.slice(0,3);ab=B(ae,function(aj){aj=Math.floor(aj.indexOf("%")>0?parseInt(aj,0)*2.55:aj);return W(aj,[0,255])});if(typeof ag!=="undefined"){ab.push(W(parseFloat(ag),[0,1]))}}else{if(Y[5]||Y[6]){var ah=(Y[5]||Y[6]).split(",");var ac=parseInt(ah[0],0)/360;var ai=ah[1];var af=ah[2];ag=ah[3];ab=B([ai,af],function(aj){return W(parseFloat(aj)/100,[0,1])});ab.unshift(ac);if(typeof ag!=="undefined"){ab.push(W(parseFloat(ag),[0,1]))}}}}return ab}function Q(Z,Y){if(!m(Z)){return Z}if(Y===null){Y=1}var aa=u(J(Z));aa[3]=W(Number(Y).toFixed(4),[0,1]);return S(aa,"rgba")}function B(ab,Z){if(typeof Z!=="function"){throw new TypeError()}var Y=ab?ab.length:0;for(var aa=0;aa<Y;aa++){ab[aa]=Z(ab[aa])}return ab}function W(Y,Z){if(Y<=Z[0]){Y=Z[0]}else{if(Y>=Z[1]){Y=Z[1]}}return Y}function m(Y){return Y instanceof Array||typeof Y==="string"}function e(ad){var al=ad[0];var ab=ad[1];var aa=ad[2];var ae;var am;var Z;if(ab===0){ae=aa*255;am=aa*255;Z=aa*255}else{var af=al*6;if(af===6){af=0}var ac=af|0;var ak=aa*(1-ab);var aj=aa*(1-ab*(af-ac));var ai=aa*(1-ab*(1-(af-ac)));var Y=0;var ag=0;var ah=0;if(ac===0){Y=aa;ag=ai;ah=ak}else{if(ac===1){Y=aj;ag=aa;ah=ak}else{if(ac===2){Y=ak;ag=aa;ah=ai}else{if(ac===3){Y=ak;ag=aj;ah=aa}else{if(ac===4){Y=ai;ag=ak;ah=aa}else{Y=aa;ag=ak;ah=aj}}}}}ae=Y*255;am=ag*255;Z=ah*255}return[ae,am,Z]}function c(aa){var af=aa[0];var Z=aa[1];var ac=aa[2];var ab;var ag;var Y;if(Z===0){ab=ac*255;ag=ac*255;Y=ac*255}else{var ad;if(ac<0.5){ad=ac*(1+Z)}else{ad=ac+Z-Z*ac}var ae=2*ac-ad;ab=255*j(ae,ad,af+1/3);ag=255*j(ae,ad,af);Y=255*j(ae,ad,af-1/3)}return[ab,ag,Y]}function j(aa,Z,Y){if(Y<0){Y+=1}if(Y>1){Y-=1}if(6*Y<1){return aa+(Z-aa)*6*Y}if(2*Y<1){return Z}if(3*Y<2){return aa+(Z-aa)*(2/3-Y)*6}return aa}function D(ad){var ae=ad[0]/255;var aj=ad[1]/255;var Z=ad[2]/255;var ag=Math.min(ae,aj,Z);var ak=Math.max(ae,aj,Z);var ai=ak-ag;var aa=ak;var ah;var ac;if(ai===0){ah=0;ac=0}else{ac=ai/ak;var af=((ak-ae)/6+ai/2)/ai;var Y=((ak-aj)/6+ai/2)/ai;var ab=((ak-Z)/6+ai/2)/ai;if(ae===ak){ah=ab-Y}else{if(aj===ak){ah=1/3+af-ab}else{if(Z===ak){ah=2/3+Y-af}}}if(ah<0){ah+=1}if(ah>1){ah-=1}}ah=ah*360;ac=ac*100;aa=aa*100;return[ah,ac,aa]}function A(ac){var ad=ac[0]/255;var aj=ac[1]/255;var Z=ac[2]/255;var af=Math.min(ad,aj,Z);var ak=Math.max(ad,aj,Z);var ai=ak-af;var ag=(ak+af)/2;var ah;var ab;if(ai===0){ah=0;ab=0}else{if(ag<0.5){ab=ai/(ak+af)}else{ab=ai/(2-ak-af)}var ae=((ak-ad)/6+ai/2)/ai;var Y=((ak-aj)/6+ai/2)/ai;var aa=((ak-Z)/6+ai/2)/ai;if(ad===ak){ah=aa-Y}else{if(aj===ak){ah=1/3+ae-aa}else{if(Z===ak){ah=2/3+Y-ae}}}if(ah<0){ah+=1}if(ah>1){ah-=1}}ah=ah*360;ab=ab*100;ag=ag*100;return[ah,ab,ag]}return{customPalette:s,resetPalette:o,getColor:x,getHighlightColor:U,customHighlight:r,resetHighlight:q,getRadialGradient:K,getLinearGradient:h,getGradientColors:N,getStepColors:p,reverse:M,mix:P,lift:F,trim:a,random:y,toRGB:w,toRGBA:J,toHex:l,toHSL:C,toHSLA:X,toHSB:I,toHSBA:k,toHSV:z,toHSVA:G,toName:E,toColor:S,toArray:v,alpha:Q,getData:u}});define("echarts/component/timeline",["./base","zrender/shape/Rectangle","../util/shape/Icon","../util/shape/Chain","../config","zrender/tool/util","zrender/tool/area","zrender/tool/event","../component"],function(e,g,c){var h=e("./base");var l=e("zrender/shape/Rectangle");var d=e("../util/shape/Icon");var a=e("../util/shape/Chain");var j=e("../config");j.timeline={zlevel:0,z:4,show:true,type:"time",notMerge:false,realtime:true,x:80,x2:80,y2:0,height:50,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,controlPosition:"left",autoPlay:false,loop:true,playInterval:2000,lineStyle:{width:1,color:"#666",type:"dashed"},label:{show:true,interval:"auto",rotate:0,textStyle:{color:"#333"}},checkpointStyle:{symbol:"auto",symbolSize:"auto",color:"auto",borderColor:"auto",borderWidth:"auto",label:{show:false,textStyle:{color:"auto"}}},controlStyle:{itemSize:15,itemGap:5,normal:{color:"#333"},emphasis:{color:"#1e90ff"}},symbol:"emptyDiamond",symbolSize:4,currentIndex:0};var f=e("zrender/tool/util");var m=e("zrender/tool/area");var k=e("zrender/tool/event");function i(r,n,s,q,p){h.call(this,r,n,s,q,p);var o=this;o._onclick=function(t){return o.__onclick(t)};o._ondrift=function(u,t){return o.__ondrift(this,u,t)};o._ondragend=function(){return o.__ondragend()};o._setCurrentOption=function(){var u=o.timelineOption;o.currentIndex%=u.data.length;var t=o.options[o.currentIndex]||{};o.myChart._setOption(t,u.notMerge,true);o.messageCenter.dispatch(j.EVENT.TIMELINE_CHANGED,null,{currentIndex:o.currentIndex,data:u.data[o.currentIndex].name!=null?u.data[o.currentIndex].name:u.data[o.currentIndex]},o.myChart)};o._onFrame=function(){o._setCurrentOption();o._syncHandleShape();if(o.timelineOption.autoPlay){o.playTicket=setTimeout(function(){o.currentIndex+=1;if(!o.timelineOption.loop&&o.currentIndex>=o.timelineOption.data.length){o.currentIndex=o.timelineOption.data.length-1;o.stop();return}o._onFrame()},o.timelineOption.playInterval)}};this.setTheme(false);this.options=this.option.options;this.currentIndex=this.timelineOption.currentIndex%this.timelineOption.data.length;if(!this.timelineOption.notMerge&&this.currentIndex!==0){this.options[this.currentIndex]=f.merge(this.options[this.currentIndex],this.options[0])}if(this.timelineOption.show){this._buildShape();this._syncHandleShape()}this._setCurrentOption();if(this.timelineOption.autoPlay){var o=this;this.playTicket=setTimeout(function(){o.play()},this.ecTheme.animationDuration!=null?this.ecTheme.animationDuration:j.animationDuration)}}i.prototype={type:j.COMPONENT_TYPE_TIMELINE,_buildShape:function(){this._location=this._getLocation();this._buildBackground();this._buildControl();this._chainPoint=this._getChainPoint();if(this.timelineOption.label.show){var p=this._getInterval();for(var q=0,n=this._chainPoint.length;q<n;q+=p){this._chainPoint[q].showLabel=true}}this._buildChain();this._buildHandle();for(var q=0,o=this.shapeList.length;q<o;q++){this.zr.addShape(this.shapeList[q])}},_getLocation:function(){var s=this.timelineOption;var t=this.reformCssArray(this.timelineOption.padding);var w=this.zr.getWidth();var u=this.parsePercent(s.x,w);var n=this.parsePercent(s.x2,w);var p;if(s.width==null){p=w-u-n;n=w-n}else{p=this.parsePercent(s.width,w);n=u+p}var o=this.zr.getHeight();var v=this.parsePercent(s.height,o);var r;var q;if(s.y!=null){r=this.parsePercent(s.y,o);q=r+v}else{q=o-this.parsePercent(s.y2,o);r=q-v}return{x:u+t[3],y:r+t[0],x2:n-t[1],y2:q-t[2],width:p-t[1]-t[3],height:v-t[0]-t[2]}},_getReformedLabel:function(n){var q=this.timelineOption;var p=q.data[n].name!=null?q.data[n].name:q.data[n];var o=q.data[n].formatter||q.label.formatter;if(o){if(typeof o==="function"){p=o.call(this.myChart,p)}else{if(typeof o==="string"){p=o.replace("{value}",p)}}}return p},_getInterval:function(){var w=this._chainPoint;var x=this.timelineOption;var o=x.label.interval;if(o==="auto"){var z=x.label.textStyle.fontSize;var s=x.data;var n=x.data.length;if(n>3){var p=false;var u;var q;o=0;while(!p&&o<n){o++;p=true;for(var r=o;r<n;r+=o){u=w[r].x-w[r-o].x;if(x.label.rotate!==0){q=z}else{if(s[r].textStyle){q=m.getTextWidth(w[r].name,w[r].textFont)}else{var y=w[r].name+"";var t=(y.match(/\w/g)||"").length;var v=y.length-t;q=t*z*2/3+v*z}}if(u<q){p=false;break}}}}else{o=1}}else{o=o-0+1}return o},_getChainPoint:function(){var A=this.timelineOption;var F=A.symbol.toLowerCase();var K=A.symbolSize;var H=A.label.rotate;var r=A.label.textStyle;var z=this.getFont(r);var q;var L=A.data;var v=this._location.x;var t=this._location.y+this._location.height/4*3;var C=this._location.x2-this._location.x;var I=L.length;function u(n){return L[n].name!=null?L[n].name:L[n]+""}var o=[];if(I>1){var D=C/I;D=D>50?50:D<20?5:D;C-=D*2;if(A.type==="number"){for(var G=0;G<I;G++){o.push(v+D+C/(I-1)*G)}}else{o[0]=new Date(u(0).replace(/-/g,"/"));o[I-1]=new Date(u(I-1).replace(/-/g,"/"))-o[0];for(var G=1;G<I;G++){o[G]=v+D+C*(new Date(u(G).replace(/-/g,"/"))-o[0])/o[I-1]}o[0]=v+D}}else{o.push(v+C/2)}var J=[];var s;var B;var w;var p;var E;for(var G=0;G<I;G++){v=o[G];s=L[G].symbol&&L[G].symbol.toLowerCase()||F;if(s.match("empty")){s=s.replace("empty","");w=true}else{w=false}if(s.match("star")){B=s.replace("star","")-0||5;s="star"}q=L[G].textStyle?f.merge(L[G].textStyle||{},r):r;p=q.align||"center";if(H){p=H>0?"right":"left";E=[H*Math.PI/180,v,t-5]}else{E=false}J.push({x:v,n:B,isEmpty:w,symbol:s,symbolSize:L[G].symbolSize||K,color:L[G].color,borderColor:L[G].borderColor,borderWidth:L[G].borderWidth,name:this._getReformedLabel(G),textColor:q.color,textAlign:p,textBaseline:q.baseline||"middle",textX:v,textY:t-(H?5:0),textFont:L[G].textStyle?this.getFont(q):z,rotation:E,showLabel:false})}return J},_buildBackground:function(){var p=this.timelineOption;var q=this.reformCssArray(this.timelineOption.padding);var o=this._location.width;var n=this._location.height;if(p.borderWidth!==0||p.backgroundColor.replace(/\s/g,"")!="rgba(0,0,0,0)"){this.shapeList.push(new l({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._location.x-q[3],y:this._location.y-q[0],width:o+q[1]+q[3],height:n+q[0]+q[2],brushType:p.borderWidth===0?"fill":"both",color:p.backgroundColor,strokeColor:p.borderColor,lineWidth:p.borderWidth}}))}},_buildControl:function(){var v=this;var r=this.timelineOption;var n=r.lineStyle;var t=r.controlStyle;if(r.controlPosition==="none"){return}var p=t.itemSize;var s=t.itemGap;var u;if(r.controlPosition==="left"){u=this._location.x;this._location.x+=(p+s)*3}else{u=this._location.x2-((p+s)*3-s);this._location.x2-=(p+s)*3}var q=this._location.y;var o={zlevel:this.getZlevelBase(),z:this.getZBase()+1,style:{iconType:"timelineControl",symbol:"last",x:u,y:q,width:p,height:p,brushType:"stroke",color:t.normal.color,strokeColor:t.normal.color,lineWidth:n.width},highlightStyle:{color:t.emphasis.color,strokeColor:t.emphasis.color,lineWidth:n.width+1},clickable:true};this._ctrLastShape=new d(o);this._ctrLastShape.onclick=function(){v.last()};this.shapeList.push(this._ctrLastShape);u+=p+s;this._ctrPlayShape=new d(f.clone(o));this._ctrPlayShape.style.brushType="fill";this._ctrPlayShape.style.symbol="play";this._ctrPlayShape.style.status=this.timelineOption.autoPlay?"playing":"stop";this._ctrPlayShape.style.x=u;this._ctrPlayShape.onclick=function(){if(v._ctrPlayShape.style.status==="stop"){v.play()}else{v.stop()}};this.shapeList.push(this._ctrPlayShape);u+=p+s;this._ctrNextShape=new d(f.clone(o));this._ctrNextShape.style.symbol="next";this._ctrNextShape.style.x=u;this._ctrNextShape.onclick=function(){v.next()};this.shapeList.push(this._ctrNextShape)},_buildChain:function(){var o=this.timelineOption;var n=o.lineStyle;this._timelineShae={zlevel:this.getZlevelBase(),z:this.getZBase(),style:{x:this._location.x,y:this.subPixelOptimize(this._location.y,n.width),width:this._location.x2-this._location.x,height:this._location.height,chainPoint:this._chainPoint,brushType:"both",strokeColor:n.color,lineWidth:n.width,lineType:n.type},hoverable:false,clickable:true,onclick:this._onclick};this._timelineShae=new a(this._timelineShae);this.shapeList.push(this._timelineShae)},_buildHandle:function(){var n=this._chainPoint[this.currentIndex];var o=n.symbolSize+1;o=o<5?5:o;this._handleShape={zlevel:this.getZlevelBase(),z:this.getZBase()+1,hoverable:false,draggable:true,style:{iconType:"diamond",n:n.n,x:n.x-o,y:this._location.y+this._location.height/4-o,width:o*2,height:o*2,brushType:"both",textPosition:"specific",textX:n.x,textY:this._location.y-this._location.height/4,textAlign:"center",textBaseline:"middle"},highlightStyle:{},ondrift:this._ondrift,ondragend:this._ondragend};this._handleShape=new d(this._handleShape);this.shapeList.push(this._handleShape)},_syncHandleShape:function(){if(!this.timelineOption.show){return}var q=this.timelineOption;var o=q.checkpointStyle;var n=this._chainPoint[this.currentIndex];this._handleShape.style.text=o.label.show?n.name:"";this._handleShape.style.textFont=n.textFont;this._handleShape.style.n=n.n;if(o.symbol==="auto"){this._handleShape.style.iconType=n.symbol!="none"?n.symbol:"diamond"}else{this._handleShape.style.iconType=o.symbol;if(o.symbol.match("star")){this._handleShape.style.n=o.symbol.replace("star","")-0||5;this._handleShape.style.iconType="star"}}var p;if(o.symbolSize==="auto"){p=n.symbolSize+2;p=p<5?5:p}else{p=o.symbolSize-0}this._handleShape.style.color=o.color==="auto"?n.color?n.color:q.controlStyle.emphasis.color:o.color;this._handleShape.style.textColor=o.label.textStyle.color==="auto"?this._handleShape.style.color:o.label.textStyle.color;this._handleShape.highlightStyle.strokeColor=this._handleShape.style.strokeColor=o.borderColor==="auto"?n.borderColor?n.borderColor:"#fff":o.borderColor;this._handleShape.style.lineWidth=o.borderWidth==="auto"?n.borderWidth?n.borderWidth:0:o.borderWidth-0;this._handleShape.highlightStyle.lineWidth=this._handleShape.style.lineWidth+1;this.zr.animate(this._handleShape.id,"style").when(500,{x:n.x-p,textX:n.x,y:this._location.y+this._location.height/4-p,width:p*2,height:p*2}).start("ExponentialOut")},_findChainIndex:function(o){var q=this._chainPoint;var n=q.length;if(o<=q[0].x){return 0}else{if(o>=q[n-1].x){return n-1}}for(var p=0;p<n-1;p++){if(o>=q[p].x&&o<=q[p+1].x){return Math.abs(o-q[p].x)<Math.abs(o-q[p+1].x)?p:p+1}}},__onclick:function(p){var n=k.getX(p.event);var o=this._findChainIndex(n);if(o===this.currentIndex){return true}this.currentIndex=o;this.timelineOption.autoPlay&&this.stop();clearTimeout(this.playTicket);this._onFrame()},__ondrift:function(r,q){this.timelineOption.autoPlay&&this.stop();var t=this._chainPoint;var n=t.length;var s;if(r.style.x+q<=t[0].x-t[0].symbolSize){r.style.x=t[0].x-t[0].symbolSize;s=0}else{if(r.style.x+q>=t[n-1].x-t[n-1].symbolSize){r.style.x=t[n-1].x-t[n-1].symbolSize;s=n-1}else{r.style.x+=q;s=this._findChainIndex(r.style.x)}}var o=t[s];var u=o.symbolSize+2;r.style.iconType=o.symbol;r.style.n=o.n;r.style.textX=r.style.x+u/2;r.style.y=this._location.y+this._location.height/4-u;r.style.width=u*2;r.style.height=u*2;r.style.text=o.name;if(s===this.currentIndex){return true}this.currentIndex=s;if(this.timelineOption.realtime){clearTimeout(this.playTicket);var p=this;this.playTicket=setTimeout(function(){p._setCurrentOption()},200)}return true},__ondragend:function(){this.isDragend=true},ondragend:function(o,n){if(!this.isDragend||!o.target){return}!this.timelineOption.realtime&&this._setCurrentOption();n.dragOut=true;n.dragIn=true;n.needRefresh=false;this.isDragend=false;this._syncHandleShape();return},last:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex-=1;if(this.currentIndex<0){this.currentIndex=this.timelineOption.data.length-1}this._onFrame();return this.currentIndex},next:function(){this.timelineOption.autoPlay&&this.stop();this.currentIndex+=1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},play:function(n,o){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="playing"){this._ctrPlayShape.style.status="playing";this.zr.modShape(this._ctrPlayShape.id);this.zr.refreshNextFrame()}this.timelineOption.autoPlay=o!=null?o:true;if(!this.timelineOption.autoPlay){clearTimeout(this.playTicket)}this.currentIndex=n!=null?n:this.currentIndex+1;if(this.currentIndex>=this.timelineOption.data.length){this.currentIndex=0}this._onFrame();return this.currentIndex},stop:function(){if(this._ctrPlayShape&&this._ctrPlayShape.style.status!="stop"){this._ctrPlayShape.style.status="stop";this.zr.modShape(this._ctrPlayShape.id);this.zr.refreshNextFrame()}this.timelineOption.autoPlay=false;clearTimeout(this.playTicket);return this.currentIndex},resize:function(){if(this.timelineOption.show){this.clear();this._buildShape();this._syncHandleShape()}},setTheme:function(n){this.timelineOption=this.reformOption(f.clone(this.option.timeline));this.timelineOption.label.textStyle=this.getTextStyle(this.timelineOption.label.textStyle);this.timelineOption.checkpointStyle.label.textStyle=this.getTextStyle(this.timelineOption.checkpointStyle.label.textStyle);if(!this.myChart.canvasSupported){this.timelineOption.realtime=false}if(this.timelineOption.show&&n){this.clear();this._buildShape();this._syncHandleShape()}},onbeforDispose:function(){clearTimeout(this.playTicket)}};function b(w,n){var r=2;var t=n.x+r;var s=n.y+r+2;var o=n.width-r;var v=n.height-r;var q=n.symbol;if(q==="last"){w.moveTo(t+o-2,s+v/3);w.lineTo(t+o-2,s);w.lineTo(t+2,s+v/2);w.lineTo(t+o-2,s+v);w.lineTo(t+o-2,s+v/3*2);w.moveTo(t,s);w.lineTo(t,s)}else{if(q==="next"){w.moveTo(t+2,s+v/3);w.lineTo(t+2,s);w.lineTo(t+o-2,s+v/2);w.lineTo(t+2,s+v);w.lineTo(t+2,s+v/3*2);w.moveTo(t,s);w.lineTo(t,s)}else{if(q==="play"){if(n.status==="stop"){w.moveTo(t+2,s);w.lineTo(t+o-2,s+v/2);w.lineTo(t+2,s+v);w.lineTo(t+2,s)}else{var u=n.brushType==="both"?2:3;w.rect(t+2,s,u,v);w.rect(t+o-u-2,s,u,v)}}else{if(q.match("image")){var p="";p=q.replace(new RegExp("^image:\\/\\/"),"");q=d.prototype.iconLibrary.image;q(w,{x:t,y:s,width:o,height:v,image:p})}}}}}d.prototype.iconLibrary.timelineControl=b;f.inherits(i,h);e("../component").define("timeline",i);return i});define("zrender/shape/Image",["./Base","../tool/util"],function(c,a,e){var d=c("./Base");var b=function(f){d.call(this,f)};b.prototype={type:"image",brush:function(t,k,l){var g=this.style||{};if(k){g=this.getHighlightStyle(g,this.highlightStyle||{})}var j=g.image;var s=this;if(!this._imageCache){this._imageCache={}}if(typeof j==="string"){var f=j;if(this._imageCache[f]){j=this._imageCache[f]}else{j=new Image();j.onload=function(){j.onload=null;s.modSelf();l()};j.src=f;this._imageCache[f]=j}}if(j){if(j.nodeName.toUpperCase()=="IMG"){if(window.ActiveXObject){if(j.readyState!="complete"){return}}else{if(!j.complete){return}}}var h=g.width||j.width;var r=g.height||j.height;var q=g.x;var o=g.y;if(!j.width||!j.height){return}t.save();this.doClip(t);this.setContext(t,g);this.setTransform(t);if(g.sWidth&&g.sHeight){var p=g.sx||0;var n=g.sy||0;t.drawImage(j,p,n,g.sWidth,g.sHeight,q,o,h,r)}else{if(g.sx&&g.sy){var p=g.sx;var n=g.sy;var i=h-p;var m=r-n;t.drawImage(j,p,n,i,m,q,o,h,r)}else{t.drawImage(j,q,o,h,r)}}if(!g.width){g.width=h}if(!g.height){g.height=r}if(!this.style.width){this.style.width=h}if(!this.style.height){this.style.height=r}this.drawText(t,g,this.style);t.restore()}},getRect:function(f){return{x:f.x,y:f.y,width:f.width,height:f.height}},clearCache:function(){this._imageCache={}}};c("../tool/util").inherits(b,d);return b});define("zrender/loadingEffect/Bar",["./Base","../tool/util","../tool/color","../shape/Rectangle"],function(d,c,f){var e=d("./Base");var a=d("../tool/util");var h=d("../tool/color");var g=d("../shape/Rectangle");function b(i){e.call(this,i)}a.inherits(b,e);b.prototype._start=function(n,o){var j=a.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effectOption:{x:0,y:this.canvasHeight/2-30,width:this.canvasWidth,height:5,brushType:"fill",timeInterval:100}});var l=this.createTextShape(j.textStyle);var k=this.createBackgroundShape(j.backgroundColor);var m=j.effectOption;var i=new g({highlightStyle:a.clone(m)});i.highlightStyle.color=m.color||h.getLinearGradient(m.x,m.y,m.x+m.width,m.y+m.height,[[0,"#ff6400"],[0.5,"#ffe100"],[1,"#b1ff00"]]);if(j.progress!=null){n(k);i.highlightStyle.width=this.adjust(j.progress,[0,1])*j.effectOption.width;n(i);n(l);o();return}else{i.highlightStyle.width=0;return setInterval(function(){n(k);if(i.highlightStyle.width<m.width){i.highlightStyle.width+=8}else{i.highlightStyle.width=0}n(i);n(l);o()},m.timeInterval)}};return b});define("zrender/loadingEffect/Bubble",["./Base","../tool/util","../tool/color","../shape/Circle"],function(d,c,f){var e=d("./Base");var b=d("../tool/util");var h=d("../tool/color");var a=d("../shape/Circle");function g(i){e.call(this,i)}b.inherits(g,e);g.prototype._start=function(k,r){var x=b.merge(this.options,{textStyle:{color:"#888"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{n:50,lineWidth:2,brushType:"stroke",color:"random",timeInterval:100}});var m=this.createTextShape(x.textStyle);var l=this.createBackgroundShape(x.backgroundColor);var j=x.effect;var o=j.n;var w=j.brushType;var v=j.lineWidth;var q=[];var p=this.canvasWidth;var u=this.canvasHeight;for(var t=0;t<o;t++){var s=j.color=="random"?h.alpha(h.random(),0.3):j.color;q[t]=new a({highlightStyle:{x:Math.ceil(Math.random()*p),y:Math.ceil(Math.random()*u),r:Math.ceil(Math.random()*40),brushType:w,color:s,strokeColor:s,lineWidth:v},animationY:Math.ceil(Math.random()*20)})}return setInterval(function(){k(l);for(var n=0;n<o;n++){var y=q[n].highlightStyle;if(y.y-q[n].animationY+y.r<=0){q[n].highlightStyle.y=u+y.r;q[n].highlightStyle.x=Math.ceil(Math.random()*p)}q[n].highlightStyle.y-=q[n].animationY;k(q[n])}k(m);r()},j.timeInterval)};return g});define("zrender/loadingEffect/DynamicLine",["./Base","../tool/util","../tool/color","../shape/Line"],function(c,b,e){var d=c("./Base");var a=c("../tool/util");var h=c("../tool/color");var f=c("../shape/Line");function g(i){d.call(this,i)}a.inherits(g,d);g.prototype._start=function(k,r){var z=a.merge(this.options,{textStyle:{color:"#fff"},backgroundColor:"rgba(0, 0, 0, 0.8)",effectOption:{n:30,lineWidth:1,color:"random",timeInterval:100}});var m=this.createTextShape(z.textStyle);var l=this.createBackgroundShape(z.backgroundColor);var j=z.effectOption;var o=j.n;var v=j.lineWidth;var q=[];var p=this.canvasWidth;var u=this.canvasHeight;for(var t=0;t<o;t++){var x=-Math.ceil(Math.random()*1000);var w=Math.ceil(Math.random()*400);var y=Math.ceil(Math.random()*u);var s=j.color=="random"?h.random():j.color;q[t]=new f({highlightStyle:{xStart:x,yStart:y,xEnd:x+w,yEnd:y,strokeColor:s,lineWidth:v},animationX:Math.ceil(Math.random()*100),len:w})}return setInterval(function(){k(l);for(var n=0;n<o;n++){var A=q[n].highlightStyle;if(A.xStart>=p){q[n].len=Math.ceil(Math.random()*400);A.xStart=-400;A.xEnd=-400+q[n].len;A.yStart=Math.ceil(Math.random()*u);A.yEnd=A.yStart}A.xStart+=q[n].animationX;A.xEnd+=q[n].animationX;k(q[n])}k(m);r()},j.timeInterval)};return g});define("zrender/loadingEffect/Ring",["./Base","../tool/util","../tool/color","../shape/Ring","../shape/Sector"],function(c,e,b){var g=c("./Base");var h=c("../tool/util");var a=c("../tool/color");var f=c("../shape/Ring");var d=c("../shape/Sector");function i(j){g.call(this,j)}h.inherits(i,g);i.prototype._start=function(l,s){var k=h.merge(this.options,{textStyle:{color:"#07a"},backgroundColor:"rgba(250, 250, 250, 0.8)",effect:{x:this.canvasWidth/2,y:this.canvasHeight/2,r0:60,r:100,color:"#bbdcff",brushType:"fill",textPosition:"inside",textFont:"normal 30px verdana",textColor:"rgba(30, 144, 255, 0.6)",timeInterval:100}});var m=k.effect;var o=k.textStyle;if(o.x==null){o.x=m.x}if(o.y==null){o.y=m.y+(m.r0+m.r)/2-5}var u=this.createTextShape(k.textStyle);var F=this.createBackgroundShape(k.backgroundColor);var q=m.x;var p=m.y;var E=m.r0+6;var v=m.r-6;var B=m.color;var C=a.lift(B,0.1);var j=new f({highlightStyle:h.clone(m)});var w=[];var t=a.getGradientColors(["#ff6400","#ffe100","#97ff00"],25);var G=15;var A=240;for(var D=0;D<16;D++){w.push(new d({highlightStyle:{x:q,y:p,r0:E,r:v,startAngle:A-G,endAngle:A,brushType:"fill",color:C},_color:a.getLinearGradient(q+E*Math.cos(A,true),p-E*Math.sin(A,true),q+E*Math.cos(A-G,true),p-E*Math.sin(A-G,true),[[0,t[D*2]],[1,t[D*2+1]]])}));A-=G}A=360;for(var D=0;D<4;D++){w.push(new d({highlightStyle:{x:q,y:p,r0:E,r:v,startAngle:A-G,endAngle:A,brushType:"fill",color:C},_color:a.getLinearGradient(q+E*Math.cos(A,true),p-E*Math.sin(A,true),q+E*Math.cos(A-G,true),p-E*Math.sin(A-G,true),[[0,t[D*2+32]],[1,t[D*2+33]]])}));A-=G}var z=0;if(k.progress!=null){l(F);z=this.adjust(k.progress,[0,1]).toFixed(2)*100/5;j.highlightStyle.text=z*5+"%";l(j);for(var D=0;D<20;D++){w[D].highlightStyle.color=D<z?w[D]._color:C;l(w[D])}l(u);s();return}return setInterval(function(){l(F);z+=z>=20?-20:1;l(j);for(var n=0;n<20;n++){w[n].highlightStyle.color=n<z?w[n]._color:C;l(w[n])}l(u);s()},m.timeInterval)};return i});define("zrender/loadingEffect/Spin",["./Base","../tool/util","../tool/color","../tool/area","../shape/Sector"],function(c,f,b){var g=c("./Base");var h=c("../tool/util");var a=c("../tool/color");var i=c("../tool/area");var d=c("../shape/Sector");function e(j){g.call(this,j)}h.inherits(e,g);e.prototype._start=function(p,v){var o=h.merge(this.options,{textStyle:{color:"#fff",textAlign:"start"},backgroundColor:"rgba(0, 0, 0, 0.8)"});var w=this.createTextShape(o.textStyle);var l=10;var m=i.getTextWidth(w.highlightStyle.text,w.highlightStyle.textFont);var j=i.getTextHeight(w.highlightStyle.text,w.highlightStyle.textFont);var q=h.merge(this.options.effect||{},{r0:9,r:15,n:18,color:"#fff",timeInterval:100});var k=this.getLocation(this.options.textStyle,m+l+q.r*2,Math.max(q.r*2,j));q.x=k.x+q.r;q.y=w.highlightStyle.y=k.y+k.height/2;w.highlightStyle.x=q.x+q.r+l;var F=this.createBackgroundShape(o.backgroundColor);var B=q.n;var u=q.x;var t=q.y;var E=q.r0;var z=q.r;var C=q.color;var A=[];var G=Math.round(180/B);for(var D=0;D<B;D++){A[D]=new d({highlightStyle:{x:u,y:t,r0:E,r:z,startAngle:G*D*2,endAngle:G*D*2+G,color:a.alpha(C,(D+1)/B),brushType:"fill"}})}var s=[0,u,t];return setInterval(function(){p(F);s[0]-=0.3;for(var n=0;n<B;n++){A[n].rotation=s;p(A[n])}p(w);v()},q.timeInterval)};return e});define("zrender/loadingEffect/Whirling",["./Base","../tool/util","../tool/area","../shape/Ring","../shape/Droplet","../shape/Circle"],function(d,e,c){var g=d("./Base");var h=d("../tool/util");var j=d("../tool/area");var f=d("../shape/Ring");var i=d("../shape/Droplet");var a=d("../shape/Circle");function b(k){g.call(this,k)}h.inherits(b,g);b.prototype._start=function(m,q){var x=h.merge(this.options,{textStyle:{color:"#888",textAlign:"start"},backgroundColor:"rgba(250, 250, 250, 0.8)"});var o=this.createTextShape(x.textStyle);var n=10;var s=j.getTextWidth(o.highlightStyle.text,o.highlightStyle.textFont);var u=j.getTextHeight(o.highlightStyle.text,o.highlightStyle.textFont);var k=h.merge(this.options.effect||{},{r:18,colorIn:"#fff",colorOut:"#555",colorWhirl:"#6cf",timeInterval:50});var v=this.getLocation(this.options.textStyle,s+n+k.r*2,Math.max(k.r*2,u));k.x=v.x+k.r;k.y=o.highlightStyle.y=v.y+v.height/2;o.highlightStyle.x=k.x+k.r+n;var l=this.createBackgroundShape(x.backgroundColor);var r=new i({highlightStyle:{a:Math.round(k.r/2),b:Math.round(k.r-k.r/6),brushType:"fill",color:k.colorWhirl}});var p=new a({highlightStyle:{r:Math.round(k.r/6),brushType:"fill",color:k.colorIn}});var w=new f({highlightStyle:{r0:Math.round(k.r-k.r/3),r:k.r,brushType:"fill",color:k.colorOut}});var t=[0,k.x,k.y];r.highlightStyle.x=p.highlightStyle.x=w.highlightStyle.x=t[1];r.highlightStyle.y=p.highlightStyle.y=w.highlightStyle.y=t[2];return setInterval(function(){m(l);m(w);t[0]-=0.3;r.rotation=t;m(r);m(p);m(o);q()},k.timeInterval)};return b});define("echarts/theme/macarons",[],function(){var a={color:["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],title:{textStyle:{fontWeight:"normal",color:"#008acd"}},dataRange:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{color:["#1e90ff","#1e90ff","#1e90ff","#1e90ff"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},bar:{itemStyle:{normal:{barBorderRadius:5},emphasis:{barBorderRadius:5}}},line:{smooth:true,symbol:"emptyCircle",symbolSize:3},k:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#d87a80"}}},emphasis:{areaStyle:{color:"#fe994e"}}}},force:{itemStyle:{normal:{linkStyle:{color:"#1e90ff"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{axisLine:{lineStyle:{color:[[0.2,"#2ec7c9"],[0.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a});define("echarts/theme/infographic",[],function(){var a={color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0"],title:{textStyle:{fontWeight:"normal",color:"#27727B"}},dataRange:{x:"right",y:"center",itemWidth:5,itemHeight:25,color:["#C1232B","#FCCE10"]},toolbox:{color:["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD"],effectiveColor:"#ff4500"},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#27727B",type:"dashed"},crossStyle:{color:"#27727B"},shadowStyle:{color:"rgba(200,200,200,0.3)"}}},dataZoom:{dataBackgroundColor:"rgba(181,195,52,0.3)",fillerColor:"rgba(181,195,52,0.2)",handleColor:"#27727B"},grid:{borderWidth:0},categoryAxis:{axisLine:{lineStyle:{color:"#27727B"}},splitLine:{show:false}},valueAxis:{axisLine:{show:false},splitArea:{show:false},splitLine:{lineStyle:{color:["#ccc"],type:"dashed"}}},polar:{axisLine:{lineStyle:{color:"#ddd"}},splitArea:{show:true,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(200,200,200,0.2)"]}},splitLine:{lineStyle:{color:"#ddd"}}},timeline:{lineStyle:{color:"#27727B"},controlStyle:{normal:{color:"#27727B"},emphasis:{color:"#27727B"}},symbol:"emptyCircle",symbolSize:3},line:{itemStyle:{normal:{borderWidth:2,borderColor:"#fff",lineStyle:{width:3}},emphasis:{borderWidth:0}},symbol:"circle",symbolSize:3.5},k:{itemStyle:{normal:{color:"#C1232B",color0:"#B5C334",lineStyle:{width:1,color:"#C1232B",color0:"#B5C334"}}}},scatter:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(200,200,200,0.5)"},emphasis:{borderWidth:0}},symbol:"star4",symbolSize:4},radar:{symbol:"emptyCircle",symbolSize:3},map:{itemStyle:{normal:{areaStyle:{color:"#ddd"},label:{textStyle:{color:"#C1232B"}}},emphasis:{areaStyle:{color:"#fe994e"},label:{textStyle:{color:"rgb(100,0,0)"}}}}},force:{itemStyle:{normal:{linkStyle:{color:"#27727B"}}}},chord:{itemStyle:{normal:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}},emphasis:{borderWidth:1,borderColor:"rgba(128, 128, 128, 0.5)",chordStyle:{lineStyle:{color:"rgba(128, 128, 128, 0.5)"}}}}},gauge:{center:["50%","80%"],radius:"100%",startAngle:180,endAngle:0,axisLine:{show:true,lineStyle:{color:[[0.2,"#B5C334"],[0.8,"#27727B"],[1,"#C1232B"]],width:"40%"}},axisTick:{splitNumber:2,length:5,lineStyle:{color:"#fff"}},axisLabel:{textStyle:{color:"#fff",fontWeight:"bolder"}},splitLine:{length:"5%",lineStyle:{color:"#fff"}},pointer:{width:"40%",length:"80%",color:"#fff"},title:{offsetCenter:[0,-20],textStyle:{color:"auto",fontSize:20}},detail:{offsetCenter:[0,0],textStyle:{color:"auto",fontSize:40}}},textStyle:{fontFamily:"微软雅黑, Arial, Verdana, sans-serif"}};return a});define("zrender/dep/excanvas",[],function(b,a,c){if(!document.createElement("canvas").getContext){(function(){var ae=Math;var r=ae.round;var q=ae.sin;var D=ae.cos;var K=ae.abs;var Q=ae.sqrt;var g=10;var k=g/2;var C=+navigator.userAgent.match(/MSIE ([\d.]+)?/)[1];function B(){return this.context_||(this.context_=new G(this))}var w=Array.prototype.slice;function l(j,m,p){var i=w.call(arguments,2);return function(){return j.apply(m,i.concat(w.call(arguments)))}}function ai(i){return String(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;")}function ac(m,j,i){if(!m.namespaces[j]){m.namespaces.add(j,i,"#default#VML")}}function U(j){ac(j,"g_vml_","urn:schemas-microsoft-com:vml");ac(j,"g_o_","urn:schemas-microsoft-com:office:office");if(!j.styleSheets.ex_canvas_){var i=j.createStyleSheet();i.owningElement.id="ex_canvas_";i.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}"}}U(document);var h={init:function(i){var j=i||document;j.createElement("canvas");j.attachEvent("onreadystatechange",l(this.init_,this,j))},init_:function(p){var m=p.getElementsByTagName("canvas");for(var j=0;j<m.length;j++){this.initElement(m[j])}},initElement:function(j){if(!j.getContext){j.getContext=B;U(j.ownerDocument);j.innerHTML="";j.attachEvent("onpropertychange",A);j.attachEvent("onresize",aa);var i=j.attributes;if(i.width&&i.width.specified){j.style.width=i.width.nodeValue+"px"}else{j.width=j.clientWidth}if(i.height&&i.height.specified){j.style.height=i.height.nodeValue+"px"}else{j.height=j.clientHeight}}return j}};function A(j){var i=j.srcElement;switch(j.propertyName){case"width":i.getContext().clearRect();i.style.width=i.attributes.width.nodeValue+"px";i.firstChild.style.width=i.clientWidth+"px";break;case"height":i.getContext().clearRect();i.style.height=i.attributes.height.nodeValue+"px";i.firstChild.style.height=i.clientHeight+"px";break}}function aa(j){var i=j.srcElement;if(i.firstChild){i.firstChild.style.width=i.clientWidth+"px";i.firstChild.style.height=i.clientHeight+"px"}}h.init();var o=[];for(var ah=0;ah<16;ah++){for(var ag=0;ag<16;ag++){o[ah*16+ag]=ah.toString(16)+ag.toString(16)}}function E(){return[[1,0,0],[0,1,0],[0,0,1]]}function M(p,m){var j=E();for(var i=0;i<3;i++){for(var ak=0;ak<3;ak++){var Z=0;for(var aj=0;aj<3;aj++){Z+=p[i][aj]*m[aj][ak]}j[i][ak]=Z}}return j}function y(j,i){i.fillStyle=j.fillStyle;i.lineCap=j.lineCap;i.lineJoin=j.lineJoin;i.lineWidth=j.lineWidth;i.miterLimit=j.miterLimit;i.shadowBlur=j.shadowBlur;i.shadowColor=j.shadowColor;i.shadowOffsetX=j.shadowOffsetX;i.shadowOffsetY=j.shadowOffsetY;i.strokeStyle=j.strokeStyle;i.globalAlpha=j.globalAlpha;i.font=j.font;i.textAlign=j.textAlign;i.textBaseline=j.textBaseline;i.scaleX_=j.scaleX_;i.scaleY_=j.scaleY_;i.lineScale_=j.lineScale_}var e={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",grey:"#808080",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",oldlace:"#FDF5E6",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",whitesmoke:"#F5F5F5",yellowgreen:"#9ACD32"};function P(j){var p=j.indexOf("(",3);var i=j.indexOf(")",p+1);var m=j.substring(p+1,i).split(",");if(m.length!=4||j.charAt(3)!="a"){m[3]=1}return m}function f(i){return parseFloat(i)/100}function u(j,m,i){return Math.min(i,Math.max(m,j))}function L(aj){var i,al,am,ak,an,Z;ak=parseFloat(aj[0])/360%360;if(ak<0){ak++}an=u(f(aj[1]),0,1);Z=u(f(aj[2]),0,1);if(an==0){i=al=am=Z}else{var j=Z<0.5?Z*(1+an):Z+an-Z*an;var m=2*Z-j;i=d(m,j,ak+1/3);al=d(m,j,ak);am=d(m,j,ak-1/3)}return"#"+o[Math.floor(i*255)]+o[Math.floor(al*255)]+o[Math.floor(am*255)]}function d(j,i,m){if(m<0){m++}if(m>1){m--}if(6*m<1){return j+(i-j)*6*m}else{if(2*m<1){return i}else{if(3*m<2){return j+(i-j)*(2/3-m)*6}else{return j}}}}var F={};function I(j){if(j in F){return F[j]}var aj,Z=1;j=String(j);if(j.charAt(0)=="#"){aj=j}else{if(/^rgb/.test(j)){var p=P(j);var aj="#",ak;for(var m=0;m<3;m++){if(p[m].indexOf("%")!=-1){ak=Math.floor(f(p[m])*255)}else{ak=+p[m]}aj+=o[u(ak,0,255)]}Z=+p[3]}else{if(/^hsl/.test(j)){var p=P(j);aj=L(p);Z=p[3]}else{aj=e[j]||j}}}return F[j]={color:aj,alpha:Z}}var s={style:"normal",variant:"normal",weight:"normal",size:12,family:"微软雅黑"};var O={};function H(j){if(O[j]){return O[j]}var Z=document.createElement("div");var p=Z.style;var i;try{p.font=j;i=p.fontFamily.split(",")[0]}catch(m){}return O[j]={style:p.fontStyle||s.style,variant:p.fontVariant||s.variant,weight:p.fontWeight||s.weight,size:p.fontSize||s.size,family:i||s.family}}function x(m,j){var i={};for(var ak in m){i[ak]=m[ak]}var aj=parseFloat(j.currentStyle.fontSize),Z=parseFloat(m.size);if(typeof m.size=="number"){i.size=m.size}else{if(m.size.indexOf("px")!=-1){i.size=Z}else{if(m.size.indexOf("em")!=-1){i.size=aj*Z}else{if(m.size.indexOf("%")!=-1){i.size=aj/100*Z}else{if(m.size.indexOf("pt")!=-1){i.size=Z/0.75}else{i.size=aj}}}}}return i}function af(i){return i.style+" "+i.variant+" "+i.weight+" "+i.size+"px '"+i.family+"'"}var v={butt:"flat",round:"round"};function V(i){return v[i]||"square"}function G(i){this.m_=E();this.mStack_=[];this.aStack_=[];this.currentPath_=[];this.strokeStyle="#000";this.fillStyle="#000";this.lineWidth=1;this.lineJoin="miter";this.lineCap="butt";this.miterLimit=g*1;this.globalAlpha=1;this.font="12px 微软雅黑";this.textAlign="left";this.textBaseline="alphabetic";this.canvas=i;var m="width:"+i.clientWidth+"px;height:"+i.clientHeight+"px;overflow:hidden;position:absolute";var j=i.ownerDocument.createElement("div");j.style.cssText=m;i.appendChild(j);var p=j.cloneNode(false);p.style.backgroundColor="#fff";p.style.filter="alpha(opacity=0)";i.appendChild(p);this.element_=j;this.scaleX_=1;this.scaleY_=1;this.lineScale_=1}var t=G.prototype;t.clearRect=function(){if(this.textMeasureEl_){this.textMeasureEl_.removeNode(true);this.textMeasureEl_=null}this.element_.innerHTML=""};t.beginPath=function(){this.currentPath_=[]};t.moveTo=function(j,i){var m=Y(this,j,i);this.currentPath_.push({type:"moveTo",x:m.x,y:m.y});this.currentX_=m.x;this.currentY_=m.y};t.lineTo=function(j,i){var m=Y(this,j,i);this.currentPath_.push({type:"lineTo",x:m.x,y:m.y});this.currentX_=m.x;this.currentY_=m.y};t.bezierCurveTo=function(m,j,an,am,al,aj){var i=Y(this,al,aj);var ak=Y(this,m,j);var Z=Y(this,an,am);N(this,ak,Z,i)};function N(i,Z,m,j){i.currentPath_.push({type:"bezierCurveTo",cp1x:Z.x,cp1y:Z.y,cp2x:m.x,cp2y:m.y,x:j.x,y:j.y});i.currentX_=j.x;i.currentY_=j.y}t.quadraticCurveTo=function(al,m,j,i){var ak=Y(this,al,m);var aj=Y(this,j,i);var am={x:this.currentX_+2/3*(ak.x-this.currentX_),y:this.currentY_+2/3*(ak.y-this.currentY_)};var Z={x:am.x+(aj.x-this.currentX_)/3,y:am.y+(aj.y-this.currentY_)/3};N(this,am,Z,aj)};t.arc=function(ao,am,an,aj,j,m){an*=g;var at=m?"at":"wa";var ap=ao+D(aj)*an-k;var ar=am+q(aj)*an-k;var i=ao+D(j)*an-k;var aq=am+q(j)*an-k;if(ap==i&&!m){ap+=0.125}var Z=Y(this,ao,am);var al=Y(this,ap,ar);var ak=Y(this,i,aq);this.currentPath_.push({type:at,x:Z.x,y:Z.y,radius:an,xStart:al.x,yStart:al.y,xEnd:ak.x,yEnd:ak.y})};t.rect=function(m,j,i,p){this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+p);this.lineTo(m,j+p);this.closePath()};t.strokeRect=function(m,j,i,p){var Z=this.currentPath_;this.beginPath();this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+p);this.lineTo(m,j+p);this.closePath();this.stroke();this.currentPath_=Z};t.fillRect=function(m,j,i,p){var Z=this.currentPath_;this.beginPath();this.moveTo(m,j);this.lineTo(m+i,j);this.lineTo(m+i,j+p);this.lineTo(m,j+p);this.closePath();this.fill();this.currentPath_=Z};t.createLinearGradient=function(j,p,i,m){var Z=new X("gradient");Z.x0_=j;Z.y0_=p;Z.x1_=i;Z.y1_=m;return Z};t.createRadialGradient=function(p,aj,m,j,Z,i){var ak=new X("gradientradial");ak.x0_=p;ak.y0_=aj;ak.r0_=m;ak.x1_=j;ak.y1_=Z;ak.r1_=i;return ak};t.drawImage=function(au,m){var am,ak,ao,aB,ar,ap,aw,aF;var an=au.runtimeStyle.width;var at=au.runtimeStyle.height;au.runtimeStyle.width="auto";au.runtimeStyle.height="auto";var al=au.width;var az=au.height;au.runtimeStyle.width=an;au.runtimeStyle.height=at;if(arguments.length==3){am=arguments[1];ak=arguments[2];ar=ap=0;aw=ao=al;aF=aB=az}else{if(arguments.length==5){am=arguments[1];ak=arguments[2];ao=arguments[3];aB=arguments[4];ar=ap=0;aw=al;aF=az}else{if(arguments.length==9){ar=arguments[1];ap=arguments[2];aw=arguments[3];aF=arguments[4];am=arguments[5];ak=arguments[6];ao=arguments[7];aB=arguments[8]}else{throw Error("Invalid number of arguments")}}}var aC=Y(this,am,ak);var p=aw/2;var j=aF/2;var aA=[];var i=10;var aj=10;var aE=aD=1;aA.push(" <g_vml_:group",' coordsize="',g*i,",",g*aj,'"',' coordorigin="0,0"',' style="width:',i,"px;height:",aj,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]||this.m_[1][1]!=1||this.m_[1][0]){var Z=[];var aE=this.scaleX_;var aD=this.scaleY_;Z.push("M11=",this.m_[0][0]/aE,",","M12=",this.m_[1][0]/aD,",","M21=",this.m_[0][1]/aE,",","M22=",this.m_[1][1]/aD,",","Dx=",r(aC.x/g),",","Dy=",r(aC.y/g),"");var ay=aC;var ax=Y(this,am+ao,ak);var av=Y(this,am,ak+aB);var aq=Y(this,am+ao,ak+aB);ay.x=ae.max(ay.x,ax.x,av.x,aq.x);ay.y=ae.max(ay.y,ax.y,av.y,aq.y);aA.push("padding:0 ",r(ay.x/g),"px ",r(ay.y/g),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",Z.join(""),", SizingMethod='clip');")}else{aA.push("top:",r(aC.y/g),"px;left:",r(aC.x/g),"px;")}aA.push(' ">');if(ar||ap){aA.push('<div style="overflow: hidden; width:',Math.ceil((ao+ar*ao/aw)*aE),"px;"," height:",Math.ceil((aB+ap*aB/aF)*aD),"px;"," filter:progid:DxImageTransform.Microsoft.Matrix(Dx=",-ar*ao/aw*aE,",Dy=",-ap*aB/aF*aD,');">')}aA.push('<div style="width:',Math.round(aE*al*ao/aw),"px;"," height:",Math.round(aD*az*aB/aF),"px;"," filter:");if(this.globalAlpha<1){aA.push(" progid:DXImageTransform.Microsoft.Alpha(opacity="+this.globalAlpha*100+")")}aA.push(" progid:DXImageTransform.Microsoft.AlphaImageLoader(src=",au.src,',sizingMethod=scale)">');if(ar||ap){aA.push("</div>")}aA.push("</div></div>");this.element_.insertAdjacentHTML("BeforeEnd",aA.join(""))};t.stroke=function(ao){var am=[];var Z=false;var m=10;var ap=10;am.push("<g_vml_:shape",' filled="',!!ao,'"',' style="position:absolute;width:',m,"px;height:",ap,'px;"',' coordorigin="0,0"',' coordsize="',g*m,",",g*ap,'"',' stroked="',!ao,'"',' path="');var aq=false;var aj={x:null,y:null};var an={x:null,y:null};for(var ak=0;ak<this.currentPath_.length;ak++){var j=this.currentPath_[ak];var al;switch(j.type){case"moveTo":al=j;am.push(" m ",r(j.x),",",r(j.y));break;case"lineTo":am.push(" l ",r(j.x),",",r(j.y));break;case"close":am.push(" x ");j=null;break;case"bezierCurveTo":am.push(" c ",r(j.cp1x),",",r(j.cp1y),",",r(j.cp2x),",",r(j.cp2y),",",r(j.x),",",r(j.y));break;case"at":case"wa":am.push(" ",j.type," ",r(j.x-this.scaleX_*j.radius),",",r(j.y-this.scaleY_*j.radius)," ",r(j.x+this.scaleX_*j.radius),",",r(j.y+this.scaleY_*j.radius)," ",r(j.xStart),",",r(j.yStart)," ",r(j.xEnd),",",r(j.yEnd));break}if(j){if(aj.x==null||j.x<aj.x){aj.x=j.x}if(an.x==null||j.x>an.x){an.x=j.x}if(aj.y==null||j.y<aj.y){aj.y=j.y}if(an.y==null||j.y>an.y){an.y=j.y}}}am.push(' ">');if(!ao){z(this,am)}else{J(this,am,aj,an)}am.push("</g_vml_:shape>");this.element_.insertAdjacentHTML("beforeEnd",am.join(""))};function z(m,aj){var j=I(m.strokeStyle);var p=j.color;var Z=j.alpha*m.globalAlpha;var i=m.lineScale_*m.lineWidth;if(i<1){Z*=i}aj.push("<g_vml_:stroke",' opacity="',Z,'"',' joinstyle="',m.lineJoin,'"',' miterlimit="',m.miterLimit,'"',' endcap="',V(m.lineCap),'"',' weight="',i,'px"',' color="',p,'" />')}function J(au,al,aN,av){var am=au.fillStyle;var aE=au.scaleX_;var aD=au.scaleY_;var j=av.x-aN.x;var p=av.y-aN.y;if(am instanceof X){var aq=0;var aI={x:0,y:0};var aA=0;var ap=1;if(am.type_=="gradient"){var ao=am.x0_/aE;var m=am.y0_/aD;var an=am.x1_/aE;var aP=am.y1_/aD;var aM=Y(au,ao,m);var aL=Y(au,an,aP);var aj=aL.x-aM.x;var Z=aL.y-aM.y;aq=Math.atan2(aj,Z)*180/Math.PI;if(aq<0){aq+=360}if(aq<0.000001){aq=0}}else{var aM=Y(au,am.x0_,am.y0_);aI={x:(aM.x-aN.x)/j,y:(aM.y-aN.y)/p};j/=aE*g;p/=aD*g;var aG=ae.max(j,p);aA=2*am.r0_/aG;ap=2*am.r1_/aG-aA}var ay=am.colors_;ay.sort(function(aQ,i){return aQ.offset-i.offset});var at=ay.length;var ax=ay[0].color;var aw=ay[at-1].color;var aC=ay[0].alpha*au.globalAlpha;var aB=ay[at-1].alpha*au.globalAlpha;var aH=[];for(var aK=0;aK<at;aK++){var ar=ay[aK];aH.push(ar.offset*ap+aA+" "+ar.color)}al.push('<g_vml_:fill type="',am.type_,'"',' method="none" focus="100%"',' color="',ax,'"',' color2="',aw,'"',' colors="',aH.join(","),'"',' opacity="',aB,'"',' g_o_:opacity2="',aC,'"',' angle="',aq,'"',' focusposition="',aI.x,",",aI.y,'" />')}else{if(am instanceof W){if(j&&p){var ak=-aN.x;var aF=-aN.y;al.push("<g_vml_:fill",' position="',ak/j*aE*aE,",",aF/p*aD*aD,'"',' type="tile"',' src="',am.src_,'" />')}}else{var aO=I(au.fillStyle);var az=aO.color;var aJ=aO.alpha*au.globalAlpha;al.push('<g_vml_:fill color="',az,'" opacity="',aJ,'" />')}}}t.fill=function(){this.stroke(true)};t.closePath=function(){this.currentPath_.push({type:"close"})};function Y(j,Z,p){var i=j.m_;return{x:g*(Z*i[0][0]+p*i[1][0]+i[2][0])-k,y:g*(Z*i[0][1]+p*i[1][1]+i[2][1])-k}}t.save=function(){var i={};y(this,i);this.aStack_.push(i);this.mStack_.push(this.m_);this.m_=M(E(),this.m_)};t.restore=function(){if(this.aStack_.length){y(this.aStack_.pop(),this);this.m_=this.mStack_.pop()}};function n(i){return isFinite(i[0][0])&&isFinite(i[0][1])&&isFinite(i[1][0])&&isFinite(i[1][1])&&isFinite(i[2][0])&&isFinite(i[2][1])}function ad(j,i,p){if(!n(i)){return}j.m_=i;j.scaleX_=Math.sqrt(i[0][0]*i[0][0]+i[0][1]*i[0][1]);j.scaleY_=Math.sqrt(i[1][0]*i[1][0]+i[1][1]*i[1][1]);if(p){var Z=i[0][0]*i[1][1]-i[0][1]*i[1][0];j.lineScale_=Q(K(Z))}}t.translate=function(m,j){var i=[[1,0,0],[0,1,0],[m,j,1]];ad(this,M(i,this.m_),false)};t.rotate=function(j){var p=D(j);var m=q(j);var i=[[p,m,0],[-m,p,0],[0,0,1]];ad(this,M(i,this.m_),false)};t.scale=function(m,j){var i=[[m,0,0],[0,j,0],[0,0,1]];ad(this,M(i,this.m_),true)};t.transform=function(Z,p,ak,aj,j,i){var m=[[Z,p,0],[ak,aj,0],[j,i,1]];ad(this,M(m,this.m_),true)};t.setTransform=function(aj,Z,al,ak,p,j){var i=[[aj,Z,0],[al,ak,0],[p,j,1]];ad(this,i,true)};t.drawText_=function(ap,an,am,at,al){var ar=this.m_,aw=1000,j=0,av=aw,ak={x:0,y:0},aj=[];var i=x(H(this.font),this.element_);var p=af(i);var ax=this.element_.currentStyle;var Z=this.textAlign.toLowerCase();switch(Z){case"left":case"center":case"right":break;case"end":Z=ax.direction=="ltr"?"right":"left";break;case"start":Z=ax.direction=="rtl"?"right":"left";break;default:Z="left"}switch(this.textBaseline){case"hanging":case"top":ak.y=i.size/1.75;break;case"middle":break;default:case null:case"alphabetic":case"ideographic":case"bottom":ak.y=-i.size/2.25;break}switch(Z){case"right":j=aw;av=0.05;break;case"center":j=av=aw/2;break}var au=Y(this,an+ak.x,am+ak.y);aj.push('<g_vml_:line from="',-j,' 0" to="',av,' 0.05" ',' coordsize="100 100" coordorigin="0 0"',' filled="',!al,'" stroked="',!!al,'" style="position:absolute;width:1px;height:1px;">');if(al){z(this,aj)}else{J(this,aj,{x:-j,y:0},{x:av,y:i.size})}var aq=ar[0][0].toFixed(3)+","+ar[1][0].toFixed(3)+","+ar[0][1].toFixed(3)+","+ar[1][1].toFixed(3)+",0,0";var ao=r(au.x/g)+","+r(au.y/g);aj.push('<g_vml_:skew on="t" matrix="',aq,'" ',' offset="',ao,'" origin="',j,' 0" />','<g_vml_:path textpathok="true" />','<g_vml_:textpath on="true" string="',ai(ap),'" style="v-text-align:',Z,";font:",ai(p),'" /></g_vml_:line>');this.element_.insertAdjacentHTML("beforeEnd",aj.join(""))};t.fillText=function(m,i,p,j){this.drawText_(m,i,p,j,false)};t.strokeText=function(m,i,p,j){this.drawText_(m,i,p,j,true)};t.measureText=function(p){if(!this.textMeasureEl_){var j='<span style="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;"></span>';this.element_.insertAdjacentHTML("beforeEnd",j);this.textMeasureEl_=this.element_.lastChild}var m=this.element_.ownerDocument;this.textMeasureEl_.innerHTML="";try{this.textMeasureEl_.style.font=this.font}catch(i){}this.textMeasureEl_.appendChild(m.createTextNode(p));return{width:this.textMeasureEl_.offsetWidth}};t.clip=function(){};t.arcTo=function(){};t.createPattern=function(j,i){return new W(j,i)};function X(i){this.type_=i;this.x0_=0;this.y0_=0;this.r0_=0;this.x1_=0;this.y1_=0;this.r1_=0;this.colors_=[]}X.prototype.addColorStop=function(j,i){i=I(i);this.colors_.push({offset:j,color:i.color,alpha:i.alpha})};function W(j,i){T(j);switch(i){case"repeat":case null:case"":this.repetition_="repeat";break;case"repeat-x":case"repeat-y":case"no-repeat":this.repetition_=i;break;default:R("SYNTAX_ERR")}this.src_=j.src;this.width_=j.width;this.height_=j.height}function R(i){throw new S(i)}function T(i){if(!i||i.nodeType!=1||i.tagName!="IMG"){R("TYPE_MISMATCH_ERR")}if(i.readyState!="complete"){R("INVALID_STATE_ERR")}}function S(i){this.code=this[i];this.message=i+": DOM Exception "+this.code}var ab=S.prototype=new Error();ab.INDEX_SIZE_ERR=1;ab.DOMSTRING_SIZE_ERR=2;ab.HIERARCHY_REQUEST_ERR=3;ab.WRONG_DOCUMENT_ERR=4;ab.INVALID_CHARACTER_ERR=5;ab.NO_DATA_ALLOWED_ERR=6;ab.NO_MODIFICATION_ALLOWED_ERR=7;ab.NOT_FOUND_ERR=8;ab.NOT_SUPPORTED_ERR=9;ab.INUSE_ATTRIBUTE_ERR=10;ab.INVALID_STATE_ERR=11;ab.SYNTAX_ERR=12;ab.INVALID_MODIFICATION_ERR=13;ab.NAMESPACE_ERR=14;ab.INVALID_ACCESS_ERR=15;ab.VALIDATION_ERR=16;ab.TYPE_MISMATCH_ERR=17;G_vmlCanvasManager=h;CanvasRenderingContext2D=G;CanvasGradient=X;CanvasPattern=W;DOMException=S}())}else{G_vmlCanvasManager=false}return G_vmlCanvasManager});define("zrender/mixin/Eventful",[],function(b,a,c){var d=function(){this._handlers={}};d.prototype.one=function(g,f,e){var h=this._handlers;if(!f||!g){return this}if(!h[g]){h[g]=[]}h[g].push({h:f,one:true,ctx:e||this});return this};d.prototype.bind=function(g,f,e){var h=this._handlers;if(!f||!g){return this}if(!h[g]){h[g]=[]}h[g].push({h:f,one:false,ctx:e||this});return this};d.prototype.unbind=function(j,h){var k=this._handlers;if(!j){this._handlers={};return this}if(h){if(k[j]){var g=[];for(var f=0,e=k[j].length;f<e;f++){if(k[j][f]["h"]!=h){g.push(k[j][f])}}k[j]=g}if(k[j]&&k[j].length===0){delete k[j]}}else{delete k[j]}return this};d.prototype.dispatch=function(j){if(this._handlers[j]){var g=arguments;var f=g.length;if(f>3){g=Array.prototype.slice.call(g,1)}var k=this._handlers[j];var e=k.length;for(var h=0;h<e;){switch(f){case 1:k[h]["h"].call(k[h]["ctx"]);break;case 2:k[h]["h"].call(k[h]["ctx"],g[1]);break;case 3:k[h]["h"].call(k[h]["ctx"],g[1],g[2]);break;default:k[h]["h"].apply(k[h]["ctx"],g);break}if(k[h]["one"]){k.splice(h,1);e--}else{h++}}}return this};d.prototype.dispatchWithContext=function(k){if(this._handlers[k]){var h=arguments;var g=h.length;if(g>4){h=Array.prototype.slice.call(h,1,h.length-1)}var f=h[h.length-1];var l=this._handlers[k];var e=l.length;for(var j=0;j<e;){switch(g){case 1:l[j]["h"].call(f);break;case 2:l[j]["h"].call(f,h[1]);break;case 3:l[j]["h"].call(f,h[1],h[2]);break;default:l[j]["h"].apply(f,h);break}if(l[j]["one"]){l.splice(j,1);e--}else{j++}}}return this};return d});define("zrender/tool/log",["../config"],function(c,a,d){var b=c("../config");return function(){if(b.debugMode===0){return}else{if(b.debugMode==1){for(var e in arguments){throw new Error(arguments[e])}}else{if(b.debugMode>1){for(var e in arguments){console.log(arguments[e])}}}}}});define("zrender/tool/guid",[],function(){var a=2311;return function(){return"zrender__"+a++}});define("zrender/Handler",["./config","./tool/env","./tool/event","./tool/util","./tool/vector","./tool/matrix","./mixin/Eventful"],function(i,t,d){var s=i("./config");var q=i("./tool/env");var j=i("./tool/event");var b=i("./tool/util");var c=i("./tool/vector");var o=i("./tool/matrix");var g=s.EVENT;var f=i("./mixin/Eventful");var k=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"];var n=function(u){if(window.G_vmlCanvasManager){return true}u=u||window.event;var v=u.toElement||u.relatedTarget||u.srcElement||u.target;return v&&v.className.match(s.elementClassName)};var h={resize:function(u){u=u||window.event;this._lastHover=null;this._isMouseDown=0;this.dispatch(g.RESIZE,u)},click:function(w,u){if(!n(w)&&!u){return}w=this._zrenderEventFixed(w);var v=this._lastHover;if(v&&v.clickable||!v){if(this._clickThreshold<5){this._dispatchAgency(v,g.CLICK,w)}}this._mousemoveHandler(w)},dblclick:function(w,u){if(!n(w)&&!u){return}w=w||window.event;w=this._zrenderEventFixed(w);var v=this._lastHover;if(v&&v.clickable||!v){if(this._clickThreshold<5){this._dispatchAgency(v,g.DBLCLICK,w)}}this._mousemoveHandler(w)},mousewheel:function(y,u){if(!n(y)&&!u){return}y=this._zrenderEventFixed(y);var A=y.wheelDelta||-y.detail;var z=A>0?1.1:1/1.1;var x=false;var w=this._mouseX;var v=this._mouseY;this.painter.eachBuildinLayer(function(C){var D=C.position;if(C.zoomable){C.__zoom=C.__zoom||1;var B=C.__zoom;B*=z;B=Math.max(Math.min(C.maxZoom,B),C.minZoom);z=B/C.__zoom;C.__zoom=B;D[0]-=(w-D[0])*(z-1);D[1]-=(v-D[1])*(z-1);C.scale[0]*=z;C.scale[1]*=z;C.dirty=true;x=true;j.stop(y)}});if(x){this.painter.refresh()}this._dispatchAgency(this._lastHover,g.MOUSEWHEEL,y);this._mousemoveHandler(y)},mousemove:function(y,v){if(!n(y)&&!v){return}if(this.painter.isLoading()){return}y=this._zrenderEventFixed(y);this._lastX=this._mouseX;this._lastY=this._mouseY;this._mouseX=j.getX(y);this._mouseY=j.getY(y);var w=this._mouseX-this._lastX;var u=this._mouseY-this._lastY;this._processDragStart(y);this._hasfound=0;this._event=y;this._iterateAndFindHover();if(!this._hasfound){if(!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget){this._processOutShape(y);this._processDragLeave(y)}this._lastHover=null;this.storage.delHover();this.painter.clearHover()}var z="default";if(this._draggingTarget){this.storage.drift(this._draggingTarget.id,w,u);this._draggingTarget.modSelf();this.storage.addHover(this._draggingTarget);this._clickThreshold++}else{if(this._isMouseDown){var x=false;this.painter.eachBuildinLayer(function(A){if(A.panable){z="move";A.position[0]+=w;A.position[1]+=u;x=true;A.dirty=true}});if(x){this.painter.refresh()}}}if(this._draggingTarget||this._hasfound&&this._lastHover.draggable){z="move"}else{if(this._hasfound&&this._lastHover.clickable){z="pointer"}}this.root.style.cursor=z;this._dispatchAgency(this._lastHover,g.MOUSEMOVE,y);if(this._draggingTarget||this._hasfound||this.storage.hasHoverShape()){this.painter.refreshHover()}},mouseout:function(w,u){if(!n(w)&&!u){return}w=this._zrenderEventFixed(w);var v=w.toElement||w.relatedTarget;if(v!=this.root){while(v&&v.nodeType!=9){if(v==this.root){this._mousemoveHandler(w);return}v=v.parentNode}}w.zrenderX=this._lastX;w.zrenderY=this._lastY;this.root.style.cursor="default";this._isMouseDown=0;this._processOutShape(w);this._processDrop(w);this._processDragEnd(w);if(!this.painter.isLoading()){this.painter.refreshHover()}this.dispatch(g.GLOBALOUT,w)},mousedown:function(v,u){if(!n(v)&&!u){return}this._clickThreshold=0;if(this._lastDownButton==2){this._lastDownButton=v.button;this._mouseDownTarget=null;return}this._lastMouseDownMoment=new Date();v=this._zrenderEventFixed(v);this._isMouseDown=1;this._mouseDownTarget=this._lastHover;this._dispatchAgency(this._lastHover,g.MOUSEDOWN,v);this._lastDownButton=v.button},mouseup:function(v,u){if(!n(v)&&!u){return}v=this._zrenderEventFixed(v);this.root.style.cursor="default";this._isMouseDown=0;this._mouseDownTarget=null;this._dispatchAgency(this._lastHover,g.MOUSEUP,v);this._processDrop(v);this._processDragEnd(v)},touchstart:function(v,u){if(!n(v)&&!u){return}v=this._zrenderEventFixed(v,true);this._lastTouchMoment=new Date();this._mobileFindFixed(v);this._mousedownHandler(v)},touchmove:function(v,u){if(!n(v)&&!u){return}v=this._zrenderEventFixed(v,true);this._mousemoveHandler(v);if(this._isDragging){j.stop(v)}},touchend:function(w,u){if(!n(w)&&!u){return}w=this._zrenderEventFixed(w,true);this._mouseupHandler(w);var v=new Date();if(v-this._lastTouchMoment<g.touchClickDelay){this._mobileFindFixed(w);this._clickHandler(w);if(v-this._lastClickMoment<g.touchClickDelay/2){this._dblclickHandler(w);if(this._lastHover&&this._lastHover.clickable){j.stop(w)}}this._lastClickMoment=v}this.painter.clearHover()}};function r(v,u){return function(x,w){return v.call(u,x,w)}}function a(v,u){return function(y,x,w){return v.call(u,y,x,w)}}function e(v){var u=k.length;while(u--){var w=k[u];v["_"+w+"Handler"]=r(h[w],v)}}var m=function(v,w,u){f.call(this);this.root=v;this.storage=w;this.painter=u;this._lastX=this._lastY=this._mouseX=this._mouseY=0;this._findHover=a(p,this);this._domHover=u.getDomHover();e(this);if(window.addEventListener){window.addEventListener("resize",this._resizeHandler);if(q.os.tablet||q.os.phone){v.addEventListener("touchstart",this._touchstartHandler);v.addEventListener("touchmove",this._touchmoveHandler);v.addEventListener("touchend",this._touchendHandler)}else{v.addEventListener("click",this._clickHandler);v.addEventListener("dblclick",this._dblclickHandler);v.addEventListener("mousewheel",this._mousewheelHandler);v.addEventListener("mousemove",this._mousemoveHandler);v.addEventListener("mousedown",this._mousedownHandler);v.addEventListener("mouseup",this._mouseupHandler)}v.addEventListener("DOMMouseScroll",this._mousewheelHandler);v.addEventListener("mouseout",this._mouseoutHandler)}else{window.attachEvent("onresize",this._resizeHandler);v.attachEvent("onclick",this._clickHandler);v.ondblclick=this._dblclickHandler;v.attachEvent("onmousewheel",this._mousewheelHandler);v.attachEvent("onmousemove",this._mousemoveHandler);v.attachEvent("onmouseout",this._mouseoutHandler);v.attachEvent("onmousedown",this._mousedownHandler);v.attachEvent("onmouseup",this._mouseupHandler)}};m.prototype.on=function(u,w,v){this.bind(u,w,v);return this};m.prototype.un=function(u,v){this.unbind(u,v);return this};m.prototype.trigger=function(v,u){switch(v){case g.RESIZE:case g.CLICK:case g.DBLCLICK:case g.MOUSEWHEEL:case g.MOUSEMOVE:case g.MOUSEDOWN:case g.MOUSEUP:case g.MOUSEOUT:this["_"+v+"Handler"](u,true);break}};m.prototype.dispose=function(){var u=this.root;if(window.removeEventListener){window.removeEventListener("resize",this._resizeHandler);if(q.os.tablet||q.os.phone){u.removeEventListener("touchstart",this._touchstartHandler);u.removeEventListener("touchmove",this._touchmoveHandler);u.removeEventListener("touchend",this._touchendHandler)}else{u.removeEventListener("click",this._clickHandler);u.removeEventListener("dblclick",this._dblclickHandler);u.removeEventListener("mousewheel",this._mousewheelHandler);u.removeEventListener("mousemove",this._mousemoveHandler);u.removeEventListener("mousedown",this._mousedownHandler);u.removeEventListener("mouseup",this._mouseupHandler)}u.removeEventListener("DOMMouseScroll",this._mousewheelHandler);u.removeEventListener("mouseout",this._mouseoutHandler)}else{window.detachEvent("onresize",this._resizeHandler);u.detachEvent("onclick",this._clickHandler);u.detachEvent("dblclick",this._dblclickHandler);u.detachEvent("onmousewheel",this._mousewheelHandler);u.detachEvent("onmousemove",this._mousemoveHandler);u.detachEvent("onmouseout",this._mouseoutHandler);u.detachEvent("onmousedown",this._mousedownHandler);u.detachEvent("onmouseup",this._mouseupHandler)}this.root=this._domHover=this.storage=this.painter=null;this.un()};m.prototype._processDragStart=function(w){var v=this._lastHover;if(this._isMouseDown&&v&&v.draggable&&!this._draggingTarget&&this._mouseDownTarget==v){if(v.dragEnableTime&&new Date()-this._lastMouseDownMoment<v.dragEnableTime){return}var u=v;this._draggingTarget=u;this._isDragging=1;u.invisible=true;this.storage.mod(u.id);this._dispatchAgency(u,g.DRAGSTART,w);this.painter.refresh()}};m.prototype._processDragEnter=function(u){if(this._draggingTarget){this._dispatchAgency(this._lastHover,g.DRAGENTER,u,this._draggingTarget)}};m.prototype._processDragOver=function(u){if(this._draggingTarget){this._dispatchAgency(this._lastHover,g.DRAGOVER,u,this._draggingTarget)}};m.prototype._processDragLeave=function(u){if(this._draggingTarget){this._dispatchAgency(this._lastHover,g.DRAGLEAVE,u,this._draggingTarget)}};m.prototype._processDrop=function(u){if(this._draggingTarget){this._draggingTarget.invisible=false;this.storage.mod(this._draggingTarget.id);this.painter.refresh();this._dispatchAgency(this._lastHover,g.DROP,u,this._draggingTarget)}};m.prototype._processDragEnd=function(u){if(this._draggingTarget){this._dispatchAgency(this._draggingTarget,g.DRAGEND,u);this._lastHover=null}this._isDragging=0;this._draggingTarget=null};m.prototype._processOverShape=function(u){this._dispatchAgency(this._lastHover,g.MOUSEOVER,u)};m.prototype._processOutShape=function(u){this._dispatchAgency(this._lastHover,g.MOUSEOUT,u)};m.prototype._dispatchAgency=function(u,w,z,B){var x="on"+w;var A={type:w,event:z,target:u,cancelBubble:false};var y=u;if(B){A.dragged=B}while(y){y[x]&&(A.cancelBubble=y[x](A));y.dispatch(w,A);y=y.parent;if(A.cancelBubble){break}}if(u){if(!A.cancelBubble){this.dispatch(w,A)}}else{if(!B){var v={type:w,event:z};this.dispatch(w,v);this.painter.eachOtherLayer(function(C){if(typeof C[x]=="function"){C[x](v)}if(C.dispatch){C.dispatch(w,v)}})}}};m.prototype._iterateAndFindHover=function(){var u=o.create();return function(){var A=this.storage.getShapeList();var z;var w;var y=[0,0];for(var x=A.length-1;x>=0;x--){var v=A[x];if(z!==v.zlevel){w=this.painter.getLayer(v.zlevel,w);y[0]=this._mouseX;y[1]=this._mouseY;if(w.needTransform){o.invert(u,w.transform);c.applyTransform(y,y,u)}}if(this._findHover(v,y[0],y[1])){break}}}}();var l=[{x:10},{x:-20},{x:10,y:10},{y:-20}];m.prototype._mobileFindFixed=function(v){this._lastHover=null;this._mouseX=v.zrenderX;this._mouseY=v.zrenderY;this._event=v;this._iterateAndFindHover();for(var u=0;!this._lastHover&&u<l.length;u++){var w=l[u];w.x&&(this._mouseX+=w.x);w.y&&(this._mouseY+=w.y);this._iterateAndFindHover()}if(this._lastHover){v.zrenderX=this._mouseX;v.zrenderY=this._mouseY}};function p(v,u,A){if(this._draggingTarget&&this._draggingTarget.id==v.id||v.isSilent()){return false}var w=this._event;if(v.isCover(u,A)){if(v.hoverable){this.storage.addHover(v)}var z=v.parent;while(z){if(z.clipShape&&!z.clipShape.isCover(this._mouseX,this._mouseY)){return false}z=z.parent}if(this._lastHover!=v){this._processOutShape(w);this._processDragLeave(w);this._lastHover=v;this._processDragEnter(w)}this._processOverShape(w);this._processDragOver(w);this._hasfound=1;return true}return false}m.prototype._zrenderEventFixed=function(v,u){if(v.zrenderFixed){return v}if(!u){v=v||window.event;var w=v.toElement||v.relatedTarget||v.srcElement||v.target;if(w&&w!=this._domHover){v.zrenderX=(typeof v.offsetX!="undefined"?v.offsetX:v.layerX)+w.offsetLeft;v.zrenderY=(typeof v.offsetY!="undefined"?v.offsetY:v.layerY)+w.offsetTop}}else{var y=v.type!="touchend"?v.targetTouches[0]:v.changedTouches[0];if(y){var x=this.painter._domRoot.getBoundingClientRect();v.zrenderX=y.clientX-x.left;v.zrenderY=y.clientY-x.top}}v.zrenderFixed=1;return v};b.merge(m.prototype,f.prototype,true);return m});define("zrender/Painter",["./config","./tool/util","./tool/log","./loadingEffect/Base","./Layer","./shape/Image"],function(d,g,b){var c=d("./config");var i=d("./tool/util");var f=d("./tool/log");var k=d("./loadingEffect/Base");var e=d("./Layer");function a(){return false}function j(){}function l(m){if(!m){return false}if(m.isBuildin){return true}if(typeof m.resize!=="function"||typeof m.refresh!=="function"){return false}return true}var h=function(n,p){this.root=n;n.style["-webkit-tap-highlight-color"]="transparent";n.style["-webkit-user-select"]="none";n.style["user-select"]="none";n.style["-webkit-touch-callout"]="none";this.storage=p;n.innerHTML="";this._width=this._getWidth();this._height=this._getHeight();var m=document.createElement("div");this._domRoot=m;m.style.position="relative";m.style.overflow="hidden";m.style.width=this._width+"px";m.style.height=this._height+"px";n.appendChild(m);this._layers={};this._zlevelList=[];this._layerConfig={};this._loadingEffect=new k({});this.shapeToImage=this._createShapeToImageProcessor();this._bgDom=document.createElement("div");this._bgDom.style.cssText=["position:absolute;left:0px;top:0px;width:",this._width,"px;height:",this._height+"px;","-webkit-user-select:none;user-select;none;","-webkit-touch-callout:none;"].join("");this._bgDom.setAttribute("data-zr-dom-id","bg");this._bgDom.className=c.elementClassName;m.appendChild(this._bgDom);this._bgDom.onselectstart=a;var o=new e("_zrender_hover_",this);this._layers.hover=o;m.appendChild(o.dom);o.initContext();o.dom.onselectstart=a;o.dom.style["-webkit-user-select"]="none";o.dom.style["user-select"]="none";o.dom.style["-webkit-touch-callout"]="none";this.refreshNextFrame=null};h.prototype.render=function(m){if(this.isLoading()){this.hideLoading()}this.refresh(m,true);return this};h.prototype.refresh=function(r,m){var p=this.storage.getShapeList(true);this._paintList(p,m);for(var o=0;o<this._zlevelList.length;o++){var q=this._zlevelList[o];var n=this._layers[q];if(!n.isBuildin&&n.refresh){n.refresh()}}if(typeof r=="function"){r()}return this};h.prototype._preProcessLayer=function(m){m.unusedCount++;m.updateTransform()};h.prototype._postProcessLayer=function(m){m.dirty=false;if(m.unusedCount==1){m.clear()}};h.prototype._paintList=function(p,s){if(typeof s=="undefined"){s=false}this._updateLayerStatus(p);var o;var t;var u;this.eachBuildinLayer(this._preProcessLayer);for(var n=0,m=p.length;n<m;n++){var q=p[n];if(t!==q.zlevel){if(o){if(o.needTransform){u.restore()}u.flush&&u.flush()}t=q.zlevel;o=this.getLayer(t);if(!o.isBuildin){f("ZLevel "+t+" has been used by unkown layer "+o.id)}u=o.ctx;o.unusedCount=0;if(o.dirty||s){o.clear()}if(o.needTransform){u.save();o.setTransform(u)}}if((o.dirty||s)&&!q.invisible){if(!q.onbrush||q.onbrush&&!q.onbrush(u,false)){if(c.catchBrushException){try{q.brush(u,false,this.refreshNextFrame)}catch(r){f(r,"brush error of "+q.type,q)}}else{q.brush(u,false,this.refreshNextFrame)}}}q.__dirty=false}if(o){if(o.needTransform){u.restore()}u.flush&&u.flush()}this.eachBuildinLayer(this._postProcessLayer)};h.prototype.getLayer=function(m){var n=this._layers[m];if(!n){n=new e(m,this);n.isBuildin=true;if(this._layerConfig[m]){i.merge(n,this._layerConfig[m],true)}n.updateTransform();this.insertLayer(m,n);n.initContext()}return n};h.prototype.insertLayer=function(n,p){if(this._layers[n]){f("ZLevel "+n+" has been used already");return}if(!l(p)){f("Layer of zlevel "+n+" is not valid");return}var m=this._zlevelList.length;var q=null;var o=-1;if(m>0&&n>this._zlevelList[0]){for(o=0;o<m-1;o++){if(this._zlevelList[o]<n&&this._zlevelList[o+1]>n){break}}q=this._layers[this._zlevelList[o]]}this._zlevelList.splice(o+1,0,n);var r=q?q.dom:this._bgDom;if(r.nextSibling){r.parentNode.insertBefore(p.dom,r.nextSibling)}else{r.parentNode.appendChild(p.dom)}this._layers[n]=p};h.prototype.eachLayer=function(m,o){for(var n=0;n<this._zlevelList.length;n++){var p=this._zlevelList[n];m.call(o,this._layers[p],p)}};h.prototype.eachBuildinLayer=function(m,p){for(var o=0;o<this._zlevelList.length;o++){var q=this._zlevelList[o];var n=this._layers[q];if(n.isBuildin){m.call(p,n,q)}}};h.prototype.eachOtherLayer=function(m,p){for(var o=0;o<this._zlevelList.length;o++){var q=this._zlevelList[o];var n=this._layers[q];if(!n.isBuildin){m.call(p,n,q)}}};h.prototype.getLayers=function(){return this._layers};h.prototype._updateLayerStatus=function(s){var t=this._layers;var r={};this.eachBuildinLayer(function(u,v){r[v]=u.elCount;u.elCount=0});for(var q=0,n=s.length;q<n;q++){var o=s[q];var m=o.zlevel;var p=t[m];if(p){p.elCount++;if(p.dirty){continue}p.dirty=o.__dirty}}this.eachBuildinLayer(function(u,v){if(r[v]!==u.elCount){u.dirty=true}})};h.prototype.refreshShapes=function(p,q){for(var o=0,m=p.length;o<m;o++){var n=p[o];n.modSelf()}this.refresh(q);return this};h.prototype.setLoadingEffect=function(m){this._loadingEffect=m;return this};h.prototype.clear=function(){this.eachBuildinLayer(this._clearLayer);return this};h.prototype._clearLayer=function(m){m.clear()};h.prototype.modLayer=function(m,n){if(n){if(!this._layerConfig[m]){this._layerConfig[m]=n}else{i.merge(this._layerConfig[m],n,true)}var o=this._layers[m];if(o){i.merge(o,this._layerConfig[m],true)}}};h.prototype.delLayer=function(m){var n=this._layers[m];if(!n){return}this.modLayer(m,{position:n.position,rotation:n.rotation,scale:n.scale});n.dom.parentNode.removeChild(n.dom);delete this._layers[m];this._zlevelList.splice(i.indexOf(this._zlevelList,m),1)};h.prototype.refreshHover=function(){this.clearHover();var p=this.storage.getHoverShapes(true);for(var o=0,n=p.length;o<n;o++){this._brushHover(p[o])}var m=this._layers.hover.ctx;m.flush&&m.flush();this.storage.delHover();return this};h.prototype.clearHover=function(){var m=this._layers.hover;m&&m.clear();return this};h.prototype.showLoading=function(m){this._loadingEffect&&this._loadingEffect.stop();m&&this.setLoadingEffect(m);this._loadingEffect.start(this);this.loading=true;return this};h.prototype.hideLoading=function(){this._loadingEffect.stop();this.clearHover();this.loading=false;return this};h.prototype.isLoading=function(){return this.loading};h.prototype.resize=function(){var n=this._domRoot;n.style.display="none";var o=this._getWidth();var m=this._getHeight();n.style.display="";if(this._width!=o||m!=this._height){this._width=o;this._height=m;n.style.width=o+"px";n.style.height=m+"px";for(var p in this._layers){this._layers[p].resize(o,m)}this.refresh(null,true)}return this};h.prototype.clearLayer=function(n){var m=this._layers[n];if(m){m.clear()}};h.prototype.dispose=function(){if(this.isLoading()){this.hideLoading()}this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null};h.prototype.getDomHover=function(){return this._layers.hover.dom};h.prototype.toDataURL=function(r,p,q){if(window.G_vmlCanvasManager){return null}var n=new e("image",this);this._bgDom.appendChild(n.dom);n.initContext();var m=n.ctx;n.clearColor=p||"#fff";n.clear();var o=this;this.storage.iterShape(function(t){if(!t.invisible){if(!t.onbrush||t.onbrush&&!t.onbrush(m,false)){if(c.catchBrushException){try{t.brush(m,false,o.refreshNextFrame)}catch(u){f(u,"brush error of "+t.type,t)}}else{t.brush(m,false,o.refreshNextFrame)}}}},{normal:"up",update:true});var s=n.dom.toDataURL(r,q);m=null;this._bgDom.removeChild(n.dom);return s};h.prototype.getWidth=function(){return this._width};h.prototype.getHeight=function(){return this._height};h.prototype._getWidth=function(){var m=this.root;var n=m.currentStyle||document.defaultView.getComputedStyle(m);return((m.clientWidth||parseInt(n.width,10))-parseInt(n.paddingLeft,10)-parseInt(n.paddingRight,10)).toFixed(0)-0};h.prototype._getHeight=function(){var m=this.root;var n=m.currentStyle||document.defaultView.getComputedStyle(m);return((m.clientHeight||parseInt(n.height,10))-parseInt(n.paddingTop,10)-parseInt(n.paddingBottom,10)).toFixed(0)-0};h.prototype._brushHover=function(n){var m=this._layers.hover.ctx;if(!n.onbrush||n.onbrush&&!n.onbrush(m,true)){var p=this.getLayer(n.zlevel);if(p.needTransform){m.save();p.setTransform(m)}if(c.catchBrushException){try{n.brush(m,true,this.refreshNextFrame)}catch(o){f(o,"hoverBrush error of "+n.type,n)}}else{n.brush(m,true,this.refreshNextFrame)}if(p.needTransform){m.restore()}}};h.prototype._shapeToImage=function(n,s,o,u,t){var p=document.createElement("canvas");var v=p.getContext("2d");p.style.width=o+"px";p.style.height=u+"px";p.setAttribute("width",o*t);p.setAttribute("height",u*t);v.clearRect(0,0,o*t,u*t);var r={position:s.position,rotation:s.rotation,scale:s.scale};s.position=[0,0,0];s.rotation=0;s.scale=[1,1];if(s){s.brush(v,false)}var m=d("./shape/Image");var q=new m({id:n,style:{x:0,y:0,image:p}});if(r.position!=null){q.position=s.position=r.position}if(r.rotation!=null){q.rotation=s.rotation=r.rotation}if(r.scale!=null){q.scale=s.scale=r.scale}return q};h.prototype._createShapeToImageProcessor=function(){if(window.G_vmlCanvasManager){return j}var m=this;return function(q,p,o,n){return m._shapeToImage(q,p,o,n,c.devicePixelRatio)}};return h});define("zrender/Storage",["./tool/util","./Group"],function(e,c,f){var a=e("./tool/util");var d=e("./Group");var b={hover:false,normal:"down",update:false};function h(j,i){if(j.zlevel==i.zlevel){if(j.z==i.z){return j.__renderidx-i.__renderidx}return j.z-i.z}return j.zlevel-i.zlevel}var g=function(){this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0};g.prototype.iterShape=function(k,o){if(!o){o=b}if(o.hover){for(var m=0,j=this._hoverElements.length;m<j;m++){var n=this._hoverElements[m];n.updateTransform();if(k(n)){return this}}}if(o.update){this.updateShapeList()}switch(o.normal){case"down":var j=this._shapeList.length;while(j--){if(k(this._shapeList[j])){return this}}break;default:for(var m=0,j=this._shapeList.length;m<j;m++){if(k(this._shapeList[m])){return this}}break}return this};g.prototype.getHoverShapes=function(t){var n=[];for(var r=0,m=this._hoverElements.length;r<m;r++){n.push(this._hoverElements[r]);var s=this._hoverElements[r].hoverConnect;if(s){var p;s=s instanceof Array?s:[s];for(var q=0,o=s.length;q<o;q++){p=s[q].id?s[q]:this.get(s[q]);if(p){n.push(p)}}}}n.sort(h);if(t){for(var r=0,m=n.length;r<m;r++){n[r].updateTransform()}}return n};g.prototype.getShapeList=function(i){if(i){this.updateShapeList()}return this._shapeList};g.prototype.updateShapeList=function(){this._shapeListOffset=0;for(var l=0,j=this._roots.length;l<j;l++){var k=this._roots[l];this._updateAndAddShape(k)}this._shapeList.length=this._shapeListOffset;for(var l=0,j=this._shapeList.length;l<j;l++){this._shapeList[l].__renderidx=l}this._shapeList.sort(h)};g.prototype._updateAndAddShape=function(k,l){if(k.ignore){return}k.updateTransform();if(k.clipShape){k.clipShape.parent=k;k.clipShape.updateTransform();if(l){l=l.slice();l.push(k.clipShape)}else{l=[k.clipShape]}}if(k.type=="group"){for(var j=0;j<k._children.length;j++){var m=k._children[j];m.__dirty=k.__dirty||m.__dirty;this._updateAndAddShape(m,l)}k.__dirty=false}else{k.__clipShapes=l;this._shapeList[this._shapeListOffset++]=k}};g.prototype.mod=function(j,l){if(typeof j==="string"){j=this._elements[j]}if(j){j.modSelf();if(l){if(l.parent||l._storage||l.__clipShapes){var k={};for(var i in l){if(i==="parent"||i==="_storage"||i==="__clipShapes"){continue}if(l.hasOwnProperty(i)){k[i]=l[i]}}a.merge(j,k,true)}else{a.merge(j,l,true)}}}return this};g.prototype.drift=function(l,k,i){var j=this._elements[l];if(j){j.needTransform=true;if(j.draggable==="horizontal"){i=0}else{if(j.draggable==="vertical"){k=0}}if(!j.ondrift||j.ondrift&&!j.ondrift(k,i)){j.drift(k,i)}}return this};g.prototype.addHover=function(i){i.updateNeedTransform();this._hoverElements.push(i);return this};g.prototype.delHover=function(){this._hoverElements=[];return this};g.prototype.hasHoverShape=function(){return this._hoverElements.length>0};g.prototype.addRoot=function(i){if(this._elements[i.id]){return}if(i instanceof d){i.addChildrenToStorage(this)}this.addToMap(i);this._roots.push(i)};g.prototype.delRoot=function(n){if(typeof n=="undefined"){for(var o=0;o<this._roots.length;o++){var m=this._roots[o];if(m instanceof d){m.delChildrenFromStorage(this)}}this._elements={};this._hoverElements=[];this._roots=[];this._shapeList=[];this._shapeListOffset=0;return}if(n instanceof Array){for(var o=0,k=n.length;o<k;o++){this.delRoot(n[o])}return}var p;if(typeof n=="string"){p=this._elements[n]}else{p=n}var j=a.indexOf(this._roots,p);if(j>=0){this.delFromMap(p.id);this._roots.splice(j,1);if(p instanceof d){p.delChildrenFromStorage(this)}}};g.prototype.addToMap=function(i){if(i instanceof d){i._storage=this}i.modSelf();this._elements[i.id]=i;return this};g.prototype.get=function(i){return this._elements[i]};g.prototype.delFromMap=function(i){var j=this._elements[i];if(j){delete this._elements[i];if(j instanceof d){j._storage=null}}return this};g.prototype.dispose=function(){this._elements=this._renderList=this._roots=this._hoverElements=null};return g});define("zrender/animation/Animation",["./Clip","../tool/color","../tool/util","../tool/event"],function(i,s,c){var b=i("./Clip");var n=i("../tool/color");var a=i("../tool/util");var m=i("../tool/event").Dispatcher;var g=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(u){setTimeout(u,16)};var t=Array.prototype.slice;var q=function(u){u=u||{};this.stage=u.stage||{};this.onframe=u.onframe||function(){};this._clips=[];this._running=false;this._time=0;m.call(this)};q.prototype={add:function(u){this._clips.push(u)},remove:function(v){if(v.__inStep){v.__needsRemove=true}else{var u=a.indexOf(this._clips,v);if(u>=0){this._clips.splice(u,1)}}},_update:function(){var w=new Date().getTime();var C=w-this._time;var u=this._clips;var z=u.length;var v=[];var B=[];for(var y=0;y<z;y++){var x=u[y];x.__inStep=true;var A=x.step(w);x.__inStep=false;if(A){v.push(A);B.push(x)}}for(var y=0;y<z;){if(u[y].__needsRemove){u[y]=u[z-1];u.pop();z--}else{y++}}z=v.length;for(var y=0;y<z;y++){B[y].fire(v[y])}this._time=w;this.onframe(C);this.dispatch("frame",C);if(this.stage.update){this.stage.update()}},start:function(){var u=this;this._running=true;function v(){if(u._running){g(v);u._update()}}this._time=new Date().getTime();g(v)},stop:function(){this._running=false},clear:function(){this._clips=[]},animate:function(w,v){v=v||{};var u=new r(w,v.loop,v.getter,v.setter);u.animation=this;return u},constructor:q};a.merge(q.prototype,m.prototype,true);function f(v,u){return v[u]}function d(w,u,v){w[u]=v}function l(w,v,u){return(v-w)*u+w}function p(C,B,z,w,A){var y=C.length;if(A==1){for(var x=0;x<y;x++){w[x]=l(C[x],B[x],z)}}else{var u=C[0].length;for(var x=0;x<y;x++){for(var v=0;v<u;v++){w[x][v]=l(C[x][v],B[x][v],z)}}}}function e(u){switch(typeof u){case"undefined":case"string":return false}return typeof u.length!=="undefined"}function j(F,E,D,C,G,z,y,w,B){var A=F.length;if(B==1){for(var x=0;x<A;x++){w[x]=h(F[x],E[x],D[x],C[x],G,z,y)}}else{var u=F[0].length;for(var x=0;x<A;x++){for(var v=0;v<u;v++){w[x][v]=h(F[x][v],E[x][v],D[x][v],C[x][v],G,z,y)}}}}function h(B,A,y,x,C,v,u){var z=(y-B)*0.5;var w=(x-A)*0.5;return(2*(A-y)+z+w)*u+(-3*(A-y)-2*z-w)*v+z*C+A}function k(x){if(e(x)){var u=x.length;if(e(x[0])){var v=[];for(var w=0;w<u;w++){v.push(t.call(x[w]))}return v}else{return t.call(x)}}else{return x}}function o(u){u[0]=Math.floor(u[0]);u[1]=Math.floor(u[1]);u[2]=Math.floor(u[2]);return"rgba("+u.join(",")+")"}var r=function(w,v,u,x){this._tracks={};this._target=w;this._loop=v||false;this._getter=u||f;this._setter=x||d;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};r.prototype={when:function(w,u){for(var v in u){if(!this._tracks[v]){this._tracks[v]=[];if(w!==0){this._tracks[v].push({time:0,value:k(this._getter(this._target,v))})}}this._tracks[v].push({time:parseInt(w,10),value:u[v]})}return this},during:function(u){this._onframeList.push(u);return this},start:function(B){var w=this;var A=this._setter;var v=this._getter;var x=B==="spline";var z=function(){w._clipCount--;if(w._clipCount===0){w._tracks={};var C=w._doneList.length;for(var D=0;D<C;D++){w._doneList[D].call(w)}}};var u=function(P,O){var C=P.length;if(!C){return}var R=P[0].value;var S=e(R);var H=false;var I=S&&e(R[0])?2:1;P.sort(function(aa,Z){return aa.time-Z.time});var M;if(C){M=P[C-1].time}else{return}var U=[];var Y=[];for(var T=0;T<C;T++){U.push(P[T].time/M);var Q=P[T].value;if(typeof Q=="string"){Q=n.toArray(Q);if(Q.length===0){Q[0]=Q[1]=Q[2]=0;Q[3]=1}H=true}Y.push(Q)}var L=0;var X=0;var J;var T;var N;var G;var F;var E;var D;if(H){var K=[0,0,0,0]}var W=function(ac,aa){if(aa<X){J=Math.min(L+1,C-1);for(T=J;T>=0;T--){if(U[T]<=aa){break}}T=Math.min(T,C-2)}else{for(T=L;T<C;T++){if(U[T]>aa){break}}T=Math.min(T-1,C-2)}L=T;X=aa;var Z=U[T+1]-U[T];if(Z===0){return}else{N=(aa-U[T])/Z}if(x){F=Y[T];G=Y[T===0?T:T-1];E=Y[T>C-2?C-1:T+1];D=Y[T>C-3?C-1:T+2];if(S){j(G,F,E,D,N,N*N,N*N*N,v(ac,O),I)}else{var ab;if(H){ab=j(G,F,E,D,N,N*N,N*N*N,K,1);ab=o(K)}else{ab=h(G,F,E,D,N,N*N,N*N*N)}A(ac,O,ab)}}else{if(S){p(Y[T],Y[T+1],N,v(ac,O),I)}else{var ab;if(H){p(Y[T],Y[T+1],N,K,1);ab=o(K)}else{ab=l(Y[T],Y[T+1],N)}A(ac,O,ab)}}for(T=0;T<w._onframeList.length;T++){w._onframeList[T](ac,aa)}};var V=new b({target:w._target,life:M,loop:w._loop,delay:w._delay,onframe:W,ondestroy:z});if(B&&B!=="spline"){V.easing=B}w._clipList.push(V);w._clipCount++;w.animation.add(V)};for(var y in this._tracks){u(this._tracks[y],y)}return this},stop:function(){for(var u=0;u<this._clipList.length;u++){var v=this._clipList[u];this.animation.remove(v)}this._clipList=[]},delay:function(u){this._delay=u;return this},done:function(u){if(u){this._doneList.push(u)}return this}};return q});define("zrender/tool/vector",[],function(){var a=typeof Float32Array==="undefined"?Array:Float32Array;var b={create:function(c,e){var d=new a(2);d[0]=c||0;d[1]=e||0;return d},copy:function(d,c){d[0]=c[0];d[1]=c[1];return d},clone:function(c){var d=new a(2);d[0]=c[0];d[1]=c[1];return d},set:function(e,d,c){e[0]=d;e[1]=c;return e},add:function(c,e,d){c[0]=e[0]+d[0];c[1]=e[1]+d[1];return c},scaleAndAdd:function(d,f,e,c){d[0]=f[0]+e[0]*c;d[1]=f[1]+e[1]*c;return d},sub:function(c,e,d){c[0]=e[0]-d[0];c[1]=e[1]-d[1];return c},len:function(c){return Math.sqrt(this.lenSquare(c))},lenSquare:function(c){return c[0]*c[0]+c[1]*c[1]},mul:function(c,e,d){c[0]=e[0]*d[0];c[1]=e[1]*d[1];return c},div:function(c,e,d){c[0]=e[0]/d[0];c[1]=e[1]/d[1];return c},dot:function(d,c){return d[0]*c[0]+d[1]*c[1]},scale:function(d,c,e){d[0]=c[0]*e;d[1]=c[1]*e;return d},normalize:function(e,c){var f=b.len(c);if(f===0){e[0]=0;e[1]=0}else{e[0]=c[0]/f;e[1]=c[1]/f}return e},distance:function(d,c){return Math.sqrt((d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1]))},distanceSquare:function(d,c){return(d[0]-c[0])*(d[0]-c[0])+(d[1]-c[1])*(d[1]-c[1])},negate:function(d,c){d[0]=-c[0];d[1]=-c[1];return d},lerp:function(c,f,e,d){c[0]=f[0]+d*(e[0]-f[0]);c[1]=f[1]+d*(e[1]-f[1]);return c},applyTransform:function(f,e,d){var c=e[0];var g=e[1];f[0]=d[0]*c+d[2]*g+d[4];f[1]=d[1]*c+d[3]*g+d[5];return f},min:function(c,e,d){c[0]=Math.min(e[0],d[0]);c[1]=Math.min(e[1],d[1]);return c},max:function(c,e,d){c[0]=Math.max(e[0],d[0]);c[1]=Math.max(e[1],d[1]);return c}};b.length=b.len;b.lengthSquare=b.lenSquare;b.dist=b.distance;b.distSquare=b.distanceSquare;return b});define("zrender/tool/matrix",[],function(){var a=typeof Float32Array==="undefined"?Array:Float32Array;var b={create:function(){var c=new a(6);b.identity(c);return c},identity:function(c){c[0]=1;c[1]=0;c[2]=0;c[3]=1;c[4]=0;c[5]=0;return c},copy:function(d,c){d[0]=c[0];d[1]=c[1];d[2]=c[2];d[3]=c[3];d[4]=c[4];d[5]=c[5];return d},mul:function(e,d,c){e[0]=d[0]*c[0]+d[2]*c[1];e[1]=d[1]*c[0]+d[3]*c[1];e[2]=d[0]*c[2]+d[2]*c[3];e[3]=d[1]*c[2]+d[3]*c[3];e[4]=d[0]*c[4]+d[2]*c[5]+d[4];e[5]=d[1]*c[4]+d[3]*c[5]+d[5];return e},translate:function(e,c,d){e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4]+d[0];e[5]=c[5]+d[1];return e},rotate:function(d,i,h){var c=i[0];var l=i[2];var g=i[4];var m=i[1];var j=i[3];var e=i[5];var k=Math.sin(h);var f=Math.cos(h);d[0]=c*f+m*k;d[1]=-c*k+m*f;d[2]=l*f+j*k;d[3]=-l*k+f*j;d[4]=f*g+k*e;d[5]=f*e-k*g;return d},scale:function(e,c,d){var g=d[0];var f=d[1];e[0]=c[0]*g;e[1]=c[1]*f;e[2]=c[2]*g;e[3]=c[3]*f;e[4]=c[4]*g;e[5]=c[5]*f;return e},invert:function(d,h){var c=h[0];var j=h[2];var f=h[4];var k=h[1];var i=h[3];var e=h[5];var g=c*i-k*j;if(!g){return null}g=1/g;d[0]=i*g;d[1]=-k*g;d[2]=-j*g;d[3]=c*g;d[4]=(j*e-i*f)*g;d[5]=(k*f-c*e)*g;return d}};return b});define("zrender/loadingEffect/Base",["../tool/util","../shape/Text","../shape/Rectangle"],function(d,f,a){var h=d("../tool/util");var e=d("../shape/Text");var i=d("../shape/Rectangle");var c="Loading...";var b="normal 16px Arial";function g(j){this.setOptions(j)}g.prototype.createTextShape=function(j){return new e({highlightStyle:h.merge({x:this.canvasWidth/2,y:this.canvasHeight/2,text:c,textAlign:"center",textBaseline:"middle",textFont:b,color:"#333",brushType:"fill"},j,true)})};g.prototype.createBackgroundShape=function(j){return new i({highlightStyle:{x:0,y:0,width:this.canvasWidth,height:this.canvasHeight,brushType:"fill",color:j}})};g.prototype.start=function(j){this.canvasWidth=j._width;this.canvasHeight=j._height;function k(m){j.storage.addHover(m)}function l(){j.refreshHover()}this.loadingTimer=this._start(k,l)};g.prototype._start=function(){return setInterval(function(){},10000)};g.prototype.stop=function(){clearInterval(this.loadingTimer)};g.prototype.setOptions=function(j){this.options=j||{}};g.prototype.adjust=function(j,k){if(j<=k[0]){j=k[0]}else{if(j>=k[1]){j=k[1]}}return j};g.prototype.getLocation=function(m,k,l){var j=m.x!=null?m.x:"center";switch(j){case"center":j=Math.floor((this.canvasWidth-k)/2);break;case"left":j=0;break;case"right":j=this.canvasWidth-k;break}var n=m.y!=null?m.y:"center";switch(n){case"center":n=Math.floor((this.canvasHeight-l)/2);break;case"top":n=0;break;case"bottom":n=this.canvasHeight-l;break}return{x:j,y:n,width:k,height:l}};return g});define("zrender/Layer",["./mixin/Transformable","./tool/util","./config"],function(e,h,b){var a=e("./mixin/Transformable");var i=e("./tool/util");var g=window.G_vmlCanvasManager;var d=e("./config");function c(){return false}function j(p,o,l){var m=document.createElement(o);var n=l.getWidth();var k=l.getHeight();m.style.position="absolute";m.style.left=0;m.style.top=0;m.style.width=n+"px";m.style.height=k+"px";m.width=n*d.devicePixelRatio;m.height=k*d.devicePixelRatio;m.setAttribute("data-zr-dom-id",p);return m}var f=function(l,k){this.id=l;this.dom=j(l,"canvas",k);this.dom.onselectstart=c;this.dom.style["-webkit-user-select"]="none";this.dom.style["user-select"]="none";this.dom.style["-webkit-touch-callout"]="none";this.dom.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";this.dom.className=d.elementClassName;g&&g.initElement(this.dom);this.domBack=null;this.ctxBack=null;this.painter=k;this.unusedCount=0;this.config=null;this.dirty=true;this.elCount=0;this.clearColor=0;this.motionBlur=false;this.lastFrameAlpha=0.7;this.zoomable=false;this.panable=false;this.maxZoom=Infinity;this.minZoom=0;a.call(this)};f.prototype.initContext=function(){this.ctx=this.dom.getContext("2d");var k=d.devicePixelRatio;if(k!=1){this.ctx.scale(k,k)}};f.prototype.createBackBuffer=function(){if(g){return}this.domBack=j("back-"+this.id,"canvas",this.painter);this.ctxBack=this.domBack.getContext("2d");var k=d.devicePixelRatio;if(k!=1){this.ctxBack.scale(k,k)}};f.prototype.resize=function(l,k){var m=d.devicePixelRatio;this.dom.style.width=l+"px";this.dom.style.height=k+"px";this.dom.setAttribute("width",l*m);this.dom.setAttribute("height",k*m);if(m!=1){this.ctx.scale(m,m)}if(this.domBack){this.domBack.setAttribute("width",l*m);this.domBack.setAttribute("height",k*m);if(m!=1){this.ctxBack.scale(m,m)}}};f.prototype.clear=function(){var m=this.dom;var s=this.ctx;var l=m.width;var r=m.height;var o=this.clearColor&&!g;var q=this.motionBlur&&!g;var k=this.lastFrameAlpha;var p=d.devicePixelRatio;if(q){if(!this.domBack){this.createBackBuffer()}this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(m,0,0,l/p,r/p)}s.clearRect(0,0,l/p,r/p);if(o){s.save();s.fillStyle=this.clearColor;s.fillRect(0,0,l/p,r/p);s.restore()}if(q){var n=this.domBack;s.save();s.globalAlpha=k;s.drawImage(n,0,0,l/p,r/p);s.restore()}};i.merge(f.prototype,a.prototype);return f});define("zrender/shape/Text",["../tool/area","./Base","../tool/util"],function(b,a,d){var f=b("../tool/area");var c=b("./Base");var e=function(g){c.call(this,g)};e.prototype={type:"text",brush:function(r,j){var g=this.style;if(j){g=this.getHighlightStyle(g,this.highlightStyle||{})}if(typeof g.text=="undefined"||g.text===false){return}r.save();this.doClip(r);this.setContext(r,g);this.setTransform(r);if(g.textFont){r.font=g.textFont}r.textAlign=g.textAlign||"start";r.textBaseline=g.textBaseline||"middle";var q=(g.text+"").split("\n");var p=f.getTextHeight("国",g.textFont);var n=this.getRect(g);var o=g.x;var m;if(g.textBaseline=="top"){m=n.y}else{if(g.textBaseline=="bottom"){m=n.y+p}else{m=n.y+p/2}}for(var k=0,h=q.length;k<h;k++){if(g.maxWidth){switch(g.brushType){case"fill":r.fillText(q[k],o,m,g.maxWidth);break;case"stroke":r.strokeText(q[k],o,m,g.maxWidth);break;case"both":r.fillText(q[k],o,m,g.maxWidth);r.strokeText(q[k],o,m,g.maxWidth);break;default:r.fillText(q[k],o,m,g.maxWidth)}}else{switch(g.brushType){case"fill":r.fillText(q[k],o,m);break;case"stroke":r.strokeText(q[k],o,m);break;case"both":r.fillText(q[k],o,m);r.strokeText(q[k],o,m);break;default:r.fillText(q[k],o,m)}}m+=p}r.restore();return},getRect:function(k){if(k.__rect){return k.__rect}var j=f.getTextWidth(k.text,k.textFont);var h=f.getTextHeight(k.text,k.textFont);var i=k.x;if(k.textAlign=="end"||k.textAlign=="right"){i-=j}else{if(k.textAlign=="center"){i-=j/2}}var g;if(k.textBaseline=="top"){g=k.y}else{if(k.textBaseline=="bottom"){g=k.y-h}else{g=k.y-h/2}}k.__rect={x:i,y:g,width:j,height:h};return k.__rect}};b("../tool/util").inherits(e,c);return e});define("zrender/shape/Rectangle",["./Base","../tool/util"],function(b,a,e){var d=b("./Base");var c=function(f){d.call(this,f)};c.prototype={type:"rectangle",_buildRadiusPath:function(q,h){var o=h.x;var n=h.y;var j=h.width;var p=h.height;var f=h.radius;var l;var k;var i;var g;if(typeof f==="number"){l=k=i=g=f}else{if(f instanceof Array){if(f.length===1){l=k=i=g=f[0]}else{if(f.length===2){l=i=f[0];k=g=f[1]}else{if(f.length===3){l=f[0];k=g=f[1];i=f[2]}else{l=f[0];k=f[1];i=f[2];g=f[3]}}}}else{l=k=i=g=0}}var m;if(l+k>j){m=l+k;l*=j/m;k*=j/m}if(i+g>j){m=i+g;i*=j/m;g*=j/m}if(k+i>p){m=k+i;k*=p/m;i*=p/m}if(l+g>p){m=l+g;l*=p/m;g*=p/m}q.moveTo(o+l,n);q.lineTo(o+j-k,n);k!==0&&q.quadraticCurveTo(o+j,n,o+j,n+k);q.lineTo(o+j,n+p-i);i!==0&&q.quadraticCurveTo(o+j,n+p,o+j-i,n+p);q.lineTo(o+g,n+p);g!==0&&q.quadraticCurveTo(o,n+p,o,n+p-g);q.lineTo(o,n+l);l!==0&&q.quadraticCurveTo(o,n,o+l,n)},buildPath:function(f,g){if(!g.radius){f.moveTo(g.x,g.y);f.lineTo(g.x+g.width,g.y);f.lineTo(g.x+g.width,g.y+g.height);f.lineTo(g.x,g.y+g.height);f.lineTo(g.x,g.y)}else{this._buildRadiusPath(f,g)}f.closePath();return},getRect:function(g){if(g.__rect){return g.__rect}var f;if(g.brushType=="stroke"||g.brushType=="fill"){f=g.lineWidth||1}else{f=0}g.__rect={x:Math.round(g.x-f/2),y:Math.round(g.y-f/2),width:g.width+f,height:g.height+f};return g.__rect}};b("../tool/util").inherits(c,d);return c});define("zrender/tool/area",["./util","./curve"],function(d,C,c){var k=d("./util");var h=d("./curve");var r;var t={};var D={};var i=0;var F=0;var x=5000;var p=Math.PI*2;function a(L){L%=p;if(L<0){L+=p}return L}function s(M,N,L,R){if(!N||!M){return false}var Q=M.type;r=r||k.getContext();var P=j(M,N,L,R);if(typeof P!="undefined"){return P}if(M.buildPath&&r.isPointInPath){return B(M,r,N,L,R)}switch(Q){case"ellipse":return true;case"trochoid":var O=N.location=="out"?N.r1+N.r2+N.d:N.r1-N.r2+N.d;return g(N,L,R,O);case"rose":return g(N,L,R,N.maxr);default:return false}}function j(N,Q,L,S){var R=N.type;switch(R){case"bezier-curve":if(typeof Q.cpX2==="undefined"){return b(Q.xStart,Q.yStart,Q.cpX1,Q.cpY1,Q.xEnd,Q.yEnd,Q.lineWidth,L,S)}return v(Q.xStart,Q.yStart,Q.cpX1,Q.cpY1,Q.cpX2,Q.cpY2,Q.xEnd,Q.yEnd,Q.lineWidth,L,S);case"line":return e(Q.xStart,Q.yStart,Q.xEnd,Q.yEnd,Q.lineWidth,L,S);case"polyline":return z(Q.pointList,Q.lineWidth,L,S);case"ring":return y(Q.x,Q.y,Q.r0,Q.r,L,S);case"circle":return g(Q.x,Q.y,Q.r,L,S);case"sector":var O=Q.startAngle*Math.PI/180;var M=Q.endAngle*Math.PI/180;if(!Q.clockWise){O=-O;M=-M}return l(Q.x,Q.y,Q.r0,Q.r,O,M,!Q.clockWise,L,S);case"path":return Q.pathArray&&A(Q.pathArray,Math.max(Q.lineWidth,5),Q.brushType,L,S);case"polygon":case"star":case"isogon":return o(Q.pointList,L,S);case"text":var P=Q.__rect||N.getRect(Q);return w(P.x,P.y,P.width,P.height,L,S);case"rectangle":case"image":return w(Q.x,Q.y,Q.width,Q.height,L,S)}}function B(M,N,O,L,P){N.beginPath();M.buildPath(N,O);N.closePath();return N.isPointInPath(L,P)}function I(M,N,L,O){return !s(M,N,L,O)}function e(M,V,L,T,P,U,S){if(P===0){return false}var N=Math.max(P,5);var R=0;var Q=M;if(S>V+N&&S>T+N||S<V-N&&S<T-N||U>M+N&&U>L+N||U<M-N&&U<L-N){return false}if(M!==L){R=(V-T)/(M-L);Q=(M*T-L*V)/(M-L)}else{return Math.abs(U-M)<=N/2}var O=R*U-S+Q;var W=O*O/(R*R+1);return W<=N/2*N/2}function v(O,X,N,W,M,U,L,S,Q,V,T){if(Q===0){return false}var P=Math.max(Q,5);if(T>X+P&&T>W+P&&T>U+P&&T>S+P||T<X-P&&T<W-P&&T<U-P&&T<S-P||V>O+P&&V>N+P&&V>M+P&&V>L+P||V<O-P&&V<N-P&&V<M-P&&V<L-P){return false}var R=h.cubicProjectPoint(O,X,N,W,M,U,L,S,V,T,null);return R<=P/2}function b(N,V,M,T,L,S,P,U,R){if(P===0){return false}var O=Math.max(P,5);if(R>V+O&&R>T+O&&R>S+O||R<V-O&&R<T-O&&R<S-O||U>N+O&&U>M+O&&U>L+O||U<N-O&&U<M-O&&U<L-O){return false}var Q=h.quadraticProjectPoint(N,V,M,T,L,S,U,R,null);return Q<=O/2}function E(R,Q,L,U,M,O,T,X,W){if(T===0){return false}var N=Math.max(T,5);X-=R;W-=Q;var V=Math.sqrt(X*X+W*W);if(V-N>L||V+N<L){return false}if(Math.abs(U-M)>=p){return true}if(O){var S=U;U=a(M);M=a(S)}else{U=a(U);M=a(M)}if(U>M){M+=p}var P=Math.atan2(W,X);if(P<0){P+=p}return P>=U&&P<=M||P+p>=U&&P+p<=M}function z(U,P,S,Q){var P=Math.max(P,10);for(var O=0,N=U.length-1;O<N;O++){var M=U[O][0];var T=U[O][1];var L=U[O+1][0];var R=U[O+1][1];if(e(M,T,L,R,P,S,Q)){return true}}return false}function y(M,R,N,O,L,Q){var P=(L-M)*(L-M)+(Q-R)*(Q-R);return P<O*O&&P>N*N}function w(N,P,O,M,L,Q){return L>=N&&L<=N+O&&Q>=P&&Q<=P+M}function g(M,O,N,L,P){return(L-M)*(L-M)+(P-O)*(P-O)<N*N}function l(Q,P,O,L,R,M,N,T,S){return E(Q,P,(O+L)/2,R,M,N,L-O,T,S)}function o(W,T,R){var Q=W.length;var V=0;for(var P=0,O=Q-1;P<Q;P++){var M=W[O][0];var U=W[O][1];var L=W[P][0];var S=W[P][1];V+=q(M,U,L,S,T,R);O=P}return V!==0}function q(N,S,M,Q,R,P){if(P>S&&P>Q||P<S&&P<Q){return 0}if(Q==S){return 0}var O=Q<S?1:-1;var T=(P-S)/(Q-S);var L=T*(M-N)+N;return L>R?O:0}var u=[-1,-1,-1];var K=[-1,-1];function H(){var L=K[0];K[0]=K[1];K[1]=L}function f(ac,P,aa,O,Z,N,Y,M,S,R){if(R>P&&R>O&&R>N&&R>M||R<P&&R<O&&R<N&&R<M){return 0}var L=h.cubicRootAt(P,O,N,M,R,u);if(L===0){return 0}else{var T=0;var W=-1;var Q,V;for(var X=0;X<L;X++){var U=u[X];var ab=h.cubicAt(ac,aa,Z,Y,U);if(ab<S){continue}if(W<0){W=h.cubicExtrema(P,O,N,M,K);if(K[1]<K[0]&&W>1){H()}Q=h.cubicAt(P,O,N,M,K[0]);if(W>1){V=h.cubicAt(P,O,N,M,K[1])}}if(W==2){if(U<K[0]){T+=Q<P?1:-1}else{if(U<K[1]){T+=V<Q?1:-1}else{T+=M<V?1:-1}}}else{if(U<K[0]){T+=Q<P?1:-1}else{T+=M<Q?1:-1}}}return T}}function m(O,X,N,U,L,S,V,R){if(R>X&&R>U&&R>S||R<X&&R<U&&R<S){return 0}var Q=h.quadraticRootAt(X,U,S,R,u);if(Q===0){return 0}else{var Y=h.quadraticExtremum(X,U,S);if(Y>=0&&Y<=1){var W=0;var T=h.quadraticAt(X,U,S,Y);for(var P=0;P<Q;P++){var M=h.quadraticAt(O,N,L,u[P]);if(M<V){continue}if(u[P]<Y){W+=T<X?1:-1}else{W+=S<T?1:-1}}return W}else{var M=h.quadraticAt(O,N,L,u[0]);if(M<V){return 0}return S<X?1:-1}}}function G(S,R,L,V,N,P,X,W){W-=R;if(W>L||W<-L){return 0}var U=Math.sqrt(L*L-W*W);u[0]=-U;u[1]=U;if(Math.abs(V-N)>=p){V=0;N=p;var O=P?1:-1;if(X>=u[0]+S&&X<=u[1]+S){return O}else{return 0}}if(P){var U=V;V=a(N);N=a(U)}else{V=a(V);N=a(N)}if(V>N){N+=p}var Y=0;for(var T=0;T<2;T++){var M=u[T];if(M+S>X){var Q=Math.atan2(W,M);var O=P?1:-1;if(Q<0){Q=p+Q}if(Q>=V&&Q<=N||Q+p>=V&&Q+p<=N){if(Q>Math.PI/2&&Q<Math.PI*1.5){O=-O}Y+=O}}}return Y}function A(ac,M,T,W,V){var Y=0;var aa=0;var ak=0;var ai=0;var Q=0;var L=true;var X=true;T=T||"fill";var aj=T==="stroke"||T==="both";var Z=T==="fill"||T==="both";for(var ad=0;ad<ac.length;ad++){var ag=ac[ad];var ab=ag.points;if(L||ag.command==="M"){if(ad>0){if(Z){Y+=q(aa,ak,ai,Q,W,V)}if(Y!==0){return true}}ai=ab[ab.length-2];Q=ab[ab.length-1];L=false;if(X&&ag.command!=="A"){X=false;aa=ai;ak=Q}}switch(ag.command){case"M":aa=ab[0];ak=ab[1];break;case"L":if(aj){if(e(aa,ak,ab[0],ab[1],M,W,V)){return true}}if(Z){Y+=q(aa,ak,ab[0],ab[1],W,V)}aa=ab[0];ak=ab[1];break;case"C":if(aj){if(v(aa,ak,ab[0],ab[1],ab[2],ab[3],ab[4],ab[5],M,W,V)){return true}}if(Z){Y+=f(aa,ak,ab[0],ab[1],ab[2],ab[3],ab[4],ab[5],W,V)}aa=ab[4];ak=ab[5];break;case"Q":if(aj){if(b(aa,ak,ab[0],ab[1],ab[2],ab[3],M,W,V)){return true}}if(Z){Y+=m(aa,ak,ab[0],ab[1],ab[2],ab[3],W,V)}aa=ab[2];ak=ab[3];break;case"A":var P=ab[0];var N=ab[1];var S=ab[2];var R=ab[3];var U=ab[4];var ah=ab[5];var af=Math.cos(U)*S+P;var O=Math.sin(U)*R+N;if(!X){Y+=q(aa,ak,af,O)}else{X=false;ai=af;Q=O}var ae=(W-P)*R/S+P;if(aj){if(E(P,N,R,U,U+ah,1-ab[7],M,ae,V)){return true}}if(Z){Y+=G(P,N,R,U,U+ah,1-ab[7],ae,V)}aa=Math.cos(U+ah)*S+P;ak=Math.sin(U+ah)*R+N;break;case"z":if(aj){if(e(aa,ak,ai,Q,M,W,V)){return true}}L=true;break}}if(Z){Y+=q(aa,ak,ai,Q,W,V)}return Y!==0}function n(Q,P){var N=Q+":"+P;if(t[N]){return t[N]}r=r||k.getContext();r.save();if(P){r.font=P}Q=(Q+"").split("\n");var O=0;for(var M=0,L=Q.length;M<L;M++){O=Math.max(r.measureText(Q[M]).width,O)}r.restore();t[N]=O;if(++i>x){i=0;t={}}return O}function J(O,N){var M=O+":"+N;if(D[M]){return D[M]}r=r||k.getContext();r.save();if(N){r.font=N}O=(O+"").split("\n");var L=(r.measureText("国").width+2)*O.length;r.restore();D[M]=L;if(++F>x){F=0;D={}}return L}return{isInside:s,isOutside:I,getTextWidth:n,getTextHeight:J,isInsidePath:A,isInsidePolygon:o,isInsideSector:l,isInsideCircle:g,isInsideLine:e,isInsideRect:w,isInsidePolyline:z,isInsideCubicStroke:v,isInsideQuadraticStroke:b}});define("zrender/shape/Base",["../tool/matrix","../tool/guid","../tool/util","../tool/log","../mixin/Transformable","../mixin/Eventful","../tool/area","../tool/color"],function(e,h,c){var f=window.G_vmlCanvasManager;var o=e("../tool/matrix");var n=e("../tool/guid");var k=e("../tool/util");var g=e("../tool/log");var a=e("../mixin/Transformable");var l=e("../mixin/Eventful");function m(B,A,w,u,r,q,p){if(r){B.font=r}B.textAlign=q;B.textBaseline=p;var v=i(A,w,u,r,q,p);A=(A+"").split("\n");var z=e("../tool/area").getTextHeight("国",r);switch(p){case"top":u=v.y;break;case"bottom":u=v.y+z;break;default:u=v.y+z/2}for(var t=0,s=A.length;t<s;t++){B.fillText(A[t],w,u);u+=z}}function i(z,v,u,t,s,r){var p=e("../tool/area");var q=p.getTextWidth(z,t);var w=p.getTextHeight("国",t);z=(z+"").split("\n");switch(s){case"end":case"right":v-=q;break;case"center":v-=q/2;break}switch(r){case"top":break;case"bottom":u-=w*z.length;break;default:u-=w*z.length/2}return{x:v,y:u,width:q,height:w*z.length}}var j=function(p){p=p||{};this.id=p.id||n();for(var q in p){this[q]=p[q]}this.style=this.style||{};this.highlightStyle=this.highlightStyle||null;this.parent=null;this.__dirty=true;this.__clipShapes=[];a.call(this);l.call(this)};j.prototype.invisible=false;j.prototype.ignore=false;j.prototype.zlevel=0;j.prototype.draggable=false;j.prototype.clickable=false;j.prototype.hoverable=true;j.prototype.z=0;j.prototype.brush=function(p,r){var q=this.beforeBrush(p,r);p.beginPath();this.buildPath(p,q);switch(q.brushType){case"both":p.fill();case"stroke":q.lineWidth>0&&p.stroke();break;default:p.fill()}this.drawText(p,q,this.style);this.afterBrush(p)};j.prototype.beforeBrush=function(p,r){var q=this.style;if(this.brushTypeOnly){q.brushType=this.brushTypeOnly}if(r){q=this.getHighlightStyle(q,this.highlightStyle||{},this.brushTypeOnly)}if(this.brushTypeOnly=="stroke"){q.strokeColor=q.strokeColor||q.color}p.save();this.doClip(p);this.setContext(p,q);this.setTransform(p);return q};j.prototype.afterBrush=function(p){p.restore()};var d=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]];j.prototype.setContext=function(r,v){for(var u=0,q=d.length;u<q;u++){var p=d[u][0];var t=v[p];var s=d[u][1];if(typeof t!="undefined"){r[s]=t}}};var b=o.create();j.prototype.doClip=function(q){if(this.__clipShapes&&!f){for(var r=0;r<this.__clipShapes.length;r++){var s=this.__clipShapes[r];if(s.needTransform){var p=s.transform;o.invert(b,p);q.transform(p[0],p[1],p[2],p[3],p[4],p[5])}q.beginPath();s.buildPath(q,s.style);q.clip();if(s.needTransform){var p=b;q.transform(p[0],p[1],p[2],p[3],p[4],p[5])}}}};j.prototype.getHighlightStyle=function(t,r,s){var u={};for(var q in t){u[q]=t[q]}var p=e("../tool/color");var v=p.getHighlightColor();if(t.brushType!="stroke"){u.strokeColor=v;u.lineWidth=(t.lineWidth||1)+this.getHighlightZoom();u.brushType="both"}else{if(s!="stroke"){u.strokeColor=v;u.lineWidth=(t.lineWidth||1)+this.getHighlightZoom()}else{u.strokeColor=r.strokeColor||p.mix(t.strokeColor,p.toRGB(v))}}for(var q in r){if(typeof r[q]!="undefined"){u[q]=r[q]}}return u};j.prototype.getHighlightZoom=function(){return this.type!="text"?6:2};j.prototype.drift=function(q,p){this.position[0]+=q;this.position[1]+=p};j.prototype.buildPath=function(p,q){g("buildPath not implemented in "+this.type)};j.prototype.getRect=function(p){g("getRect not implemented in "+this.type)};j.prototype.isCover=function(p,r){var q=this.transformCoordToLocal(p,r);p=q[0];r=q[1];if(this.isCoverRect(p,r)){return e("../tool/area").isInside(this,this.style,p,r)}return false};j.prototype.isCoverRect=function(p,r){var q=this.style.__rect;if(!q){q=this.style.__rect=this.getRect(this.style)}return p>=q.x&&p<=q.x+q.width&&r>=q.y&&r<=q.y+q.height};j.prototype.drawText=function(A,C,v){if(typeof C.text=="undefined"||C.text===false){return}var t=C.textColor||C.color||C.strokeColor;A.fillStyle=t;var E=10;var B;var p;var G;var F;var s=C.textPosition||this.textPosition||"top";switch(s){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var q=(v||C).__rect||this.getRect(v||C);switch(s){case"inside":G=q.x+q.width/2;F=q.y+q.height/2;B="center";p="middle";if(C.brushType!="stroke"&&t==C.color){A.fillStyle="#fff"}break;case"left":G=q.x-E;F=q.y+q.height/2;B="end";p="middle";break;case"right":G=q.x+q.width+E;F=q.y+q.height/2;B="start";p="middle";break;case"top":G=q.x+q.width/2;F=q.y-E;B="center";p="bottom";break;case"bottom":G=q.x+q.width/2;F=q.y+q.height+E;B="center";p="top";break}}break;case"start":case"end":var z=C.pointList||[[C.xStart||0,C.yStart||0],[C.xEnd||0,C.yEnd||0]];var r=z.length;if(r<2){return}var u;var w;var x;var y;switch(s){case"start":u=z[1][0];w=z[0][0];x=z[1][1];y=z[0][1];break;case"end":u=z[r-2][0];w=z[r-1][0];x=z[r-2][1];y=z[r-1][1];break}G=w;F=y;var D=Math.atan((x-y)/(w-u))/Math.PI*180;if(w-u<0){D+=180}else{if(x-y<0){D+=360}}E=5;if(D>=30&&D<=150){B="center";p="bottom";F-=E}else{if(D>150&&D<210){B="right";p="middle";G-=E}else{if(D>=210&&D<=330){B="center";p="top";F+=E}else{B="left";p="middle";G+=E}}}break;case"specific":G=C.textX||0;F=C.textY||0;B="start";p="middle";break}if(G!=null&&F!=null){m(A,C.text,G,F,C.textFont,C.textAlign||B,C.textBaseline||p)}};j.prototype.modSelf=function(){this.__dirty=true;if(this.style){this.style.__rect=null}if(this.highlightStyle){this.highlightStyle.__rect=null}};j.prototype.isSilent=function(){return !(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)};k.merge(j.prototype,a.prototype,true);k.merge(j.prototype,l.prototype,true);return j});define("zrender/tool/curve",["./vector"],function(h,x,c){var e=h("./vector");"use strict";var l=0.0001;var q=Math.sqrt(3);var k=1/3;var r=e.create();var p=e.create();var n=e.create();function g(y){return y>-l&&y<l}function o(y){return y>l||y<-l}function a(D,C,B,A,y){var z=1-y;return z*z*(z*D+3*y*C)+y*y*(y*A+3*z*B)}function b(D,C,B,A,y){var z=1-y;return 3*(((C-D)*z+2*(B-C)*y)*z+(A-B)*y*y)}function w(G,F,E,z,ac,M){var ab=z+3*(F-E)-G;var aa=3*(E-F*2+G);var Z=3*(F-G);var X=G-ac;var V=aa*aa-3*ab*Z;var U=aa*Z-9*ab*X;var S=Z*Z-3*aa*X;var W=0;if(g(V)&&g(U)){if(g(aa)){M[0]=0}else{var R=-Z/aa;if(R>=0&&R<=1){M[W++]=R}}}else{var y=U*U-4*V*S;if(g(y)){var P=U/V;var R=-aa/ab+P;var Q=-P/2;if(R>=0&&R<=1){M[W++]=R}if(Q>=0&&Q<=1){M[W++]=Q}}else{if(y>0){var D=Math.sqrt(y);var J=V*aa+1.5*ab*(-U+D);var I=V*aa+1.5*ab*(-U-D);if(J<0){J=-Math.pow(-J,k)}else{J=Math.pow(J,k)}if(I<0){I=-Math.pow(-I,k)}else{I=Math.pow(I,k)}var R=(-aa-(J+I))/(3*ab);if(R>=0&&R<=1){M[W++]=R}}else{var H=(2*V*aa-3*ab*U)/(2*Math.sqrt(V*V*V));var N=Math.acos(H)/3;var L=Math.sqrt(V);var Y=Math.cos(N);var R=(-aa-2*L*Y)/(3*ab);var Q=(-aa+L*(Y+q*Math.sin(N)))/(3*ab);var O=(-aa+L*(Y-q*Math.sin(N)))/(3*ab);if(R>=0&&R<=1){M[W++]=R}if(Q>=0&&Q<=1){M[W++]=Q}if(O>=0&&O<=1){M[W++]=O}}}}return W}function f(J,I,H,G,C){var E=6*H-12*I+6*J;var F=9*I+3*G-3*J-9*H;var D=3*I-3*J;var y=0;if(g(F)){if(o(E)){var B=-D/E;if(B>=0&&B<=1){C[y++]=B}}}else{var z=E*E-4*F*D;if(g(z)){C[0]=-E/(2*F)}else{if(z>0){var K=Math.sqrt(z);var B=(-E+K)/(2*F);var A=(-E-K)/(2*F);if(B>=0&&B<=1){C[y++]=B}if(A>=0&&A<=1){C[y++]=A}}}}return y}function d(H,G,F,E,I,z){var A=(G-H)*I+H;var y=(F-G)*I+G;var B=(E-F)*I+F;var J=(y-A)*I+A;var D=(B-y)*I+y;var C=(D-J)*I+J;z[0]=H;z[1]=A;z[2]=J;z[3]=C;z[4]=C;z[5]=D;z[6]=B;z[7]=E}function m(N,C,M,B,L,A,K,z,E,D,J){var F;var Q=0.005;var P=Infinity;r[0]=E;r[1]=D;for(var O=0;O<1;O+=0.05){p[0]=a(N,M,L,K,O);p[1]=a(C,B,A,z,O);var S=e.distSquare(r,p);if(S<P){F=O;P=S}}P=Infinity;for(var I=0;I<32;I++){if(Q<l){break}var G=F-Q;var H=F+Q;p[0]=a(N,M,L,K,G);p[1]=a(C,B,A,z,G);var S=e.distSquare(p,r);if(G>=0&&S<P){F=G;P=S}else{n[0]=a(N,M,L,K,H);n[1]=a(C,B,A,z,H);var R=e.distSquare(n,r);if(H<=1&&R<P){F=H;P=R}else{Q*=0.5}}}if(J){J[0]=a(N,M,L,K,F);J[1]=a(C,B,A,z,F)}return Math.sqrt(P)}function s(C,B,A,y){var z=1-y;return z*(z*C+2*y*B)+y*y*A}function v(B,A,z,y){return 2*((1-y)*(A-B)+y*(z-A))}function i(J,H,G,z,I){var F=J-2*H+G;var E=2*(H-J);var D=J-z;var y=0;if(g(F)){if(o(E)){var C=-D/E;if(C>=0&&C<=1){I[y++]=C}}}else{var A=E*E-4*F*D;if(g(A)){var C=-E/(2*F);if(C>=0&&C<=1){I[y++]=C}}else{if(A>0){var K=Math.sqrt(A);var C=(-E+K)/(2*F);var B=(-E-K)/(2*F);if(C>=0&&C<=1){I[y++]=C}if(B>=0&&B<=1){I[y++]=B}}}}return y}function t(B,A,z){var y=B+z-2*A;if(y===0){return 0.5}else{return(B-A)/y}}function u(F,E,D,A,z){var B=(E-F)*A+F;var C=(D-E)*A+E;var y=(C-B)*A+B;z[0]=F;z[1]=B;z[2]=y;z[3]=y;z[4]=C;z[5]=D}function j(L,B,K,A,J,z,D,C,I){var E;var O=0.005;var N=Infinity;r[0]=D;r[1]=C;for(var M=0;M<1;M+=0.05){p[0]=s(L,K,J,M);p[1]=s(B,A,z,M);var Q=e.distSquare(r,p);if(Q<N){E=M;N=Q}}N=Infinity;for(var H=0;H<32;H++){if(O<l){break}var F=E-O;var G=E+O;p[0]=s(L,K,J,F);p[1]=s(B,A,z,F);var Q=e.distSquare(p,r);if(F>=0&&Q<N){E=F;N=Q}else{n[0]=s(L,K,J,G);n[1]=s(B,A,z,G);var P=e.distSquare(n,r);if(G<=1&&P<N){E=G;N=P}else{O*=0.5}}}if(I){I[0]=s(L,K,J,E);I[1]=s(B,A,z,E)}return Math.sqrt(N)}return{cubicAt:a,cubicDerivativeAt:b,cubicRootAt:w,cubicExtrema:f,cubicSubdivide:d,cubicProjectPoint:m,quadraticAt:s,quadraticDerivativeAt:v,quadraticRootAt:i,quadraticExtremum:t,quadraticSubdivide:u,quadraticProjectPoint:j}});define("zrender/mixin/Transformable",["../tool/matrix","../tool/vector"],function(e,g,b){var j=e("../tool/matrix");var d=e("../tool/vector");var k=[0,0];var c=j.translate;var f=0.00005;function i(l){return l>-f&&l<f}function h(l){return l>f||l<-f}var a=function(){if(!this.position){this.position=[0,0]}if(typeof this.rotation=="undefined"){this.rotation=[0,0,0]}if(!this.scale){this.scale=[1,1,0,0]}this.needLocalTransform=false;this.needTransform=false};a.prototype={constructor:a,updateNeedTransform:function(){this.needLocalTransform=h(this.rotation[0])||h(this.position[0])||h(this.position[1])||h(this.scale[0]-1)||h(this.scale[1]-1)},updateTransform:function(){this.updateNeedTransform();var o=this.parent&&this.parent.needTransform;this.needTransform=this.needLocalTransform||o;if(!this.needTransform){return}var l=this.transform||j.create();j.identity(l);if(this.needLocalTransform){var p=this.scale;if(h(p[0])||h(p[1])){k[0]=-p[2]||0;k[1]=-p[3]||0;var n=h(k[0])||h(k[1]);if(n){c(l,l,k)}j.scale(l,l,p);if(n){k[0]=-k[0];k[1]=-k[1];c(l,l,k)}}if(this.rotation instanceof Array){if(this.rotation[0]!==0){k[0]=-this.rotation[1]||0;k[1]=-this.rotation[2]||0;var n=h(k[0])||h(k[1]);if(n){c(l,l,k)}j.rotate(l,l,this.rotation[0]);if(n){k[0]=-k[0];k[1]=-k[1];c(l,l,k)}}}else{if(this.rotation!==0){j.rotate(l,l,this.rotation)}}if(h(this.position[0])||h(this.position[1])){c(l,l,this.position)}}if(o){if(this.needLocalTransform){j.mul(l,this.parent.transform,l)}else{j.copy(l,this.parent.transform)}}this.transform=l;this.invTransform=this.invTransform||j.create();j.invert(this.invTransform,l)},setTransform:function(n){if(this.needTransform){var l=this.transform;n.transform(l[0],l[1],l[2],l[3],l[4],l[5])}},lookAt:function(){var l=d.create();return function(o){if(!this.transform){this.transform=j.create()}var n=this.transform;d.sub(l,o,this.position);if(i(l[0])&&i(l[1])){return}d.normalize(l,l);var p=this.scale;n[2]=l[0]*p[1];n[3]=l[1]*p[1];n[0]=l[1]*p[0];n[1]=-l[0]*p[0];n[4]=this.position[0];n[5]=this.position[1];this.decomposeTransform()}}(),decomposeTransform:function(){if(!this.transform){return}var n=this.transform;var r=n[0]*n[0]+n[1]*n[1];var l=this.position;var q=this.scale;var o=this.rotation;if(h(r-1)){r=Math.sqrt(r)}var p=n[2]*n[2]+n[3]*n[3];if(h(p-1)){p=Math.sqrt(p)}l[0]=n[4];l[1]=n[5];q[0]=r;q[1]=p;q[2]=q[3]=0;o[0]=Math.atan2(-n[1]/p,n[0]/r);o[1]=o[2]=0},transformCoordToLocal:function(l,n){var m=[l,n];if(this.needTransform&&this.invTransform){d.applyTransform(m,m,this.invTransform)}return m}};return a});define("zrender/Group",["./tool/guid","./tool/util","./mixin/Transformable","./mixin/Eventful"],function(f,c,g){var e=f("./tool/guid");var b=f("./tool/util");var a=f("./mixin/Transformable");var h=f("./mixin/Eventful");var d=function(i){i=i||{};this.id=i.id||e();for(var j in i){this[j]=i[j]}this.type="group";this.clipShape=null;this._children=[];this._storage=null;this.__dirty=true;a.call(this);h.call(this)};d.prototype.ignore=false;d.prototype.children=function(){return this._children.slice()};d.prototype.childAt=function(i){return this._children[i]};d.prototype.addChild=function(i){if(i==this){return}if(i.parent==this){return}if(i.parent){i.parent.removeChild(i)}this._children.push(i);i.parent=this;if(this._storage&&this._storage!==i._storage){this._storage.addToMap(i);if(i instanceof d){i.addChildrenToStorage(this._storage)}}};d.prototype.removeChild=function(j){var i=b.indexOf(this._children,j);if(i>=0){this._children.splice(i,1)}j.parent=null;if(this._storage){this._storage.delFromMap(j.id);if(j instanceof d){j.delChildrenFromStorage(this._storage)}}};d.prototype.clearChildren=function(){for(var j=0;j<this._children.length;j++){var k=this._children[j];if(this._storage){this._storage.delFromMap(k.id);if(k instanceof d){k.delChildrenFromStorage(this._storage)}}}this._children.length=0};d.prototype.eachChild=function(j,l){var n=!!l;for(var k=0;k<this._children.length;k++){var m=this._children[k];if(n){j.call(l,m)}else{j(m)}}};d.prototype.traverse=function(j,l){var n=!!l;for(var k=0;k<this._children.length;k++){var m=this._children[k];if(n){j.call(l,m)}else{j(m)}if(m.type==="group"){m.traverse(j,l)}}};d.prototype.addChildrenToStorage=function(l){for(var j=0;j<this._children.length;j++){var k=this._children[j];l.addToMap(k);if(k instanceof d){k.addChildrenToStorage(l)}}};d.prototype.delChildrenFromStorage=function(l){for(var j=0;j<this._children.length;j++){var k=this._children[j];l.delFromMap(k.id);if(k instanceof d){k.delChildrenFromStorage(l)}}};d.prototype.modSelf=function(){this.__dirty=true};b.merge(d.prototype,a.prototype,true);b.merge(d.prototype,h.prototype,true);return d});define("zrender/animation/Clip",["./easing"],function(c,a,d){var e=c("./easing");function b(f){this._targetPool=f.target||{};if(!(this._targetPool instanceof Array)){this._targetPool=[this._targetPool]}this._life=f.life||1000;this._delay=f.delay||0;this._startTime=new Date().getTime()+this._delay;this._endTime=this._startTime+this._life*1000;this.loop=typeof f.loop=="undefined"?false:f.loop;this.gap=f.gap||0;this.easing=f.easing||"Linear";this.onframe=f.onframe;this.ondestroy=f.ondestroy;this.onrestart=f.onrestart}b.prototype={step:function(h){var g=(h-this._startTime)/this._life;if(g<0){return}g=Math.min(g,1);var f=typeof this.easing=="string"?e[this.easing]:this.easing;var i=typeof f==="function"?f(g):g;this.fire("frame",i);if(g==1){if(this.loop){this.restart();return"restart"}this.__needsRemove=true;return"destroy"}return null},restart:function(){var g=new Date().getTime();var f=(g-this._startTime)%this._life;this._startTime=new Date().getTime()-f+this.gap;this.__needsRemove=false},fire:function(j,g){for(var h=0,f=this._targetPool.length;h<f;h++){if(this["on"+j]){this["on"+j](this._targetPool[h],g)}}},constructor:b};return b});define("zrender/animation/easing",[],function(){var a={Linear:function(b){return b},QuadraticIn:function(b){return b*b},QuadraticOut:function(b){return b*(2-b)},QuadraticInOut:function(b){if((b*=2)<1){return 0.5*b*b}return -0.5*(--b*(b-2)-1)},CubicIn:function(b){return b*b*b},CubicOut:function(b){return --b*b*b+1},CubicInOut:function(b){if((b*=2)<1){return 0.5*b*b*b}return 0.5*((b-=2)*b*b+2)},QuarticIn:function(b){return b*b*b*b},QuarticOut:function(b){return 1- --b*b*b*b},QuarticInOut:function(b){if((b*=2)<1){return 0.5*b*b*b*b}return -0.5*((b-=2)*b*b*b-2)},QuinticIn:function(b){return b*b*b*b*b},QuinticOut:function(b){return --b*b*b*b*b+1},QuinticInOut:function(b){if((b*=2)<1){return 0.5*b*b*b*b*b}return 0.5*((b-=2)*b*b*b*b+2)},SinusoidalIn:function(b){return 1-Math.cos(b*Math.PI/2)},SinusoidalOut:function(b){return Math.sin(b*Math.PI/2)},SinusoidalInOut:function(b){return 0.5*(1-Math.cos(Math.PI*b))},ExponentialIn:function(b){return b===0?0:Math.pow(1024,b-1)},ExponentialOut:function(b){return b===1?1:1-Math.pow(2,-10*b)},ExponentialInOut:function(b){if(b===0){return 0}if(b===1){return 1}if((b*=2)<1){return 0.5*Math.pow(1024,b-1)}return 0.5*(-Math.pow(2,-10*(b-1))+2)},CircularIn:function(b){return 1-Math.sqrt(1-b*b)},CircularOut:function(b){return Math.sqrt(1- --b*b)},CircularInOut:function(b){if((b*=2)<1){return -0.5*(Math.sqrt(1-b*b)-1)}return 0.5*(Math.sqrt(1-(b-=2)*b)+1)},ElasticIn:function(c){var d;var b=0.1;var e=0.4;if(c===0){return 0}if(c===1){return 1}if(!b||b<1){b=1;d=e/4}else{d=e*Math.asin(1/b)/(2*Math.PI)}return -(b*Math.pow(2,10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e))},ElasticOut:function(c){var d;var b=0.1;var e=0.4;if(c===0){return 0}if(c===1){return 1}if(!b||b<1){b=1;d=e/4}else{d=e*Math.asin(1/b)/(2*Math.PI)}return b*Math.pow(2,-10*c)*Math.sin((c-d)*(2*Math.PI)/e)+1},ElasticInOut:function(c){var d;var b=0.1;var e=0.4;if(c===0){return 0}if(c===1){return 1}if(!b||b<1){b=1;d=e/4}else{d=e*Math.asin(1/b)/(2*Math.PI)}if((c*=2)<1){return -0.5*(b*Math.pow(2,10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e))}return b*Math.pow(2,-10*(c-=1))*Math.sin((c-d)*(2*Math.PI)/e)*0.5+1},BackIn:function(b){var c=1.70158;return b*b*((c+1)*b-c)},BackOut:function(b){var c=1.70158;return --b*b*((c+1)*b+c)+1},BackInOut:function(b){var c=1.70158*1.525;if((b*=2)<1){return 0.5*(b*b*((c+1)*b-c))}return 0.5*((b-=2)*b*((c+1)*b+c)+2)},BounceIn:function(b){return 1-a.BounceOut(1-b)},BounceOut:function(b){if(b<1/2.75){return 7.5625*b*b}else{if(b<2/2.75){return 7.5625*(b-=1.5/2.75)*b+0.75}else{if(b<2.5/2.75){return 7.5625*(b-=2.25/2.75)*b+0.9375}else{return 7.5625*(b-=2.625/2.75)*b+0.984375}}}},BounceInOut:function(b){if(b<0.5){return a.BounceIn(b*2)*0.5}return a.BounceOut(b*2-1)*0.5+0.5}};return a});define("echarts/chart/base",["zrender/shape/Image","../util/shape/Icon","../util/shape/MarkLine","../util/shape/Symbol","zrender/shape/Polyline","zrender/shape/ShapeBundle","../config","../util/ecData","../util/ecAnimation","../util/ecEffect","../util/accMath","../component/base","../layout/EdgeBundling","zrender/tool/util","zrender/tool/area"],function(g,t,d){var e=g("zrender/shape/Image");var q=g("../util/shape/Icon");var b=g("../util/shape/MarkLine");var s=g("../util/shape/Symbol");var k=g("zrender/shape/Polyline");var r=g("zrender/shape/ShapeBundle");var j=g("../config");var p=g("../util/ecData");var i=g("../util/ecAnimation");var c=g("../util/ecEffect");var f=g("../util/accMath");var m=g("../component/base");var a=g("../layout/EdgeBundling");var o=g("zrender/tool/util");var h=g("zrender/tool/area");function n(u){return u.x!=null&&u.y!=null}function l(y,u,z,x,w){m.call(this,y,u,z,x,w);var v=this;this.selectedMap={};this.lastShapeList=[];this.shapeHandler={onclick:function(){v.isClick=true},ondragover:function(F){var B=F.target;B.highlightStyle=B.highlightStyle||{};var C=B.highlightStyle;var E=C.brushTyep;var D=C.strokeColor;var A=C.lineWidth;C.brushType="stroke";C.strokeColor=v.ecTheme.calculableColor||j.calculableColor;C.lineWidth=B.type==="icon"?30:10;v.zr.addHoverShape(B);setTimeout(function(){if(C){C.brushType=E;C.strokeColor=D;C.lineWidth=A}},20)},ondrop:function(A){if(p.get(A.dragged,"data")!=null){v.isDrop=true}},ondragend:function(){v.isDragend=true}}}l.prototype={setCalculable:function(u){u.dragEnableTime=this.ecTheme.DRAG_ENABLE_TIME||j.DRAG_ENABLE_TIME;u.ondragover=this.shapeHandler.ondragover;u.ondragend=this.shapeHandler.ondragend;u.ondrop=this.shapeHandler.ondrop;return u},ondrop:function(v,y){if(!this.isDrop||!v.target||y.dragIn){return}var C=v.target;var D=v.dragged;var x=p.get(C,"seriesIndex");var F=p.get(C,"dataIndex");var B=this.series;var A;var G=this.component.legend;if(F===-1){if(p.get(D,"seriesIndex")==x){y.dragOut=y.dragIn=y.needRefresh=true;this.isDrop=false;return}A={value:p.get(D,"value"),name:p.get(D,"name")};if(this.type===j.CHART_TYPE_PIE&&A.value<0){A.value=0}var u=false;var E=B[x].data;for(var z=0,w=E.length;z<w;z++){if(E[z].name===A.name&&E[z].value==="-"){B[x].data[z].value=A.value;u=true}}!u&&B[x].data.push(A);G&&G.add(A.name,D.style.color||D.style.strokeColor)}else{A=B[x].data[F]||"-";if(A.value!=null){if(A.value!="-"){B[x].data[F].value=f.accAdd(B[x].data[F].value,p.get(D,"value"))}else{B[x].data[F].value=p.get(D,"value")}if(this.type===j.CHART_TYPE_FUNNEL||this.type===j.CHART_TYPE_PIE){G&&G.getRelatedAmount(A.name)===1&&this.component.legend.del(A.name);A.name+=this.option.nameConnector+p.get(D,"name");G&&G.add(A.name,D.style.color||D.style.strokeColor)}}else{if(A!="-"){B[x].data[F]=f.accAdd(B[x].data[F],p.get(D,"value"))}else{B[x].data[F]=p.get(D,"value")}}}y.dragIn=y.dragIn||true;this.isDrop=false;var H=this;setTimeout(function(){H.zr.trigger("mousemove",v.event)},300);return},ondragend:function(B,u){if(!this.isDragend||!B.target||u.dragOut){return}var A=B.target;var v=p.get(A,"seriesIndex");var y=p.get(A,"dataIndex");var x=this.series;if(x[v].data[y].value!=null){x[v].data[y].value="-";var w=x[v].data[y].name;var z=this.component.legend;if(z&&z.getRelatedAmount(w)===0){z.del(w)}}else{x[v].data[y]="-"}u.dragOut=true;u.needRefresh=true;this.isDragend=false;return},onlegendSelected:function(x,u){var w=x.selected;for(var v in this.selectedMap){if(this.selectedMap[v]!=w[v]){u.needRefresh=true}this.selectedMap[v]=w[v]}return},_buildPosition:function(){this._symbol=this.option.symbolList;this._sIndex2ShapeMap={};this._sIndex2ColorMap={};this.selectedMap={};this.xMarkMap={};var x=this.series;var C={top:[],bottom:[],left:[],right:[],other:[]};var z;var B;var v;var u;for(var y=0,w=x.length;y<w;y++){if(x[y].type===this.type){x[y]=this.reformOption(x[y]);this.legendHoverLink=x[y].legendHoverLink||this.legendHoverLink;z=x[y].xAxisIndex;B=x[y].yAxisIndex;v=this.component.xAxis.getAxis(z);u=this.component.yAxis.getAxis(B);if(v.type===j.COMPONENT_TYPE_AXIS_CATEGORY){C[v.getPosition()].push(y)}else{if(u.type===j.COMPONENT_TYPE_AXIS_CATEGORY){C[u.getPosition()].push(y)}else{C.other.push(y)}}}}for(var A in C){if(C[A].length>0){this._buildSinglePosition(A,C[A])}}this.addShapeList()},_buildSinglePosition:function(u,A){var z=this._mapData(A);var y=z.locationMap;var x=z.maxDataLength;if(x===0||y.length===0){return}switch(u){case"bottom":case"top":this._buildHorizontal(A,x,y,this.xMarkMap);break;case"left":case"right":this._buildVertical(A,x,y,this.xMarkMap);break;case"other":this._buildOther(A,x,y,this.xMarkMap);break}for(var w=0,v=A.length;w<v;w++){this.buildMark(A[w])}},_mapData:function(B){var C=this.series;var D;var I=0;var F={};var y="__kener__stack__";var z;var w;var J=this.component.legend;var H=[];var E=0;var u;for(var A=0,x=B.length;A<x;A++){D=C[B[A]];w=D.name;this._sIndex2ShapeMap[B[A]]=this._sIndex2ShapeMap[B[A]]||this.query(D,"symbol")||this._symbol[A%this._symbol.length];if(J){this.selectedMap[w]=J.isSelected(w);this._sIndex2ColorMap[B[A]]=J.getColor(w);u=J.getItemShape(w);if(u){var v=u.style;if(this.type==j.CHART_TYPE_LINE){v.iconType="legendLineIcon";v.symbol=this._sIndex2ShapeMap[B[A]]}else{if(D.itemStyle.normal.barBorderWidth>0){var G=u.highlightStyle;v.brushType="both";v.x+=1;v.y+=1;v.width-=2;v.height-=2;v.strokeColor=G.strokeColor=D.itemStyle.normal.barBorderColor;G.lineWidth=3}}J.setItemShape(w,u)}}else{this.selectedMap[w]=true;this._sIndex2ColorMap[B[A]]=this.zr.getColor(B[A])}if(this.selectedMap[w]){z=D.stack||y+B[A];if(F[z]==null){F[z]=I;H[I]=[B[A]];I++}else{H[F[z]].push(B[A])}}E=Math.max(E,D.data.length)}return{locationMap:H,maxDataLength:E}},_calculMarkMapXY:function(w,H,J){var D=this.series;for(var C=0,A=H.length;C<A;C++){for(var z=0,v=H[C].length;z<v;z++){var B=H[C][z];var G=J=="xy"?0:"";var u=this.component.grid;var E=w[B];if(J.indexOf("x")!="-1"){if(E["counter"+G]>0){E["average"+G]=E["sum"+G]/E["counter"+G]}var I=this.component.xAxis.getAxis(D[B].xAxisIndex||0).getCoord(E["average"+G]);E["averageLine"+G]=[[I,u.getYend()],[I,u.getY()]];E["minLine"+G]=[[E["minX"+G],u.getYend()],[E["minX"+G],u.getY()]];E["maxLine"+G]=[[E["maxX"+G],u.getYend()],[E["maxX"+G],u.getY()]];E.isHorizontal=false}G=J=="xy"?1:"";if(J.indexOf("y")!="-1"){if(E["counter"+G]>0){E["average"+G]=E["sum"+G]/E["counter"+G]}var F=this.component.yAxis.getAxis(D[B].yAxisIndex||0).getCoord(E["average"+G]);E["averageLine"+G]=[[u.getX(),F],[u.getXend(),F]];E["minLine"+G]=[[u.getX(),E["minY"+G]],[u.getXend(),E["minY"+G]]];E["maxLine"+G]=[[u.getX(),E["maxY"+G]],[u.getXend(),E["maxY"+G]]];E.isHorizontal=true}}}},addLabel:function(v,C,B,w,A){var x=[B,C];var y=this.deepMerge(x,"itemStyle.normal.label");var D=this.deepMerge(x,"itemStyle.emphasis.label");var F=y.textStyle||{};var z=D.textStyle||{};if(y.show){var u=v.style;u.text=this._getLabelText(C,B,w,"normal");u.textPosition=y.position==null?A==="horizontal"?"right":"top":y.position;u.textColor=F.color;u.textFont=this.getFont(F);u.textAlign=F.align;u.textBaseline=F.baseline}if(D.show){var E=v.highlightStyle;E.text=this._getLabelText(C,B,w,"emphasis");E.textPosition=y.show?v.style.textPosition:D.position==null?A==="horizontal"?"right":"top":D.position;E.textColor=z.color;E.textFont=this.getFont(z);E.textAlign=z.align;E.textBaseline=z.baseline}return v},_getLabelText:function(x,z,v,u){var w=this.deepQuery([z,x],"itemStyle."+u+".label.formatter");if(!w&&u==="emphasis"){w=this.deepQuery([z,x],"itemStyle.normal.label.formatter")}var y=this.getDataFromOption(z,"-");if(w){if(typeof w==="function"){return w.call(this.myChart,{seriesName:x.name,series:x,name:v,value:y,data:z,status:u})}else{if(typeof w==="string"){w=w.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{a0}",x.name).replace("{b0}",v).replace("{c0}",this.numAddCommas(y));return w}}}else{if(y instanceof Array){return y[2]!=null?this.numAddCommas(y[2]):y[0]+" , "+y[1]}else{return this.numAddCommas(y)}}},buildMark:function(u){var v=this.series[u];if(this.selectedMap[v.name]){v.markLine&&this._buildMarkLine(u);v.markPoint&&this._buildMarkPoint(u)}},_buildMarkPoint:function(x){var A=(this.markAttachStyle||{})[x];var B=this.series[x];var z;var C;var E=o.clone(B.markPoint);for(var y=0,w=E.data.length;y<w;y++){z=E.data[y];C=this.getMarkCoord(x,z);z.x=z.x!=null?z.x:C[0];z.y=z.y!=null?z.y:C[1];if(z.type&&(z.type==="max"||z.type==="min")){z.value=C[3];z.name=z.name||z.type;z.symbolSize=z.symbolSize||h.getTextWidth(C[3],this.getFont())/2+5}}var v=this._markPoint(x,E);for(var y=0,w=v.length;y<w;y++){var u=v[y];u.zlevel=B.zlevel;u.z=B.z+1;for(var D in A){u[D]=o.clone(A[D])}this.shapeList.push(u)}if(this.type===j.CHART_TYPE_FORCE||this.type===j.CHART_TYPE_CHORD){for(var y=0,w=v.length;y<w;y++){this.zr.addShape(v[y])}}},_buildMarkLine:function(z){var C=(this.markAttachStyle||{})[z];var D=this.series[z];var E;var w=o.clone(D.markLine);for(var A=0,y=w.data.length;A<y;A++){var G=w.data[A];if(G.type&&(G.type==="max"||G.type==="min"||G.type==="average")){E=this.getMarkCoord(z,G);w.data[A]=[o.clone(G),{}];w.data[A][0].name=G.name||G.type;w.data[A][0].value=G.type!=="average"?E[3]:+E[3].toFixed(w.precision!=null?w.precision:this.deepQuery([this.ecTheme,j],"markLine.precision"));E=E[2];G=[{},{}]}else{E=[this.getMarkCoord(z,G[0]),this.getMarkCoord(z,G[1])]}if(E==null||E[0]==null||E[1]==null){continue}w.data[A][0].x=G[0].x!=null?G[0].x:E[0][0];w.data[A][0].y=G[0].y!=null?G[0].y:E[0][1];w.data[A][1].x=G[1].x!=null?G[1].x:E[1][0];w.data[A][1].y=G[1].y!=null?G[1].y:E[1][1]}var x=this._markLine(z,w);var F=w.large;if(F){var B=new r({style:{shapeList:x}});var v=x[0];if(v){o.merge(B.style,v.style);o.merge(B.highlightStyle={},v.highlightStyle);B.style.brushType="stroke";B.zlevel=D.zlevel;B.z=D.z+1;B.hoverable=false;for(var H in C){B[H]=o.clone(C[H])}}this.shapeList.push(B);this.zr.addShape(B);B._mark="largeLine";var I=w.effect;if(I.show){B.effect=I}}else{for(var A=0,y=x.length;A<y;A++){var u=x[A];u.zlevel=D.zlevel;u.z=D.z+1;for(var H in C){u[H]=o.clone(C[H])}this.shapeList.push(u)}if(this.type===j.CHART_TYPE_FORCE||this.type===j.CHART_TYPE_CHORD){for(var A=0,y=x.length;A<y;A++){this.zr.addShape(x[A])}}}},_markPoint:function(L,y){var G=this.series[L];var D=this.component;o.merge(o.merge(y,o.clone(this.ecTheme.markPoint||{})),o.clone(j.markPoint));y.name=G.name;var z=[];var M=y.data;var F;var A=D.dataRange;var v=D.legend;var J;var H;var x;var C;var B;var E;var u=this.zr.getWidth();var w=this.zr.getHeight();if(!y.large){for(var K=0,I=M.length;K<I;K++){if(M[K].x==null||M[K].y==null){continue}H=M[K].value!=null?M[K].value:"";if(v){J=v.getColor(G.name)}if(A){J=isNaN(H)?J:A.getColor(H);x=[M[K],y];C=this.deepQuery(x,"itemStyle.normal.color")||J;B=this.deepQuery(x,"itemStyle.emphasis.color")||C;if(C==null&&B==null){continue}}J=J==null?this.zr.getColor(L):J;M[K].tooltip=M[K].tooltip||y.tooltip||{trigger:"item"};M[K].name=M[K].name!=null?M[K].name:"";M[K].value=H;F=this.getSymbolShape(y,L,M[K],K,M[K].name,this.parsePercent(M[K].x,u),this.parsePercent(M[K].y,w),"pin",J,"rgba(0,0,0,0)","horizontal");F._mark="point";E=this.deepMerge([M[K],y],"effect");if(E.show){F.effect=E}if(G.type===j.CHART_TYPE_MAP){F._geo=this.getMarkGeo(M[K])}p.pack(F,G,L,M[K],K,M[K].name,H);z.push(F)}}else{F=this.getLargeMarkPointShape(L,y);F._mark="largePoint";F&&z.push(F)}return z},_markLine:function(){function u(w,v){w[v]=w[v] instanceof Array?w[v].length>1?w[v]:[w[v][0],w[v][0]]:[w[v],w[v]]}return function(S,U){var M=this.series[S];var H=this.component;var C=H.dataRange;var w=H.legend;o.merge(o.merge(U,o.clone(this.ecTheme.markLine||{})),o.clone(j.markLine));var Q=w?w.getColor(M.name):this.zr.getColor(S);u(U,"symbol");u(U,"symbolSize");u(U,"symbolRotate");var V=U.data;var y=[];var v=this.zr.getWidth();var x=this.zr.getHeight();for(var R=0;R<V.length;R++){var B=V[R];if(n(B[0])&&n(B[1])){var A=this.deepMerge(B);var z=[A,U];var P=Q;var N=A.value!=null?A.value:"";if(C){P=isNaN(N)?P:C.getColor(N);var G=this.deepQuery(z,"itemStyle.normal.color")||P;var E=this.deepQuery(z,"itemStyle.emphasis.color")||G;if(G==null&&E==null){continue}}B[0].tooltip=A.tooltip||U.tooltip||{trigger:"item"};B[0].name=B[0].name||"";B[1].name=B[1].name||"";B[0].value=N;y.push({points:[[this.parsePercent(B[0].x,v),this.parsePercent(B[0].y,x)],[this.parsePercent(B[1].x,v),this.parsePercent(B[1].y,x)]],rawData:B,color:P})}}var K=this.query(U,"bundling.enable");if(K){var F=new a();F.maxTurningAngle=this.query(U,"bundling.maxTurningAngle")/180*Math.PI;y=F.run(y)}U.name=M.name;var J=[];for(var R=0,O=y.length;R<O;R++){var D=y[R];var T=D.rawEdge||D;var B=T.rawData;var N=B.value!=null?B.value:"";var L=this.getMarkLineShape(U,S,B,R,D.points,K,T.color);L._mark="line";var I=this.deepMerge([B[0],B[1],U],"effect");if(I.show){L.effect=I;L.effect.large=U.large}if(M.type===j.CHART_TYPE_MAP){L._geo=[this.getMarkGeo(B[0]),this.getMarkGeo(B[1])]}p.pack(L,M,S,B[0],R,B[0].name+(B[1].name!==""?" > "+B[1].name:""),N);J.push(L)}return J}}(),getMarkCoord:function(){return[0,0]},getSymbolShape:function(J,O,S,Q,T,B,A,N,M,F,C){var v=[S,J];var K=this.getDataFromOption(S,"-");N=this.deepQuery(v,"symbol")||N;var P=this.deepQuery(v,"symbolSize");P=typeof P==="function"?P(K):P;if(typeof P==="number"){P=[P,P]}var w=this.deepQuery(v,"symbolRotate");var R=this.deepMerge(v,"itemStyle.normal");var L=this.deepMerge(v,"itemStyle.emphasis");var u=R.borderWidth!=null?R.borderWidth:R.lineStyle&&R.lineStyle.width;if(u==null){u=N.match("empty")?2:0}var E=L.borderWidth!=null?L.borderWidth:L.lineStyle&&L.lineStyle.width;if(E==null){E=u+2}var D=this.getItemStyleColor(R.color,O,Q,S);var z=this.getItemStyleColor(L.color,O,Q,S);var I=P[0];var G=P[1];var H=new q({style:{iconType:N.replace("empty","").toLowerCase(),x:B-I,y:A-G,width:I*2,height:G*2,brushType:"both",color:N.match("empty")?F:D||M,strokeColor:R.borderColor||D||M,lineWidth:u},highlightStyle:{color:N.match("empty")?F:z||D||M,strokeColor:L.borderColor||R.borderColor||z||D||M,lineWidth:E},clickable:this.deepQuery(v,"clickable")});if(N.match("image")){H.style.image=N.replace(new RegExp("^image:\\/\\/"),"");H=new e({style:H.style,highlightStyle:H.highlightStyle,clickable:this.deepQuery(v,"clickable")})}if(w!=null){H.rotation=[w*Math.PI/180,B,A]}if(N.match("star")){H.style.iconType="star";H.style.n=N.replace("empty","").replace("star","")-0||5}if(N==="none"){H.invisible=true;H.hoverable=false}H=this.addLabel(H,J,S,T,C);if(N.match("empty")){if(H.style.textColor==null){H.style.textColor=H.style.strokeColor}if(H.highlightStyle.textColor==null){H.highlightStyle.textColor=H.highlightStyle.strokeColor}}p.pack(H,J,O,S,Q,T);H._x=B;H._y=A;H._dataIndex=Q;H._seriesIndex=O;return H},getMarkLineShape:function(L,K,P,N,J,Q,H){var D=P[0].value!=null?P[0].value:"-";var C=P[1].value!=null?P[1].value:"-";var I=[P[0].symbol||L.symbol[0],P[1].symbol||L.symbol[1]];var M=[P[0].symbolSize||L.symbolSize[0],P[1].symbolSize||L.symbolSize[1]];M[0]=typeof M[0]==="function"?M[0](D):M[0];M[1]=typeof M[1]==="function"?M[1](C):M[1];var z=[this.query(P[0],"symbolRotate")||L.symbolRotate[0],this.query(P[1],"symbolRotate")||L.symbolRotate[1]];var w=[P[0],P[1],L];var O=this.deepMerge(w,"itemStyle.normal");O.color=this.getItemStyleColor(O.color,K,N,P);var G=this.deepMerge(w,"itemStyle.emphasis");G.color=this.getItemStyleColor(G.color,K,N,P);var y=O.lineStyle;var B=G.lineStyle;var u=y.width;if(u==null){u=O.borderWidth}var A=B.width;if(A==null){A=G.borderWidth!=null?G.borderWidth:u+2}var v=this.deepQuery(w,"smoothness");if(!this.deepQuery(w,"smooth")){v=0}var x=Q?k:b;var E=new x({style:{symbol:I,symbolSize:M,symbolRotate:z,brushType:"both",lineType:y.type,shadowColor:y.shadowColor||y.color||O.borderColor||O.color||H,shadowBlur:y.shadowBlur,shadowOffsetX:y.shadowOffsetX,shadowOffsetY:y.shadowOffsetY,color:O.color||H,strokeColor:y.color||O.borderColor||O.color||H,lineWidth:u,symbolBorderColor:O.borderColor||O.color||H,symbolBorder:O.borderWidth},highlightStyle:{shadowColor:B.shadowColor,shadowBlur:B.shadowBlur,shadowOffsetX:B.shadowOffsetX,shadowOffsetY:B.shadowOffsetY,color:G.color||O.color||H,strokeColor:B.color||y.color||G.borderColor||O.borderColor||G.color||O.color||H,lineWidth:A,symbolBorderColor:G.borderColor||O.borderColor||G.color||O.color||H,symbolBorder:G.borderWidth==null?O.borderWidth+2:G.borderWidth},clickable:this.deepQuery(w,"clickable")});var F=E.style;if(Q){F.pointList=J;F.smooth=v}else{F.xStart=J[0][0];F.yStart=J[0][1];F.xEnd=J[1][0];F.yEnd=J[1][1];F.curveness=v;E.updatePoints(E.style)}E=this.addLabel(E,L,P[0],P[0].name+" : "+P[1].name);return E},getLargeMarkPointShape:function(z,D){var B=this.series[z];var E=this.component;var A=D.data;var u;var C=E.dataRange;var H=E.legend;var y;var G;var w=[A[0],D];var I;var v;var J;if(H){y=H.getColor(B.name)}if(C){G=A[0].value!=null?A[0].value:"";y=isNaN(G)?y:C.getColor(G);I=this.deepQuery(w,"itemStyle.normal.color")||y;v=this.deepQuery(w,"itemStyle.emphasis.color")||I;if(I==null&&v==null){return}}y=this.deepMerge(w,"itemStyle.normal").color||y;var x=this.deepQuery(w,"symbol")||"circle";x=x.replace("empty","").replace(/\d/g,"");J=this.deepMerge([A[0],D],"effect");var F=window.devicePixelRatio||1;u=new s({style:{pointList:A,color:y,strokeColor:y,shadowColor:J.shadowColor||y,shadowBlur:(J.shadowBlur!=null?J.shadowBlur:8)*F,size:this.deepQuery(w,"symbolSize"),iconType:x,brushType:"fill",lineWidth:1},draggable:false,hoverable:false});if(J.show){u.effect=J}return u},backupShapeList:function(){if(this.shapeList&&this.shapeList.length>0){this.lastShapeList=this.shapeList;this.shapeList=[]}else{this.lastShapeList=[]}},addShapeList:function(){var v=this.option.animationThreshold/(this.canvasSupported?2:4);var C=this.lastShapeList;var x=this.shapeList;var F=C.length>0;var y=F?this.query(this.option,"animationDurationUpdate"):this.query(this.option,"animationDuration");var B=this.query(this.option,"animationEasing");var A;var E;var D={};var u={};if(this.option.animation&&!this.option.renderAsImage&&x.length<v&&!this.motionlessOnce){for(var z=0,w=C.length;z<w;z++){E=this._getAnimationKey(C[z]);if(E.match("undefined")){this.zr.delShape(C[z].id)}else{E+=C[z].type;if(D[E]){this.zr.delShape(C[z].id)}else{D[E]=C[z]}}}for(var z=0,w=x.length;z<w;z++){E=this._getAnimationKey(x[z]);if(E.match("undefined")){this.zr.addShape(x[z])}else{E+=x[z].type;u[E]=x[z]}}for(E in D){if(!u[E]){this.zr.delShape(D[E].id)}}for(E in u){if(D[E]){this.zr.delShape(D[E].id);this._animateMod(D[E],u[E],y,B,0,F)}else{A=(this.type==j.CHART_TYPE_LINE||this.type==j.CHART_TYPE_RADAR)&&E.indexOf("icon")!==0?y/2:0;this._animateMod(false,u[E],y,B,A,F)}}this.zr.refresh();this.animationEffect()}else{this.motionlessOnce=false;this.zr.delShape(C);for(var z=0,w=x.length;z<w;z++){this.zr.addShape(x[z])}}},_getAnimationKey:function(u){if(this.type!=j.CHART_TYPE_MAP&&this.type!=j.CHART_TYPE_TREEMAP&&this.type!=j.CHART_TYPE_VENN&&this.type!=j.CHART_TYPE_TREE){return p.get(u,"seriesIndex")+"_"+p.get(u,"dataIndex")+(u._mark?u._mark:"")+(this.type===j.CHART_TYPE_RADAR?p.get(u,"special"):"")}else{return p.get(u,"seriesIndex")+"_"+p.get(u,"dataIndex")+(u._mark?u._mark:"undefined")}},_animateMod:function(y,v,x,z,u,w){switch(v.type){case"polyline":case"half-smooth-polygon":i.pointList(this.zr,y,v,x,z);break;case"rectangle":i.rectangle(this.zr,y,v,x,z);break;case"image":case"icon":i.icon(this.zr,y,v,x,z,u);break;case"candle":if(!w){i.candle(this.zr,y,v,x,z)}else{this.zr.addShape(v)}break;case"ring":case"sector":case"circle":if(!w){i.ring(this.zr,y,v,x+(p.get(v,"dataIndex")||0)%20*100,z)}else{if(v.type==="sector"){i.sector(this.zr,y,v,x,z)}else{this.zr.addShape(v)}}break;case"text":i.text(this.zr,y,v,x,z);break;case"polygon":if(!w){i.polygon(this.zr,y,v,x,z)}else{i.pointList(this.zr,y,v,x,z)}break;case"ribbon":i.ribbon(this.zr,y,v,x,z);break;case"gauge-pointer":i.gaugePointer(this.zr,y,v,x,z);break;case"mark-line":i.markline(this.zr,y,v,x,z);break;case"bezier-curve":case"line":i.line(this.zr,y,v,x,z);break;default:this.zr.addShape(v);break}},animationMark:function(x,y,w){var w=w||this.shapeList;for(var v=0,u=w.length;v<u;v++){if(!w[v]._mark){continue}this._animateMod(false,w[v],x,y,0,true)}this.animationEffect(w)},animationEffect:function(y){!y&&this.clearEffectShape();y=y||this.shapeList;if(y==null){return}var u=j.EFFECT_ZLEVEL;if(this.canvasSupported){this.zr.modLayer(u,{motionBlur:true,lastFrameAlpha:this.option.effectBlendAlpha||j.effectBlendAlpha})}var w;for(var x=0,v=y.length;x<v;x++){w=y[x];if(!(w._mark&&w.effect&&w.effect.show&&c[w._mark])){continue}c[w._mark](this.zr,this.effectList,w,u);this.effectList[this.effectList.length-1]._mark=w._mark}},clearEffectShape:function(u){var w=this.effectList;if(this.zr&&w&&w.length>0){u&&this.zr.modLayer(j.EFFECT_ZLEVEL,{motionBlur:false});this.zr.delShape(w);for(var v=0;v<w.length;v++){if(w[v].effectAnimator){w[v].effectAnimator.stop()}}}this.effectList=[]},addMark:function(w,A,C){var z=this.series[w];if(this.selectedMap[z.name]){var v=this.query(this.option,"animationDurationUpdate");var B=this.query(this.option,"animationEasing");var y=z[C].data;var D=this.shapeList.length;z[C].data=A.data;this["_build"+C.replace("m","M")](w);if(this.option.animation&&!this.option.renderAsImage){this.animationMark(v,B,this.shapeList.slice(D))}else{for(var x=D,u=this.shapeList.length;x<u;x++){this.zr.addShape(this.shapeList[x])}this.zr.refreshNextFrame()}z[C].data=y}},delMark:function(x,u,C){C=C.replace("mark","").replace("large","").toLowerCase();var z=this.series[x];if(this.selectedMap[z.name]){var B=false;var w=[this.shapeList,this.effectList];var A=2;while(A--){for(var y=0,v=w[A].length;y<v;y++){if(w[A][y]._mark==C&&p.get(w[A][y],"seriesIndex")==x&&p.get(w[A][y],"name")==u){this.zr.delShape(w[A][y].id);w[A].splice(y,1);B=true;break}}}B&&this.zr.refreshNextFrame()}}};o.inherits(l,m);return l});define("zrender/shape/Circle",["./Base","../tool/util"],function(b,a,d){var c=b("./Base");var e=function(f){c.call(this,f)};e.prototype={type:"circle",buildPath:function(f,g){f.moveTo(g.x+g.r,g.y);f.arc(g.x,g.y,g.r,0,Math.PI*2,true);return},getRect:function(g){if(g.__rect){return g.__rect}var f;if(g.brushType=="stroke"||g.brushType=="fill"){f=g.lineWidth||1}else{f=0}g.__rect={x:Math.round(g.x-g.r-f/2),y:Math.round(g.y-g.r-f/2),width:g.r*2+f,height:g.r*2+f};return g.__rect}};b("../tool/util").inherits(e,c);return e});define("echarts/util/accMath",[],function(){function d(i,g){var j=i.toString();var h=g.toString();var f=0;try{f=h.split(".")[1].length}catch(k){}try{f-=j.split(".")[1].length}catch(k){}return(j.replace(".","")-0)/(h.replace(".","")-0)*Math.pow(10,f)}function c(i,g){var j=i.toString();var h=g.toString();var f=0;try{f+=j.split(".")[1].length}catch(k){}try{f+=h.split(".")[1].length}catch(k){}return(j.replace(".","")-0)*(h.replace(".","")-0)/Math.pow(10,f)}function b(j,i){var h=0;var g=0;try{h=j.toString().split(".")[1].length}catch(k){}try{g=i.toString().split(".")[1].length}catch(k){}var f=Math.pow(10,Math.max(h,g));return(Math.round(j*f)+Math.round(i*f))/f}function a(f,e){return b(f,-e)}return{accDiv:d,accMul:c,accAdd:b,accSub:a}});define("echarts/util/shape/Icon",["zrender/tool/util","zrender/shape/Star","zrender/shape/Heart","zrender/shape/Droplet","zrender/shape/Image","zrender/shape/Base"],function(o,G,f){var t=o("zrender/tool/util");function E(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H,M+L.height);J.lineTo(H+5*K,M+14*I);J.lineTo(H+L.width,M+3*I);J.lineTo(H+13*K,M);J.lineTo(H+2*K,M+11*I);J.lineTo(H,M+L.height);J.moveTo(H+6*K,M+10*I);J.lineTo(H+14*K,M+2*I);J.moveTo(H+10*K,M+13*I);J.lineTo(H+L.width,M+13*I);J.moveTo(H+13*K,M+10*I);J.lineTo(H+13*K,M+L.height)}function h(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H,M+L.height);J.lineTo(H+5*K,M+14*I);J.lineTo(H+L.width,M+3*I);J.lineTo(H+13*K,M);J.lineTo(H+2*K,M+11*I);J.lineTo(H,M+L.height);J.moveTo(H+6*K,M+10*I);J.lineTo(H+14*K,M+2*I);J.moveTo(H+10*K,M+13*I);J.lineTo(H+L.width,M+13*I)}function k(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H+4*K,M+15*I);J.lineTo(H+9*K,M+13*I);J.lineTo(H+14*K,M+8*I);J.lineTo(H+11*K,M+5*I);J.lineTo(H+6*K,M+10*I);J.lineTo(H+4*K,M+15*I);J.moveTo(H+5*K,M);J.lineTo(H+11*K,M);J.moveTo(H+5*K,M+I);J.lineTo(H+11*K,M+I);J.moveTo(H,M+2*I);J.lineTo(H+L.width,M+2*I);J.moveTo(H,M+5*I);J.lineTo(H+3*K,M+L.height);J.lineTo(H+13*K,M+L.height);J.lineTo(H+L.width,M+5*I)}function D(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H,M+3*I);J.lineTo(H+6*K,M+3*I);J.moveTo(H+3*K,M);J.lineTo(H+3*K,M+6*I);J.moveTo(H+3*K,M+8*I);J.lineTo(H+3*K,M+L.height);J.lineTo(H+L.width,M+L.height);J.lineTo(H+L.width,M+3*I);J.lineTo(H+8*K,M+3*I)}function u(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H+6*K,M);J.lineTo(H+2*K,M+3*I);J.lineTo(H+6*K,M+6*I);J.moveTo(H+2*K,M+3*I);J.lineTo(H+14*K,M+3*I);J.lineTo(H+14*K,M+11*I);J.moveTo(H+2*K,M+5*I);J.lineTo(H+2*K,M+13*I);J.lineTo(H+14*K,M+13*I);J.moveTo(H+10*K,M+10*I);J.lineTo(H+14*K,M+13*I);J.lineTo(H+10*K,M+L.height)}function i(J,L){var H=L.x;var N=L.y;var K=L.width/16;var I=L.height/16;var M=L.width/2;J.lineWidth=1.5;J.arc(H+M,N+M,M-K,0,Math.PI*2/3);J.moveTo(H+3*K,N+L.height);J.lineTo(H+0*K,N+12*I);J.lineTo(H+5*K,N+11*I);J.moveTo(H,N+8*I);J.arc(H+M,N+M,M-K,Math.PI,Math.PI*5/3);J.moveTo(H+13*K,N);J.lineTo(H+L.width,N+4*I);J.lineTo(H+11*K,N+5*I)}function x(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H,M);J.lineTo(H,M+L.height);J.lineTo(H+L.width,M+L.height);J.moveTo(H+2*K,M+14*I);J.lineTo(H+7*K,M+6*I);J.lineTo(H+11*K,M+11*I);J.lineTo(H+15*K,M+2*I)}function n(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H,M);J.lineTo(H,M+L.height);J.lineTo(H+L.width,M+L.height);J.moveTo(H+3*K,M+14*I);J.lineTo(H+3*K,M+6*I);J.lineTo(H+4*K,M+6*I);J.lineTo(H+4*K,M+14*I);J.moveTo(H+7*K,M+14*I);J.lineTo(H+7*K,M+2*I);J.lineTo(H+8*K,M+2*I);J.lineTo(H+8*K,M+14*I);J.moveTo(H+11*K,M+14*I);J.lineTo(H+11*K,M+9*I);J.lineTo(H+12*K,M+9*I);J.lineTo(H+12*K,M+14*I)}function v(J,L){var I=L.x;var N=L.y;var K=L.width-2;var H=L.height-2;var M=Math.min(K,H)/2;N+=2;J.moveTo(I+M+3,N+M-3);J.arc(I+M+3,N+M-3,M-1,0,-Math.PI/2,true);J.lineTo(I+M+3,N+M-3);J.moveTo(I+M,N);J.lineTo(I+M,N+M);J.arc(I+M,N+M,M,-Math.PI/2,Math.PI*2,true);J.lineTo(I+M,N+M);J.lineWidth=1.5}function F(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;M-=I;J.moveTo(H+1*K,M+2*I);J.lineTo(H+15*K,M+2*I);J.lineTo(H+14*K,M+3*I);J.lineTo(H+2*K,M+3*I);J.moveTo(H+3*K,M+6*I);J.lineTo(H+13*K,M+6*I);J.lineTo(H+12*K,M+7*I);J.lineTo(H+4*K,M+7*I);J.moveTo(H+5*K,M+10*I);J.lineTo(H+11*K,M+10*I);J.lineTo(H+10*K,M+11*I);J.lineTo(H+6*K,M+11*I);J.moveTo(H+7*K,M+14*I);J.lineTo(H+9*K,M+14*I);J.lineTo(H+8*K,M+15*I);J.lineTo(H+7*K,M+15*I)}function w(N,I){var L=I.x;var K=I.y;var J=I.width;var M=I.height;var P=J/16;var O=M/16;var H=Math.min(P,O)*2;N.moveTo(L+P+H,K+O+H);N.arc(L+P,K+O,H,Math.PI/4,Math.PI*3);N.lineTo(L+7*P-H,K+6*O-H);N.arc(L+7*P,K+6*O,H,Math.PI/4*5,Math.PI*4);N.arc(L+7*P,K+6*O,H/2,Math.PI/4*5,Math.PI*4);N.moveTo(L+7*P-H/2,K+6*O+H);N.lineTo(L+P+H,K+14*O-H);N.arc(L+P,K+14*O,H,-Math.PI/4,Math.PI*2);N.moveTo(L+7*P+H/2,K+6*O);N.lineTo(L+14*P-H,K+10*O-H/2);N.moveTo(L+16*P,K+10*O);N.arc(L+14*P,K+10*O,H,0,Math.PI*3);N.lineWidth=1.5}function b(J,L){var I=L.x;var N=L.y;var K=L.width;var H=L.height;var M=Math.min(K,H)/2;J.moveTo(I+K,N+H/2);J.arc(I+M,N+M,M,0,Math.PI*2);J.arc(I+M,N,M,Math.PI/4,Math.PI/5*4);J.arc(I,N+M,M,-Math.PI/3,Math.PI/3);J.arc(I+K,N+H,M,Math.PI,Math.PI/2*3);J.lineWidth=1.5}function z(O,H){var L=H.x;var K=H.y;var I=H.width;var N=H.height;var P=Math.round(N/3);var M=Math.round((P-2)/2);var J=3;while(J--){O.rect(L,K+P*J+M,I,2)}}function C(O,H){var L=H.x;var K=H.y;var I=H.width;var N=H.height;var P=Math.round(I/3);var M=Math.round((P-2)/2);var J=3;while(J--){O.rect(L+P*J+M,K,2,N)}}function m(I,K){var H=K.x;var L=K.y;var J=K.width/16;I.moveTo(H+J,L);I.lineTo(H+J,L+K.height);I.lineTo(H+15*J,L+K.height);I.lineTo(H+15*J,L);I.lineTo(H+J,L);I.moveTo(H+3*J,L+3*J);I.lineTo(H+13*J,L+3*J);I.moveTo(H+3*J,L+6*J);I.lineTo(H+13*J,L+6*J);I.moveTo(H+3*J,L+9*J);I.lineTo(H+13*J,L+9*J);I.moveTo(H+3*J,L+12*J);I.lineTo(H+9*J,L+12*J)}function j(J,L){var H=L.x;var M=L.y;var K=L.width/16;var I=L.height/16;J.moveTo(H,M);J.lineTo(H,M+L.height);J.lineTo(H+L.width,M+L.height);J.lineTo(H+L.width,M);J.lineTo(H,M);J.moveTo(H+4*K,M);J.lineTo(H+4*K,M+8*I);J.lineTo(H+12*K,M+8*I);J.lineTo(H+12*K,M);J.moveTo(H+6*K,M+11*I);J.lineTo(H+6*K,M+13*I);J.lineTo(H+10*K,M+13*I);J.lineTo(H+10*K,M+11*I);J.lineTo(H+6*K,M+11*I)}function c(J,L){var I=L.x;var M=L.y;var K=L.width;var H=L.height;J.moveTo(I,M+H/2);J.lineTo(I+K,M+H/2);J.moveTo(I+K/2,M);J.lineTo(I+K/2,M+H)}function p(I,K){var J=K.width/2;var H=K.height/2;var L=Math.min(J,H);I.moveTo(K.x+J+L,K.y+H);I.arc(K.x+J,K.y+H,L,0,Math.PI*2);I.closePath()}function y(H,I){H.rect(I.x,I.y,I.width,I.height);H.closePath()}function e(J,L){var K=L.width/2;var I=L.height/2;var H=L.x+K;var N=L.y+I;var M=Math.min(K,I);J.moveTo(H,N-M);J.lineTo(H+M,N+M);J.lineTo(H-M,N+M);J.lineTo(H,N-M);J.closePath()}function s(J,L){var K=L.width/2;var I=L.height/2;var H=L.x+K;var N=L.y+I;var M=Math.min(K,I);J.moveTo(H,N-M);J.lineTo(H+M,N);J.lineTo(H,N+M);J.lineTo(H-M,N);J.lineTo(H,N-M);J.closePath()}function a(I,K){var H=K.x;var L=K.y;var J=K.width/16;I.moveTo(H+8*J,L);I.lineTo(H+J,L+K.height);I.lineTo(H+8*J,L+K.height/4*3);I.lineTo(H+15*J,L+K.height);I.lineTo(H+8*J,L);I.closePath()}function l(I,L){var J=o("zrender/shape/Star");var K=L.width/2;var H=L.height/2;J.prototype.buildPath(I,{x:L.x+K,y:L.y+H,r:Math.min(K,H),n:L.n||5})}function g(H,J){var I=o("zrender/shape/Heart");I.prototype.buildPath(H,{x:J.x+J.width/2,y:J.y+J.height*0.2,a:J.width/2,b:J.height*0.8})}function B(H,I){var J=o("zrender/shape/Droplet");J.prototype.buildPath(H,{x:I.x+I.width*0.5,y:I.y+I.height*0.5,a:I.width*0.5,b:I.height*0.8})}function A(J,L){var I=L.x;var N=L.y-L.height/2*1.5;var K=L.width/2;var H=L.height/2;var M=Math.min(K,H);J.arc(I+K,N+H,M,Math.PI/5*4,Math.PI/5);J.lineTo(I+K,N+H+M*1.5);J.closePath()}function r(I,K,H){var L=o("zrender/shape/Image");this._imageShape=this._imageShape||new L({style:{}});for(var J in K){this._imageShape.style[J]=K[J]}this._imageShape.brush(I,false,H)}var q=o("zrender/shape/Base");function d(H){q.call(this,H)}d.prototype={type:"icon",iconLibrary:{mark:E,markUndo:h,markClear:k,dataZoom:D,dataZoomReset:u,restore:i,lineChart:x,barChart:n,pieChart:v,funnelChart:F,forceChart:w,chordChart:b,stackChart:z,tiledChart:C,dataView:m,saveAsImage:j,cross:c,circle:p,rectangle:y,triangle:e,diamond:s,arrow:a,star:l,heart:g,droplet:B,pin:A,image:r},brush:function(J,M,H){var K=M?this.highlightStyle:this.style;K=K||{};var I=K.iconType||this.style.iconType;if(I==="image"){var L=o("zrender/shape/Image");L.prototype.brush.call(this,J,M,H)}else{var K=this.beforeBrush(J,M);J.beginPath();this.buildPath(J,K,H);switch(K.brushType){case"both":J.fill();case"stroke":K.lineWidth>0&&J.stroke();break;default:J.fill()}this.drawText(J,K,this.style);this.afterBrush(J)}},buildPath:function(I,J,H){if(this.iconLibrary[J.iconType]){this.iconLibrary[J.iconType].call(this,I,J,H)}else{I.moveTo(J.x,J.y);I.lineTo(J.x+J.width,J.y);I.lineTo(J.x+J.width,J.y+J.height);I.lineTo(J.x,J.y+J.height);I.lineTo(J.x,J.y);I.closePath()}return},getRect:function(H){if(H.__rect){return H.__rect}H.__rect={x:Math.round(H.x),y:Math.round(H.y-(H.iconType=="pin"?H.height/2*1.5:0)),width:H.width,height:H.height*(H.iconType==="pin"?1.25:1)};return H.__rect},isCover:function(H,L){var J=this.transformCoordToLocal(H,L);H=J[0];L=J[1];var I=this.style.__rect;if(!I){I=this.style.__rect=this.getRect(this.style)}var K=I.height<8||I.width<8?4:0;return H>=I.x-K&&H<=I.x+I.width+K&&L>=I.y-K&&L<=I.y+I.height+K}};t.inherits(d,q);return d});define("echarts/util/shape/MarkLine",["zrender/shape/Base","./Icon","zrender/shape/Line","zrender/shape/BezierCurve","zrender/tool/area","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/curve"],function(h,j,e){var k=h("zrender/shape/Base");var f=h("./Icon");var d=h("zrender/shape/Line");var l=new d({});var c=h("zrender/shape/BezierCurve");var g=new c({});var b=h("zrender/tool/area");var n=h("zrender/shape/util/dashedLineTo");var i=h("zrender/tool/util");var a=h("zrender/tool/curve");function m(o){k.call(this,o);if(this.style.curveness>0){this.updatePoints(this.style)}if(this.highlightStyle.curveness>0){this.updatePoints(this.highlightStyle)}}m.prototype={type:"mark-line",brush:function(o,q){var p=this.style;if(q){p=this.getHighlightStyle(p,this.highlightStyle||{})}o.save();this.setContext(o,p);this.setTransform(o);o.save();o.beginPath();this.buildPath(o,p);o.stroke();o.restore();this.brushSymbol(o,p,0);this.brushSymbol(o,p,1);this.drawText(o,p,this.style);o.restore()},buildPath:function(p,q){var s=q.lineType||"solid";p.moveTo(q.xStart,q.yStart);if(q.curveness>0){var o=null;switch(s){case"dashed":o=[5,5];break;case"dotted":o=[1,1];break}if(o&&p.setLineDash){p.setLineDash(o)}p.quadraticCurveTo(q.cpX1,q.cpY1,q.xEnd,q.yEnd)}else{if(s=="solid"){p.lineTo(q.xEnd,q.yEnd)}else{var r=(q.lineWidth||1)*(q.lineType=="dashed"?5:1);n(p,q.xStart,q.yStart,q.xEnd,q.yEnd,r)}}},updatePoints:function(o){var s=o.curveness||0;var t=1;var r=o.xStart;var w=o.yStart;var p=o.xEnd;var u=o.yEnd;var q=(r+p)/2-t*(w-u)*s;var v=(w+u)/2-t*(p-r)*s;o.cpX1=q;o.cpY1=v},brushSymbol:function(w,C,v){if(C.symbol[v]=="none"){return}w.save();w.beginPath();w.lineWidth=C.symbolBorder;w.strokeStyle=C.symbolBorderColor;var z=C.symbol[v].replace("empty","").toLowerCase();if(C.symbol[v].match("empty")){w.fillStyle="#fff"}var E=C.xStart;var q=C.yStart;var B=C.xEnd;var o=C.yEnd;var s=v===0?E:B;var r=v===0?q:o;var I=C.curveness||0;var A=C.symbolRotate[v]!=null?C.symbolRotate[v]-0:0;A=A/180*Math.PI;if(z=="arrow"&&A===0){if(I===0){var H=v===0?-1:1;A=Math.PI/2+Math.atan2(H*(o-q),H*(B-E))}else{var D=C.cpX1;var p=C.cpY1;var F=a.quadraticDerivativeAt;var u=F(E,D,B,v);var t=F(q,p,o,v);A=Math.PI/2+Math.atan2(t,u)}}w.translate(s,r);if(A!==0){w.rotate(A)}var G=C.symbolSize[v];f.prototype.buildPath(w,{x:-G,y:-G,width:G*2,height:G*2,iconType:z});w.closePath();w.fill();w.stroke();w.restore()},getRect:function(o){o.curveness>0?g.getRect(o):l.getRect(o);return o.__rect},isCover:function(o,q){var p=this.transformCoordToLocal(o,q);o=p[0];q=p[1];if(this.isCoverRect(o,q)){return this.style.curveness>0?b.isInside(g,this.style,o,q):b.isInside(l,this.style,o,q)}return false}};i.inherits(m,k);return m});define("echarts/util/shape/Symbol",["zrender/shape/Base","zrender/shape/Polygon","zrender/tool/util","./normalIsCover"],function(d,c,f){var e=d("zrender/shape/Base");var a=d("zrender/shape/Polygon");var h=new a({});var b=d("zrender/tool/util");function g(i){e.call(this,i)}g.prototype={type:"symbol",buildPath:function(v,C){var u=C.pointList;var B=u.length;if(B===0){return}var n=10000;var m=Math.ceil(B/n);var o;var D;var r=u[0] instanceof Array;var s=C.size?C.size:2;var t=s;var w=s/2;var k=Math.PI*2;var l;var q;var p;for(var z=0;z<m;z++){v.beginPath();o=z*n;D=o+n;D=D>B?B:D;for(var A=o;A<D;A++){if(C.random){l=C["randomMap"+A%20]/100;t=s*l*l;w=t/2}if(r){q=u[A][0];p=u[A][1]}else{q=u[A].x;p=u[A].y}if(t<3){v.rect(q-w,p-w,t,t)}else{switch(C.iconType){case"circle":v.moveTo(q,p);v.arc(q,p,w,0,k,true);break;case"diamond":v.moveTo(q,p-w);v.lineTo(q+w/3,p-w/3);v.lineTo(q+w,p);v.lineTo(q+w/3,p+w/3);v.lineTo(q,p+w);v.lineTo(q-w/3,p+w/3);v.lineTo(q-w,p);v.lineTo(q-w/3,p-w/3);v.lineTo(q,p-w);break;default:v.rect(q-w,p-w,t,t)}}}v.closePath();if(z<m-1){switch(C.brushType){case"both":v.fill();C.lineWidth>0&&v.stroke();break;case"stroke":C.lineWidth>0&&v.stroke();break;default:v.fill()}}}},getRect:function(i){return i.__rect||h.getRect(i)},isCover:d("./normalIsCover")};b.inherits(g,e);return g});define("zrender/shape/Polyline",["./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","./Polygon","../tool/util"],function(d,b,f){var e=d("./Base");var h=d("./util/smoothSpline");var g=d("./util/smoothBezier");var a=d("./util/dashedLineTo");var c=function(i){this.brushTypeOnly="stroke";this.textPosition="end";e.call(this,i)};c.prototype={type:"polyline",buildPath:function(t,k){var j=k.pointList;if(j.length<2){return}var r=Math.min(k.pointList.length,Math.round(k.pointListLength||k.pointList.length));if(k.smooth&&k.smooth!=="spline"){if(!k.controlPointList){this.updateControlPoints(k)}var s=k.controlPointList;t.moveTo(j[0][0],j[0][1]);var q;var n;var m;for(var o=0;o<r-1;o++){q=s[o*2];n=s[o*2+1];m=j[o+1];t.bezierCurveTo(q[0],q[1],n[0],n[1],m[0],m[1])}}else{if(k.smooth==="spline"){j=h(j);r=j.length}if(!k.lineType||k.lineType=="solid"){t.moveTo(j[0][0],j[0][1]);for(var o=1;o<r;o++){t.lineTo(j[o][0],j[o][1])}}else{if(k.lineType=="dashed"||k.lineType=="dotted"){var l=(k.lineWidth||1)*(k.lineType=="dashed"?5:1);t.moveTo(j[0][0],j[0][1]);for(var o=1;o<r;o++){a(t,j[o-1][0],j[o-1][1],j[o][0],j[o][1],l)}}}}return},updateControlPoints:function(i){i.controlPointList=g(i.pointList,i.smooth,false,i.smoothConstraint)},getRect:function(i){return d("./Polygon").prototype.getRect(i)}};d("../tool/util").inherits(c,e);return c});define("zrender/shape/ShapeBundle",["./Base","../tool/util"],function(b,a,d){var c=b("./Base");var e=function(f){c.call(this,f)};e.prototype={constructor:e,type:"shape-bundle",brush:function(f,k){var j=this.beforeBrush(f,k);f.beginPath();for(var h=0;h<j.shapeList.length;h++){var g=j.shapeList[h];var l=g.style;if(k){l=g.getHighlightStyle(l,g.highlightStyle||{},g.brushTypeOnly)}g.buildPath(f,l)}switch(j.brushType){case"both":f.fill();case"stroke":j.lineWidth>0&&f.stroke();break;default:f.fill()}this.drawText(f,j,this.style);this.afterBrush(f)},getRect:function(j){if(j.__rect){return j.__rect}var f=Infinity;var l=-Infinity;var n=Infinity;var k=-Infinity;for(var h=0;h<j.shapeList.length;h++){var g=j.shapeList[h];var m=g.getRect(g.style);var f=Math.min(m.x,f);var n=Math.min(m.y,n);var l=Math.max(m.x+m.width,l);var k=Math.max(m.y+m.height,k)}j.__rect={x:f,y:n,width:l-f,height:k-n};return j.__rect},isCover:function(f,k){var j=this.transformCoordToLocal(f,k);f=j[0];k=j[1];if(this.isCoverRect(f,k)){for(var h=0;h<this.style.shapeList.length;h++){var g=this.style.shapeList[h];if(g.isCover(f,k)){return true}}}return false}};b("../tool/util").inherits(e,c);return e});define("echarts/util/ecAnimation",["zrender/tool/util","zrender/tool/curve","zrender/shape/Polygon"],function(f,r,b){var m=f("zrender/tool/util");var g=f("zrender/tool/curve");function n(z,D,E,v,A){var F=E.style.pointList;var s=F.length;var u;if(!D){u=[];if(E._orient!="vertical"){var B=F[0][1];for(var w=0;w<s;w++){u[w]=[F[w][0],B]}}else{var C=F[0][0];for(var w=0;w<s;w++){u[w]=[C,F[w][1]]}}if(E.type=="half-smooth-polygon"){u[s-1]=m.clone(F[s-1]);u[s-2]=m.clone(F[s-2])}D={style:{pointList:u}}}u=D.style.pointList;var t=u.length;if(t==s){E.style.pointList=u}else{if(t<s){E.style.pointList=u.concat(F.slice(t))}else{E.style.pointList=u.slice(0,s)}}z.addShape(E);E.__animating=true;z.animate(E.id,"style").when(v,{pointList:F}).during(function(){if(E.updateControlPoints){E.updateControlPoints(E.style)}}).done(function(){E.__animating=false}).start(A)}function c(v,u){var s=arguments.length;for(var t=2;t<s;t++){var w=arguments[t];v.style[w]=u.style[w]}}function q(y,A,B,w,z){var u=B.style;if(!A){A={position:B.position,style:{x:u.x,y:B._orient=="vertical"?u.y+u.height:u.y,width:B._orient=="vertical"?u.width:0,height:B._orient!="vertical"?u.height:0}}}var t=u.x;var C=u.y;var x=u.width;var s=u.height;var v=[B.position[0],B.position[1]];c(B,A,"x","y","width","height");B.position=A.position;y.addShape(B);if(v[0]!=A.position[0]||v[1]!=A.position[1]){y.animate(B.id,"").when(w,{position:v}).start(z)}B.__animating=true;y.animate(B.id,"style").when(w,{x:t,y:C,width:x,height:s}).done(function(){B.__animating=false}).start(z)}function d(v,w,s,u,z){if(!w){var x=s.style.y;w={style:{y:[x[0],x[0],x[0],x[0]]}}}var t=s.style.y;s.style.y=w.style.y;v.addShape(s);s.__animating=true;v.animate(s.id,"style").when(u,{y:t}).done(function(){s.__animating=false}).start(z)}function e(v,B,C,u,w){var A=C.style.x;var z=C.style.y;var t=C.style.r0;var s=C.style.r;C.__animating=true;if(C._animationAdd!="r"){C.style.r0=0;C.style.r=0;C.rotation=[Math.PI*2,A,z];v.addShape(C);v.animate(C.id,"style").when(u,{r0:t,r:s}).done(function(){C.__animating=false}).start(w);v.animate(C.id,"").when(u,{rotation:[0,A,z]}).start(w)}else{C.style.r0=C.style.r;v.addShape(C);v.animate(C.id,"style").when(u,{r0:t}).done(function(){C.__animating=false}).start(w)}}function o(w,x,t,v,y){if(!x){if(t._animationAdd!="r"){x={style:{startAngle:t.style.startAngle,endAngle:t.style.startAngle}}}else{x={style:{r0:t.style.r}}}}var u=t.style.startAngle;var s=t.style.endAngle;c(t,x,"startAngle","endAngle");w.addShape(t);t.__animating=true;w.animate(t.id,"style").when(v,{startAngle:u,endAngle:s}).done(function(){t.__animating=false}).start(y)}function k(v,w,t,u,A){if(!w){w={style:{x:t.style.textAlign=="left"?t.style.x+100:t.style.x-100,y:t.style.y}}}var s=t.style.x;var z=t.style.y;c(t,w,"x","y");v.addShape(t);t.__animating=true;v.animate(t.id,"style").when(u,{x:s,y:z}).done(function(){t.__animating=false}).start(A)}function i(w,z,t,v,B){var u=f("zrender/shape/Polygon").prototype.getRect(t.style);var s=u.x+u.width/2;var A=u.y+u.height/2;t.scale=[0.1,0.1,s,A];w.addShape(t);t.__animating=true;w.animate(t.id,"").when(v,{scale:[1,1,s,A]}).done(function(){t.__animating=false}).start(B)}function a(v,x,y,s,w){if(!x){x={style:{source0:0,source1:y.style.source1>0?360:-360,target0:0,target1:y.style.target1>0?360:-360}}}var A=y.style.source0;var z=y.style.source1;var u=y.style.target0;var t=y.style.target1;if(x.style){c(y,x,"source0","source1","target0","target1")}v.addShape(y);y.__animating=true;v.animate(y.id,"style").when(s,{source0:A,source1:z,target0:u,target1:t}).done(function(){y.__animating=false}).start(w)}function j(u,w,s,t,x){if(!w){w={style:{angle:s.style.startAngle}}}var v=s.style.angle;s.style.angle=w.style.angle;u.addShape(s);s.__animating=true;u.animate(s.id,"style").when(t,{angle:v}).done(function(){s.__animating=false}).start(x)}function p(w,z,u,v,B,t){u.style._x=u.style.x;u.style._y=u.style.y;u.style._width=u.style.width;u.style._height=u.style.height;if(!z){var s=u._x||0;var A=u._y||0;u.scale=[0.01,0.01,s,A];w.addShape(u);u.__animating=true;w.animate(u.id,"").delay(t).when(v,{scale:[1,1,s,A]}).done(function(){u.__animating=false}).start(B||"QuinticOut")}else{q(w,z,u,v,B)}}function h(u,y,z,t,v){if(!y){y={style:{xStart:z.style.xStart,yStart:z.style.yStart,xEnd:z.style.xStart,yEnd:z.style.yStart}}}var w=z.style.xStart;var s=z.style.xEnd;var A=z.style.yStart;var x=z.style.yEnd;c(z,y,"xStart","xEnd","yStart","yEnd");u.addShape(z);z.__animating=true;u.animate(z.id,"style").when(t,{xStart:w,xEnd:s,yStart:A,yEnd:x}).done(function(){z.__animating=false}).start(v)}function l(A,G,I,w,B){B=B||"QuinticOut";I.__animating=true;A.addShape(I);var v=I.style;var H=function(){I.__animating=false};var u=v.xStart;var F=v.yStart;var s=v.xEnd;var C=v.yEnd;if(v.curveness>0){I.updatePoints(v);var y={p:0};var t=v.cpX1;var E=v.cpY1;var D=[];var z=[];var x=g.quadraticSubdivide;A.animation.animate(y).when(w,{p:1}).during(function(){x(u,t,s,y.p,D);x(F,E,C,y.p,z);v.cpX1=D[1];v.cpY1=z[1];v.xEnd=D[2];v.yEnd=z[2];A.modShape(I)}).done(H).start(B)}else{A.animate(I.id,"style").when(0,{xEnd:u,yEnd:F}).when(w,{xEnd:s,yEnd:C}).done(H).start(B)}}return{pointList:n,rectangle:q,candle:d,ring:e,sector:o,text:k,polygon:i,ribbon:a,gaugePointer:j,icon:p,line:h,markline:l}});define("echarts/util/ecEffect",["../util/ecData","zrender/shape/Circle","zrender/shape/Image","zrender/tool/curve","../util/shape/Icon","../util/shape/Symbol","zrender/shape/ShapeBundle","zrender/shape/Polyline","zrender/tool/vector","zrender/tool/env"],function(i,k,d){var e=i("../util/ecData");var c=i("zrender/shape/Circle");var b=i("zrender/shape/Image");var a=i("zrender/tool/curve");var g=i("../util/shape/Icon");var h=i("../util/shape/Symbol");var o=i("zrender/shape/ShapeBundle");var l=i("zrender/shape/Polyline");var n=i("zrender/tool/vector");var m=i("zrender/tool/env").canvasSupported;function p(C,t,D,A){var F=D.effect;var w=F.color||D.style.strokeColor||D.style.color;var B=F.shadowColor||w;var G=F.scaleSize;var s=F.bounceDistance;var z=typeof F.shadowBlur!="undefined"?F.shadowBlur:G;var r;if(D.type!=="image"){r=new g({zlevel:A,style:{brushType:"stroke",iconType:D.style.iconType!="droplet"?D.style.iconType:"circle",x:z+1,y:z+1,n:D.style.n,width:D.style._width*G,height:D.style._height*G,lineWidth:1,strokeColor:w,shadowColor:B,shadowBlur:z},draggable:false,hoverable:false});if(D.style.iconType=="pin"){r.style.y+=r.style.height/2*1.5}if(m){r.style.image=C.shapeToImage(r,r.style.width+z*2+2,r.style.height+z*2+2).style.image;r=new b({zlevel:r.zlevel,style:r.style,draggable:false,hoverable:false})}}else{r=new b({zlevel:A,style:D.style,draggable:false,hoverable:false})}e.clone(D,r);r.position=D.position;t.push(r);C.addShape(r);var E=D.type!=="image"?window.devicePixelRatio||1:1;var y=(r.style.width/E-D.style._width)/2;r.style.x=D.style._x-y;r.style.y=D.style._y-y;if(D.style.iconType=="pin"){r.style.y-=D.style.height/2*1.5}var v=(F.period+Math.random()*10)*100;C.modShape(D.id,{invisible:true});var x=r.style.x+r.style.width/2/E;var u=r.style.y+r.style.height/2/E;if(F.type==="scale"){C.modShape(r.id,{scale:[0.1,0.1,x,u]});C.animate(r.id,"",F.loop).when(v,{scale:[1,1,x,u]}).done(function(){D.effect.show=false;C.delShape(r.id)}).start()}else{C.animate(r.id,"style",F.loop).when(v,{y:r.style.y-s}).when(v*2,{y:r.style.y}).done(function(){D.effect.show=false;C.delShape(r.id)}).start()}}function f(z,s,A,x){var E=A.effect;var u=E.color||A.style.strokeColor||A.style.color;var F=E.scaleSize;var y=E.shadowColor||u;var v=typeof E.shadowBlur!="undefined"?E.shadowBlur:F*2;var B=window.devicePixelRatio||1;var r=new h({zlevel:x,position:A.position,scale:A.scale,style:{pointList:A.style.pointList,iconType:A.style.iconType,color:u,strokeColor:u,shadowColor:y,shadowBlur:v*B,random:true,brushType:"fill",lineWidth:1,size:A.style.size},draggable:false,hoverable:false});s.push(r);z.addShape(r);z.modShape(A.id,{invisible:true});var t=Math.round(E.period*100);var D={};var C={};for(var w=0;w<20;w++){r.style["randomMap"+w]=0;D={};D["randomMap"+w]=100;C={};C["randomMap"+w]=0;r.style["randomMap"+w]=Math.random()*100;z.animate(r.id,"style",true).when(t,D).when(t*2,C).when(t*3,D).when(t*4,D).delay(Math.random()*t*w).start()}}function q(v,t,u,s,A){var E=u.effect;var K=u.style;var M=E.color||K.strokeColor||K.color;var I=E.shadowColor||K.strokeColor||M;var H=K.lineWidth*E.scaleSize;var F=typeof E.shadowBlur!="undefined"?E.shadowBlur:H;var C=new c({zlevel:s,style:{x:F,y:F,r:H,color:M,shadowColor:I,shadowBlur:F},hoverable:false});var B=0;if(m&&!A){var s=C.zlevel;C=v.shapeToImage(C,(H+F)*2,(H+F)*2);C.zlevel=s;C.hoverable=false;B=F}if(!A){e.clone(u,C);C.position=u.position;t.push(C);v.addShape(C)}var R=function(){if(!A){u.effect.show=false;v.delShape(C.id)}C.effectAnimator=null};if(u instanceof l){var G=[0];var J=0;var L=K.pointList;var Q=K.controlPointList;for(var N=1;N<L.length;N++){if(Q){var U=Q[(N-1)*2];var T=Q[(N-1)*2+1];J+=n.dist(L[N-1],U)+n.dist(U,T)+n.dist(T,L[N])}else{J+=n.dist(L[N-1],L[N])}G.push(J)}var D={p:0};var V=v.animation.animate(D,{loop:E.loop});for(var N=0;N<G.length;N++){V.when(G[N]*E.period,{p:N})}V.during(function(){var Y=Math.floor(D.p);var W,ad;if(Y==L.length-1){W=L[Y][0];ad=L[Y][1]}else{var X=D.p-Y;var ac=L[Y];var ab=L[Y+1];if(Q){var aa=Q[Y*2];var Z=Q[Y*2+1];W=a.cubicAt(ac[0],aa[0],Z[0],ab[0],X);ad=a.cubicAt(ac[1],aa[1],Z[1],ab[1],X)}else{W=(ab[0]-ac[0])*X+ac[0];ad=(ab[1]-ac[1])*X+ac[1]}}C.style.x=W;C.style.y=ad;if(!A){v.modShape(C)}}).done(R).start();V.duration=J*E.period;C.effectAnimator=V}else{var S=K.xStart-B;var y=K.yStart-B;var O=K.xEnd-B;var w=K.yEnd-B;C.style.x=S;C.style.y=y;var z=(O-S)*(O-S)+(w-y)*(w-y);var r=Math.round(Math.sqrt(Math.round(z*E.period*E.period)));if(u.style.curveness>0){var P=K.cpX1-B;var x=K.cpY1-B;C.effectAnimator=v.animation.animate(C,{loop:E.loop}).when(r,{p:1}).during(function(X,W){C.style.x=a.quadraticAt(S,P,O,W);C.style.y=a.quadraticAt(y,x,w,W);if(!A){v.modShape(C)}}).done(R).start()}else{C.effectAnimator=v.animation.animate(C.style,{loop:E.loop}).when(r,{x:O,y:w}).during(function(){if(!A){v.modShape(C)}}).done(R).start()}C.effectAnimator.duration=r}return C}function j(B,u,C,z){var t=new o({style:{shapeList:[]},zlevel:z,hoverable:false});var w=C.style.shapeList;var F=C.effect;t.position=C.position;var x=0;var E=[];for(var y=0;y<w.length;y++){w[y].effect=F;var r=q(B,null,w[y],z,true);var A=r.effectAnimator;t.style.shapeList.push(r);if(A.duration>x){x=A.duration}if(y===0){t.style.color=r.style.color;t.style.shadowBlur=r.style.shadowBlur;t.style.shadowColor=r.style.shadowColor}E.push(A)}u.push(t);B.addShape(t);var s=function(){for(var G=0;G<E.length;G++){E[G].stop()}};if(x){t.__dummy=0;var v=B.animate(t.id,"",F.loop).when(x,{__dummy:1}).during(function(){B.modShape(t)}).done(function(){C.effect.show=false;B.delShape(t.id)}).start();var D=v.stop;v.stop=function(){s();D.call(this)}}}return{point:p,largePoint:f,line:q,largeLine:j}});define("echarts/component/base",["../config","../util/ecData","../util/ecQuery","../util/number","zrender/tool/util","zrender/tool/env"],function(c,f,a){var i=c("../config");var b=c("../util/ecData");var h=c("../util/ecQuery");var e=c("../util/number");var d=c("zrender/tool/util");function g(n,j,o,m,l){this.ecTheme=n;this.messageCenter=j;this.zr=o;this.option=m;this.series=m.series;this.myChart=l;this.component=l.component;this.shapeList=[];this.effectList=[];var k=this;k._onlegendhoverlink=function(s){if(k.legendHoverLink){var r=s.target;var p;for(var q=k.shapeList.length-1;q>=0;q--){p=k.type==i.CHART_TYPE_PIE||k.type==i.CHART_TYPE_FUNNEL?b.get(k.shapeList[q],"name"):(b.get(k.shapeList[q],"series")||{}).name;if(p==r&&!k.shapeList[q].invisible&&!k.shapeList[q].__animating){k.zr.addHoverShape(k.shapeList[q])}}}};j&&j.bind(i.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink)}g.prototype={canvasSupported:c("zrender/tool/env").canvasSupported,_getZ:function(j){if(this[j]!=null){return this[j]}var k=this.ecTheme[this.type];if(k&&k[j]!=null){return k[j]}k=i[this.type];if(k&&k[j]!=null){return k[j]}return 0},getZlevelBase:function(){return this._getZ("zlevel")},getZBase:function(){return this._getZ("z")},reformOption:function(j){j=d.merge(d.merge(j||{},d.clone(this.ecTheme[this.type]||{})),d.clone(i[this.type]||{}));this.z=j.z;this.zlevel=j.zlevel;return j},reformCssArray:function(j){if(j instanceof Array){switch(j.length+""){case"4":return j;case"3":return[j[0],j[1],j[2],j[1]];case"2":return[j[0],j[1],j[0],j[1]];case"1":return[j[0],j[0],j[0],j[0]];case"0":return[0,0,0,0]}}else{return[j,j,j,j]}},getShapeById:function(m){for(var k=0,j=this.shapeList.length;k<j;k++){if(this.shapeList[k].id===m){return this.shapeList[k]}}return null},getFont:function(k){var j=this.getTextStyle(d.clone(k));return j.fontStyle+" "+j.fontWeight+" "+j.fontSize+"px "+j.fontFamily},getTextStyle:function(j){return d.merge(d.merge(j||{},this.ecTheme.textStyle),i.textStyle)},getItemStyleColor:function(l,j,k,m){return typeof l==="function"?l.call(this.myChart,{seriesIndex:j,series:this.series[j],dataIndex:k,data:m}):l},getDataFromOption:function(k,j){return k!=null?k.value!=null?k.value:k:j},subPixelOptimize:function(k,j){if(j%2===1){k=Math.floor(k)+0.5}else{k=Math.round(k)}return k},resize:function(){this.refresh&&this.refresh();this.clearEffectShape&&this.clearEffectShape(true);var j=this;setTimeout(function(){j.animationEffect&&j.animationEffect()},200)},clear:function(){this.clearEffectShape&&this.clearEffectShape();this.zr&&this.zr.delShape(this.shapeList);this.shapeList=[]},dispose:function(){this.onbeforDispose&&this.onbeforDispose();this.clear();this.shapeList=null;this.effectList=null;this.messageCenter&&this.messageCenter.unbind(i.EVENT.LEGEND_HOVERLINK,this._onlegendhoverlink);this.onafterDispose&&this.onafterDispose()},query:h.query,deepQuery:h.deepQuery,deepMerge:h.deepMerge,parsePercent:e.parsePercent,parseCenter:e.parseCenter,parseRadius:e.parseRadius,numAddCommas:e.addCommas,getPrecision:e.getPrecision};return g});define("echarts/layout/EdgeBundling",["../data/KDTree","zrender/tool/vector"],function(c,f,a){var j=c("../data/KDTree");var k=c("zrender/tool/vector");var l=k.create;var d=k.distSquare;var n=k.dist;var b=k.copy;var m=k.clone;function o(s,q){s=s.array;q=q.array;var p=q[0]-s[0];var u=q[1]-s[1];var t=q[2]-s[2];var r=q[3]-s[3];return p*p+u*u+t*t+r*r}function e(p){this.points=[p.mp0,p.mp1];this.group=p}function i(q){var p=q.points;if(p[0][1]<p[1][1]||q instanceof e){this.array=[p[0][0],p[0][1],p[1][0],p[1][1]];this._startPoint=p[0];this._endPoint=p[1]}else{this.array=[p[1][0],p[1][1],p[0][0],p[0][1]];this._startPoint=p[1];this._endPoint=p[0]}this.ink=n(p[0],p[1]);this.edge=q;this.group=null}i.prototype.getStartPoint=function(){return this._startPoint};i.prototype.getEndPoint=function(){return this._endPoint};function g(){this.edgeList=[];this.mp0=l();this.mp1=l();this.ink=0}g.prototype.addEdge=function(p){p.group=this;this.edgeList.push(p)};g.prototype.removeEdge=function(p){p.group=null;this.edgeList.splice(this.edgeList.indexOf(p),1)};function h(){this.maxNearestEdge=6;this.maxTurningAngle=Math.PI/4;this.maxIteration=20}h.prototype={constructor:h,run:function(y){var v=this._iterate(y);var r=0;while(r++<this.maxIteration){var q=[];for(var s=0;s<v.groups.length;s++){q.push(new e(v.groups[s]))}var u=this._iterate(q);if(u.savedInk<=0){break}else{v=u}}var w=[];function x(A,z){return d(A,z)<1e-10}function p(z,C){var B=[];var D=0;for(var A=0;A<z.length;A++){if(!(D>0&&x(z[A],B[D-1]))){B[D++]=m(z[A])}}if(C[0]&&!x(B[0],C[0])){B=B.reverse()}return B}var t=function(z,D){var G;for(var C=0;C<z.length;C++){var F=z[C];if(F.edgeList[0]&&F.edgeList[0].edge instanceof e){var A=[];for(var B=0;B<F.edgeList.length;B++){A.push(F.edgeList[B].edge.group)}if(!D){G=[]}else{G=D.slice()}G.unshift(F.mp0);G.push(F.mp1);t(A,G)}else{for(var B=0;B<F.edgeList.length;B++){var E=F.edgeList[B];if(!D){G=[]}else{G=D.slice()}G.unshift(F.mp0);G.push(F.mp1);G.unshift(E.getStartPoint());G.push(E.getEndPoint());w.push({points:p(G,E.edge.points),rawEdge:E.edge})}}}};t(v.groups);return w},_iterate:function(s){var p=[];var G=[];var H=0;for(var D=0;D<s.length;D++){var u=new i(s[D]);p.push(u)}var B=new j(p,4);var E=[];var A=l();var z=l();var r=0;var y=l();var x=l();var v=0;for(var D=0;D<p.length;D++){var u=p[D];if(u.group){continue}B.nearestN(u,this.maxNearestEdge,o,E);var F=0;var t=null;var J=null;for(var C=0;C<E.length;C++){var q=E[C];var I=0;if(q.group){if(q.group!==J){J=q.group;r=this._calculateGroupEdgeInk(q.group,u,A,z);I=q.group.ink+u.ink-r}}else{r=this._calculateEdgeEdgeInk(u,q,A,z);I=q.ink+u.ink-r}if(I>F){F=I;t=q;b(x,z);b(y,A);v=r}}if(t){H+=F;var w;if(!t.group){w=new g();G.push(w);w.addEdge(t)}w=t.group;b(w.mp0,y);b(w.mp1,x);w.ink=v;t.group.addEdge(u)}else{var w=new g();G.push(w);b(w.mp0,u.getStartPoint());b(w.mp1,u.getEndPoint());w.ink=u.ink;w.addEdge(u)}}return{groups:G,edges:p,savedInk:H}},_calculateEdgeEdgeInk:function(){var p=[];var q=[];return function(v,u,t,s){p[0]=v.getStartPoint();p[1]=u.getStartPoint();q[0]=v.getEndPoint();q[1]=u.getEndPoint();this._calculateMeetPoints(p,q,t,s);var r=n(p[0],t)+n(t,s)+n(s,q[0])+n(p[1],t)+n(s,q[1]);return r}}(),_calculateGroupEdgeInk:function(w,s,v,u){var r=[];var p=[];for(var t=0;t<w.edgeList.length;t++){var q=w.edgeList[t];r.push(q.getStartPoint());p.push(q.getEndPoint())}r.push(s.getStartPoint());p.push(s.getEndPoint());this._calculateMeetPoints(r,p,v,u);var x=n(v,u);for(var t=0;t<r.length;t++){x+=n(r[t],v)+n(p[t],u)}return x},_calculateMeetPoints:function(){var q=l();var p=l();return function(v,w,t,s){k.set(q,0,0);k.set(p,0,0);var r=v.length;for(var u=0;u<r;u++){k.add(q,q,v[u])}k.scale(q,q,1/r);r=w.length;for(var u=0;u<r;u++){k.add(p,p,w[u])}k.scale(p,p,1/r);this._limitTurningAngle(v,q,p,t);this._limitTurningAngle(w,p,q,s)}}(),_limitTurningAngle:function(){var q=l();var s=l();var r=l();var p=l();return function(z,G,F,x){var E=Math.cos(this.maxTurningAngle);var C=Math.tan(this.maxTurningAngle);k.sub(q,G,F);k.normalize(q,q);k.copy(x,G);var w=0;for(var y=0;y<z.length;y++){var u=z[y];k.sub(s,u,G);var A=k.len(s);k.scale(s,s,1/A);var B=k.dot(s,q);if(B<E){k.scaleAndAdd(r,G,q,A*B);var t=n(r,u);var D=t/C;k.scaleAndAdd(p,r,q,-D);var v=d(p,G);if(v>w){w=v;k.copy(x,p)}}}}}()};return h});define("zrender/shape/Star",["../tool/math","./Base","../tool/util"],function(b,c,a){var f=b("../tool/math");var e=f.sin;var h=f.cos;var i=Math.PI;var d=b("./Base");var g=function(j){d.call(this,j)};g.prototype={type:"star",buildPath:function(A,l){var o=l.n;if(!o||o<2){return}var w=l.x;var u=l.y;var k=l.r;var p=l.r0;if(p==null){p=o>4?k*h(2*i/o)/h(i/o):k/3}var z=i/o;var m=-i/2;var t=w+k*h(m);var B=u+k*e(m);m+=z;var j=l.pointList=[];j.push([t,B]);for(var s=0,q=o*2-1,v;s<q;s++){v=s%2===0?p:k;j.push([w+v*h(m),u+v*e(m)]);m+=z}j.push([t,B]);A.moveTo(j[0][0],j[0][1]);for(var s=0;s<j.length;s++){A.lineTo(j[s][0],j[s][1])}A.closePath();return},getRect:function(k){if(k.__rect){return k.__rect}var j;if(k.brushType=="stroke"||k.brushType=="fill"){j=k.lineWidth||1}else{j=0}k.__rect={x:Math.round(k.x-k.r-j/2),y:Math.round(k.y-k.r-j/2),width:k.r*2+j,height:k.r*2+j};return k.__rect}};b("../tool/util").inherits(g,d);return g});define("zrender/shape/Heart",["./Base","./util/PathProxy","../tool/area","../tool/util"],function(c,b,e){var d=c("./Base");var a=c("./util/PathProxy");var g=c("../tool/area");var f=function(h){d.call(this,h);this._pathProxy=new a()};f.prototype={type:"heart",buildPath:function(h,i){var j=this._pathProxy||new a();j.begin(h);j.moveTo(i.x,i.y);j.bezierCurveTo(i.x+i.a/2,i.y-i.b*2/3,i.x+i.a*2,i.y+i.b/3,i.x,i.y+i.b);j.bezierCurveTo(i.x-i.a*2,i.y+i.b/3,i.x-i.a/2,i.y-i.b*2/3,i.x,i.y);j.closePath();return},getRect:function(h){if(h.__rect){return h.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,h)}return this._pathProxy.fastBoundingRect()},isCover:function(h,j){var i=this.transformCoordToLocal(h,j);h=i[0];j=i[1];if(this.isCoverRect(h,j)){return g.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,h,j)}}};c("../tool/util").inherits(f,d);return f});define("zrender/shape/Droplet",["./Base","./util/PathProxy","../tool/area","../tool/util"],function(c,b,e){var d=c("./Base");var a=c("./util/PathProxy");var f=c("../tool/area");var g=function(h){d.call(this,h);this._pathProxy=new a()};g.prototype={type:"droplet",buildPath:function(h,i){var j=this._pathProxy||new a();j.begin(h);j.moveTo(i.x,i.y+i.a);j.bezierCurveTo(i.x+i.a,i.y+i.a,i.x+i.a*3/2,i.y-i.a/3,i.x,i.y-i.b);j.bezierCurveTo(i.x-i.a*3/2,i.y-i.a/3,i.x-i.a,i.y+i.a,i.x,i.y+i.a);j.closePath()},getRect:function(h){if(h.__rect){return h.__rect}if(!this._pathProxy.isEmpty()){this.buildPath(null,h)}return this._pathProxy.fastBoundingRect()},isCover:function(h,j){var i=this.transformCoordToLocal(h,j);h=i[0];j=i[1];if(this.isCoverRect(h,j)){return f.isInsidePath(this._pathProxy.pathCommands,this.style.lineWidth,this.style.brushType,h,j)}}};c("../tool/util").inherits(g,d);return g});define("zrender/tool/math",[],function(){var d=Math.PI/180;function c(g,f){return Math.sin(f?g*d:g)}function e(g,f){return Math.cos(f?g*d:g)}function a(f){return f*d}function b(f){return f/d}return{sin:c,cos:e,degreeToRadian:a,radianToDegree:b}});define("zrender/shape/util/PathProxy",["../../tool/vector"],function(e,d,f){var c=e("../../tool/vector");var a=function(h,g){this.command=h;this.points=g||null};var b=function(){this.pathCommands=[];this._ctx=null;this._min=[];this._max=[]};b.prototype.fastBoundingRect=function(){var n=this._min;var s=this._max;n[0]=n[1]=Infinity;s[0]=s[1]=-Infinity;for(var r=0;r<this.pathCommands.length;r++){var q=this.pathCommands[r];var k=q.points;switch(q.command){case"M":c.min(n,n,k);c.max(s,s,k);break;case"L":c.min(n,n,k);c.max(s,s,k);break;case"C":for(var o=0;o<6;o+=2){n[0]=Math.min(n[0],n[0],k[o]);n[1]=Math.min(n[1],n[1],k[o+1]);s[0]=Math.max(s[0],s[0],k[o]);s[1]=Math.max(s[1],s[1],k[o+1])}break;case"Q":for(var o=0;o<4;o+=2){n[0]=Math.min(n[0],n[0],k[o]);n[1]=Math.min(n[1],n[1],k[o+1]);s[0]=Math.max(s[0],s[0],k[o]);s[1]=Math.max(s[1],s[1],k[o+1])}break;case"A":var m=k[0];var l=k[1];var h=k[2];var g=k[3];n[0]=Math.min(n[0],n[0],m-h);n[1]=Math.min(n[1],n[1],l-g);s[0]=Math.max(s[0],s[0],m+h);s[1]=Math.max(s[1],s[1],l+g);break}}return{x:n[0],y:n[1],width:s[0]-n[0],height:s[1]-n[1]}};b.prototype.begin=function(g){this._ctx=g||null;this.pathCommands.length=0;return this};b.prototype.moveTo=function(g,h){this.pathCommands.push(new a("M",[g,h]));if(this._ctx){this._ctx.moveTo(g,h)}return this};b.prototype.lineTo=function(g,h){this.pathCommands.push(new a("L",[g,h]));if(this._ctx){this._ctx.lineTo(g,h)}return this};b.prototype.bezierCurveTo=function(j,l,h,k,g,i){this.pathCommands.push(new a("C",[j,l,h,k,g,i]));if(this._ctx){this._ctx.bezierCurveTo(j,l,h,k,g,i)}return this};b.prototype.quadraticCurveTo=function(h,j,g,i){this.pathCommands.push(new a("Q",[h,j,g,i]));if(this._ctx){this._ctx.quadraticCurveTo(h,j,g,i)}return this};b.prototype.arc=function(g,l,j,i,h,k){this.pathCommands.push(new a("A",[g,l,j,j,i,h-i,0,k?0:1]));if(this._ctx){this._ctx.arc(g,l,j,i,h,k)}return this};b.prototype.arcTo=function(i,k,h,j,g){if(this._ctx){this._ctx.arcTo(i,k,h,j,g)}return this};b.prototype.rect=function(g,k,i,j){if(this._ctx){this._ctx.rect(g,k,i,j)}return this};b.prototype.closePath=function(){this.pathCommands.push(new a("z"));if(this._ctx){this._ctx.closePath()}return this};b.prototype.isEmpty=function(){return this.pathCommands.length===0};b.PathSegment=a;return b});define("zrender/shape/Line",["./Base","./util/dashedLineTo","../tool/util"],function(c,b,e){var d=c("./Base");var a=c("./util/dashedLineTo");var f=function(g){this.brushTypeOnly="stroke";this.textPosition="end";d.call(this,g)};f.prototype={type:"line",buildPath:function(g,h){if(!h.lineType||h.lineType=="solid"){g.moveTo(h.xStart,h.yStart);g.lineTo(h.xEnd,h.yEnd)}else{if(h.lineType=="dashed"||h.lineType=="dotted"){var i=(h.lineWidth||1)*(h.lineType=="dashed"?5:1);a(g,h.xStart,h.yStart,h.xEnd,h.yEnd,i)}}},getRect:function(h){if(h.__rect){return h.__rect}var g=h.lineWidth||1;h.__rect={x:Math.min(h.xStart,h.xEnd)-g,y:Math.min(h.yStart,h.yEnd)-g,width:Math.abs(h.xStart-h.xEnd)+g,height:Math.abs(h.yStart-h.yEnd)+g};return h.__rect}};c("../tool/util").inherits(f,d);return f});define("zrender/shape/BezierCurve",["./Base","../tool/util"],function(b,a,d){var c=b("./Base");var e=function(f){this.brushTypeOnly="stroke";this.textPosition="end";c.call(this,f)};e.prototype={type:"bezier-curve",buildPath:function(f,g){f.moveTo(g.xStart,g.yStart);if(typeof g.cpX2!="undefined"&&typeof g.cpY2!="undefined"){f.bezierCurveTo(g.cpX1,g.cpY1,g.cpX2,g.cpY2,g.xEnd,g.yEnd)}else{f.quadraticCurveTo(g.cpX1,g.cpY1,g.xEnd,g.yEnd)}},getRect:function(h){if(h.__rect){return h.__rect}var m=Math.min(h.xStart,h.xEnd,h.cpX1);var k=Math.min(h.yStart,h.yEnd,h.cpY1);var i=Math.max(h.xStart,h.xEnd,h.cpX1);var g=Math.max(h.yStart,h.yEnd,h.cpY1);var j=h.cpX2;var l=h.cpY2;if(typeof j!="undefined"&&typeof l!="undefined"){m=Math.min(m,j);k=Math.min(k,l);i=Math.max(i,j);g=Math.max(g,l)}var f=h.lineWidth||1;h.__rect={x:m-f,y:k-f,width:i-m+f,height:g-k+f};return h.__rect}};b("../tool/util").inherits(e,c);return e});define("zrender/shape/util/dashedLineTo",[],function(){var a=[5,5];return function(k,d,j,b,h,c){if(k.setLineDash){a[0]=a[1]=c;k.setLineDash(a);k.moveTo(d,j);k.lineTo(b,h);return}c=typeof c!="number"?5:c;var m=b-d;var l=h-j;var f=Math.floor(Math.sqrt(m*m+l*l)/c);m=m/f;l=l/f;var g=true;for(var e=0;e<f;++e){if(g){k.moveTo(d,j)}else{k.lineTo(d,j)}g=!g;d+=m;j+=l}k.lineTo(b,h)}});define("zrender/shape/Polygon",["./Base","./util/smoothSpline","./util/smoothBezier","./util/dashedLineTo","../tool/util"],function(d,c,f){var e=d("./Base");var h=d("./util/smoothSpline");var g=d("./util/smoothBezier");var a=d("./util/dashedLineTo");var b=function(i){e.call(this,i)};b.prototype={type:"polygon",buildPath:function(u,k){var j=k.pointList;if(j.length<2){return}if(k.smooth&&k.smooth!=="spline"){var v=g(j,k.smooth,true,k.smoothConstraint);u.moveTo(j[0][0],j[0][1]);var s;var q;var n;var t=j.length;for(var r=0;r<t;r++){s=v[r*2];q=v[r*2+1];n=j[(r+1)%t];u.bezierCurveTo(s[0],s[1],q[0],q[1],n[0],n[1])}}else{if(k.smooth==="spline"){j=h(j,true)}if(!k.lineType||k.lineType=="solid"){u.moveTo(j[0][0],j[0][1]);for(var r=1,o=j.length;r<o;r++){u.lineTo(j[r][0],j[r][1])}u.lineTo(j[0][0],j[0][1])}else{if(k.lineType=="dashed"||k.lineType=="dotted"){var m=k._dashLength||(k.lineWidth||1)*(k.lineType=="dashed"?5:1);k._dashLength=m;u.moveTo(j[0][0],j[0][1]);for(var r=1,o=j.length;r<o;r++){a(u,j[r-1][0],j[r-1][1],j[r][0],j[r][1],m)}a(u,j[j.length-1][0],j[j.length-1][1],j[0][0],j[0][1],m)}}}u.closePath();return},getRect:function(n){if(n.__rect){return n.__rect}var q=Number.MAX_VALUE;var m=Number.MIN_VALUE;var o=Number.MAX_VALUE;var j=Number.MIN_VALUE;var k=n.pointList;for(var r=0,p=k.length;r<p;r++){if(k[r][0]<q){q=k[r][0]}if(k[r][0]>m){m=k[r][0]}if(k[r][1]<o){o=k[r][1]}if(k[r][1]>j){j=k[r][1]}}var s;if(n.brushType=="stroke"||n.brushType=="fill"){s=n.lineWidth||1}else{s=0}n.__rect={x:Math.round(q-s/2),y:Math.round(o-s/2),width:m-q+s,height:j-o+s};return n.__rect}};d("../tool/util").inherits(b,e);return b});define("echarts/util/shape/normalIsCover",[],function(){return function(a,c){var b=this.transformCoordToLocal(a,c);a=b[0];c=b[1];return this.isCoverRect(a,c)}});define("zrender/shape/util/smoothSpline",["../../tool/vector"],function(d,b,e){var a=d("../../tool/vector");function c(m,l,j,i,n,g,f){var k=(j-m)*0.5;var h=(i-l)*0.5;return(2*(l-j)+k+h)*f+(-3*(l-j)-2*k-h)*g+k*n+l}return function(u,f,h){var n=u.length;var o=[];var g=0;for(var m=1;m<n;m++){g+=a.distance(u[m-1],u[m])}var j=g/5;j=j<n?n:j;for(var m=0;m<j;m++){var p=m/(j-1)*(f?n:n-1);var s=Math.floor(p);var r=p-s;var x;var v=u[s%n];var t;var q;if(!f){x=u[s===0?s:s-1];t=u[s>n-2?n-1:s+1];q=u[s>n-3?n-1:s+2]}else{x=u[(s-1+n)%n];t=u[(s+1)%n];q=u[(s+2)%n]}var l=r*r;var k=r*l;o.push([c(x[0],v[0],t[0],q[0],r,l,k),c(x[1],v[1],t[1],q[1],r,l,k)])}return o}});define("zrender/shape/util/smoothBezier",["../../tool/vector"],function(c,b,d){var a=c("../../tool/vector");return function(r,n,z,e){var k=[];var l=[];var j=[];var g=[];var q;var w;var m=!!e;var p,s;if(m){p=[Infinity,Infinity];s=[-Infinity,-Infinity];for(var t=0,u=r.length;t<u;t++){a.min(p,p,r[t]);a.max(s,s,r[t])}a.min(p,p,e[0]);a.max(s,s,e[1])}for(var t=0,u=r.length;t<u;t++){var o=r[t];var q;var w;if(z){q=r[t?t-1:u-1];w=r[(t+1)%u]}else{if(t===0||t===u-1){k.push(a.clone(r[t]));continue}else{q=r[t-1];w=r[t+1]}}a.sub(l,w,q);a.scale(l,l,n);var f=a.distance(o,q);var A=a.distance(o,w);var h=f+A;if(h!==0){f/=h;A/=h}a.scale(j,l,-f);a.scale(g,l,A);var y=a.add([],o,j);var x=a.add([],o,g);if(m){a.max(y,y,p);a.min(y,y,s);a.max(x,x,p);a.min(x,x,s)}k.push(y);k.push(x)}if(z){k.push(a.clone(k.shift()))}return k}});define("echarts/util/ecQuery",["zrender/tool/util"],function(c,b,d){var a=c("zrender/tool/util");function f(k,j){if(typeof k=="undefined"){return}if(!j){return k}j=j.split(".");var i=j.length;var h=0;while(h<i){k=k[j[h]];if(typeof k=="undefined"){return}h++}return k}function e(n,m){var k;for(var j=0,h=n.length;j<h;j++){k=f(n[j],m);if(typeof k!="undefined"){return k}}}function g(k,j){var i;var h=k.length;while(h--){var l=f(k[h],j);if(typeof l!="undefined"){if(typeof i=="undefined"){i=a.clone(l)}else{a.merge(i,l,true)}}}return i}return{query:f,deepQuery:e,deepMerge:g}});define("echarts/util/number",[],function(){function f(g){return g.replace(/^\s+/,"").replace(/\s+$/,"")}function b(g,h){if(typeof g==="string"){if(f(g).match(/%$/)){return parseFloat(g)/100*h}return parseFloat(g)}return g}function e(h,g){return[b(g[0],h.getWidth()),b(g[1],h.getHeight())]}function d(i,g){if(!(g instanceof Array)){g=[0,g]}var h=Math.min(i.getWidth(),i.getHeight())/2;return[b(g[0],h),b(g[1],h)]}function a(g){if(isNaN(g)){return"-"}g=(g+"").split(".");return g[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(g.length>1?"."+g[1]:"")}function c(i){var h=1;var g=0;while(Math.round(i*h)/h!==i){h*=10;g++}return g}return{parsePercent:b,parseCenter:e,parseRadius:d,addCommas:a,getPrecision:c}});define("echarts/data/KDTree",["./quickSelect"],function(d,b,f){var e=d("./quickSelect");function c(g,h){this.left=null;this.right=null;this.axis=g;this.data=h}var a=function(g,h){if(!g.length){return}if(!h){h=g[0].array.length}this.dimension=h;this.root=this._buildTree(g,0,g.length-1,0);this._stack=[];this._nearstNList=[]};a.prototype._buildTree=function(j,m,g,i){if(g<m){return null}var l=Math.floor((m+g)/2);l=e(j,m,g,l,function(o,n){return o.array[i]-n.array[i]});var h=j[l];var k=new c(i,h);i=(i+1)%this.dimension;if(g>m){k.left=this._buildTree(j,m,l-1,i);k.right=this._buildTree(j,l+1,g,i)}return k};a.prototype.nearest=function(h,o){var p=this.root;var j=this._stack;var m=0;var l=Infinity;var i=null;if(p.data!==h){l=o(p.data,h);i=p}if(h.array[p.axis]<p.data.array[p.axis]){p.right&&(j[m++]=p.right);p.left&&(j[m++]=p.left)}else{p.left&&(j[m++]=p.left);p.right&&(j[m++]=p.right)}while(m--){p=j[m];var n=h.array[p.axis]-p.data.array[p.axis];var k=n<0;var g=false;n=n*n;if(n<l){n=o(p.data,h);if(n<l&&p.data!==h){l=n;i=p}g=true}if(k){if(g){p.right&&(j[m++]=p.right)}p.left&&(j[m++]=p.left)}else{if(g){p.left&&(j[m++]=p.left)}p.right&&(j[m++]=p.right)}}return i.data};a.prototype._addNearest=function(k,l,j){var h=this._nearstNList;for(var g=k-1;g>0;g--){if(l>=h[g-1].dist){break}else{h[g].dist=h[g-1].dist;h[g].node=h[g-1].node}}h[g].dist=l;h[g].node=j};a.prototype.nearestN=function(m,l,r,h){if(l<=0){h.length=0;return h}var t=this.root;var n=this._stack;var p=0;var g=this._nearstNList;for(var k=0;k<l;k++){if(!g[k]){g[k]={}}g[k].dist=0;g[k].node=null}var q=r(t.data,m);var s=0;if(t.data!==m){s++;this._addNearest(s,q,t)}if(m.array[t.axis]<t.data.array[t.axis]){t.right&&(n[p++]=t.right);t.left&&(n[p++]=t.left)}else{t.left&&(n[p++]=t.left);t.right&&(n[p++]=t.right)}while(p--){t=n[p];var q=m.array[t.axis]-t.data.array[t.axis];var o=q<0;var j=false;q=q*q;if(s<l||q<g[s-1].dist){q=r(t.data,m);if((s<l||q<g[s-1].dist)&&t.data!==m){if(s<l){s++}this._addNearest(s,q,t)}j=true}if(o){if(j){t.right&&(n[p++]=t.right)}t.left&&(n[p++]=t.left)}else{if(j){t.left&&(n[p++]=t.left)}t.right&&(n[p++]=t.right)}}for(var k=0;k<s;k++){h[k]=g[k].node.data}h.length=s;return h};return a});define("echarts/data/quickSelect",[],function(c,b,e){function g(i,h){return i-h}function f(k,j,h){var i=k[j];k[j]=k[h];k[h]=i}function a(o,p,l,m,n){var j=p;while(l>p){var j=Math.round((l+p)/2);var h=o[j];f(o,j,l);j=p;for(var k=p;k<=l-1;k++){if(n(h,o[k])>=0){f(o,k,j);j++}}f(o,l,j);if(j===m){return j}else{if(j<m){p=j+1}else{l=j-1}}}return p}function d(k,l,h,i,j){if(arguments.length<=3){i=l;if(arguments.length==2){j=g}else{j=h}l=0;h=k.length-1}return a(k,l,h,i,j)}return d});define("echarts/component/dataView",["./base","../config","zrender/tool/util","../component"],function(d,c,f){var e=d("./base");var a=d("../config");var b=d("zrender/tool/util");function g(k,h,l,j,i){e.call(this,k,h,l,j,i);this.dom=i.dom;this._tDom=document.createElement("div");this._textArea=document.createElement("textArea");this._buttonRefresh=document.createElement("button");this._buttonRefresh.setAttribute("type","button");this._buttonClose=document.createElement("button");this._buttonClose.setAttribute("type","button");this._hasShow=false;this._zrHeight=l.getHeight();this._zrWidth=l.getWidth();this._tDom.className="echarts-dataview";this.hide();this.dom.firstChild.appendChild(this._tDom);if(window.addEventListener){this._tDom.addEventListener("click",this._stop);this._tDom.addEventListener("mousewheel",this._stop);this._tDom.addEventListener("mousemove",this._stop);this._tDom.addEventListener("mousedown",this._stop);this._tDom.addEventListener("mouseup",this._stop);this._tDom.addEventListener("touchstart",this._stop);this._tDom.addEventListener("touchmove",this._stop);this._tDom.addEventListener("touchend",this._stop)}else{this._tDom.attachEvent("onclick",this._stop);this._tDom.attachEvent("onmousewheel",this._stop);this._tDom.attachEvent("onmousemove",this._stop);this._tDom.attachEvent("onmousedown",this._stop);this._tDom.attachEvent("onmouseup",this._stop)}}g.prototype={type:a.COMPONENT_TYPE_DATAVIEW,_lang:["Data View","close","refresh"],_gCssText:"position:absolute;display:block;overflow:hidden;transition:height 0.8s,background-color 1s;-moz-transition:height 0.8s,background-color 1s;-webkit-transition:height 0.8s,background-color 1s;-o-transition:height 0.8s,background-color 1s;z-index:1;left:0;top:0;",hide:function(){this._sizeCssText="width:"+this._zrWidth+"px;height:"+0+"px;background-color:#f0ffff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},show:function(j){this._hasShow=true;var k=this.query(this.option,"toolbox.feature.dataView.lang")||this._lang;this.option=j;this._tDom.innerHTML='<p style="padding:8px 0;margin:0 0 10px 0;border-bottom:1px solid #eee">'+(k[0]||this._lang[0])+"</p>";var i=this.query(this.option,"toolbox.feature.dataView.optionToContent");if(typeof i!="function"){this._textArea.value=this._optionToContent()}else{this._textArea=document.createElement("div");this._textArea.innerHTML=i(this.option)}this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;";this._tDom.appendChild(this._textArea);this._buttonClose.style.cssText="float:right;padding:1px 6px;";this._buttonClose.innerHTML=k[1]||this._lang[1];var h=this;this._buttonClose.onclick=function(){h.hide()};this._tDom.appendChild(this._buttonClose);if(this.query(this.option,"toolbox.feature.dataView.readOnly")===false){this._buttonRefresh.style.cssText="float:right;margin-right:10px;padding:1px 6px;";this._buttonRefresh.innerHTML=k[2]||this._lang[2];this._buttonRefresh.onclick=function(){h._save()};this._textArea.readOnly=false;this._textArea.style.cursor="default"}else{this._buttonRefresh.style.cssText="display:none";this._textArea.readOnly=true;this._textArea.style.cursor="text"}this._tDom.appendChild(this._buttonRefresh);this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText},_optionToContent:function(){var p;var m;var l;var q;var o;var h;var s=[];var r="";if(this.option.xAxis){if(this.option.xAxis instanceof Array){s=this.option.xAxis}else{s=[this.option.xAxis]}for(p=0,q=s.length;p<q;p++){if((s[p].type||"category")=="category"){h=[];for(m=0,l=s[p].data.length;m<l;m++){h.push(this.getDataFromOption(s[p].data[m]))}r+=h.join(", ")+"\n\n"}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){s=this.option.yAxis}else{s=[this.option.yAxis]}for(p=0,q=s.length;p<q;p++){if(s[p].type=="category"){h=[];for(m=0,l=s[p].data.length;m<l;m++){h.push(this.getDataFromOption(s[p].data[m]))}r+=h.join(", ")+"\n\n"}}}var n=this.option.series;var t;for(p=0,q=n.length;p<q;p++){h=[];for(m=0,l=n[p].data.length;m<l;m++){o=n[p].data[m];if(n[p].type==a.CHART_TYPE_PIE||n[p].type==a.CHART_TYPE_MAP){t=(o.name||"-")+":"}else{t=""}if(n[p].type==a.CHART_TYPE_SCATTER){o=this.getDataFromOption(o).join(", ")}h.push(t+this.getDataFromOption(o))}r+=(n[p].name||"-")+" : \n";r+=h.join(n[p].type==a.CHART_TYPE_SCATTER?"\n":", ");r+="\n\n"}return r},_save:function(){var m=this.query(this.option,"toolbox.feature.dataView.contentToOption");if(typeof m!="function"){var o=this._textArea.value.split("\n");var n=[];for(var k=0,h=o.length;k<h;k++){o[k]=this._trim(o[k]);if(o[k]!==""){n.push(o[k])}}this._contentToOption(n)}else{m(this._textArea,this.option)}this.hide();var j=this;setTimeout(function(){j.messageCenter&&j.messageCenter.dispatch(a.EVENT.DATA_VIEW_CHANGED,null,{option:j.option},j.myChart)},j.canvasSupported?800:100)},_contentToOption:function(q){var o;var l;var h;var p;var n;var s=[];var u=0;var r;var t;if(this.option.xAxis){if(this.option.xAxis instanceof Array){s=this.option.xAxis}else{s=[this.option.xAxis]}for(o=0,p=s.length;o<p;o++){if((s[o].type||"category")=="category"){r=q[u].split(",");for(l=0,h=s[o].data.length;l<h;l++){t=this._trim(r[l]||"");n=s[o].data[l];if(typeof s[o].data[l].value!="undefined"){s[o].data[l].value=t}else{s[o].data[l]=t}}u++}}}if(this.option.yAxis){if(this.option.yAxis instanceof Array){s=this.option.yAxis}else{s=[this.option.yAxis]}for(o=0,p=s.length;o<p;o++){if(s[o].type=="category"){r=q[u].split(",");for(l=0,h=s[o].data.length;l<h;l++){t=this._trim(r[l]||"");n=s[o].data[l];if(typeof s[o].data[l].value!="undefined"){s[o].data[l].value=t}else{s[o].data[l]=t}}u++}}}var m=this.option.series;for(o=0,p=m.length;o<p;o++){u++;if(m[o].type==a.CHART_TYPE_SCATTER){for(var l=0,h=m[o].data.length;l<h;l++){r=q[u];t=r.replace(" ","").split(",");if(typeof m[o].data[l].value!="undefined"){m[o].data[l].value=t}else{m[o].data[l]=t}u++}}else{r=q[u].split(",");for(var l=0,h=m[o].data.length;l<h;l++){t=(r[l]||"").replace(/.*:/,"");t=this._trim(t);t=t!="-"&&t!==""?t-0:"-";if(typeof m[o].data[l].value!="undefined"){m[o].data[l].value=t}else{m[o].data[l]=t}}u++}}},_trim:function(i){var h=new RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");return i.replace(h,"")},_stop:function(h){h=h||window.event;if(h.stopPropagation){h.stopPropagation()}else{h.cancelBubble=true}},resize:function(){this._zrHeight=this.zr.getHeight();this._zrWidth=this.zr.getWidth();if(this._tDom.offsetHeight>10){this._sizeCssText="width:"+this._zrWidth+"px;height:"+this._zrHeight+"px;background-color:#fff;";this._tDom.style.cssText=this._gCssText+this._sizeCssText;this._textArea.style.cssText="display:block;margin:0 0 8px 0;padding:4px 6px;overflow:auto;width:100%;height:"+(this._zrHeight-100)+"px;"}},dispose:function(){if(window.removeEventListener){this._tDom.removeEventListener("click",this._stop);this._tDom.removeEventListener("mousewheel",this._stop);this._tDom.removeEventListener("mousemove",this._stop);this._tDom.removeEventListener("mousedown",this._stop);this._tDom.removeEventListener("mouseup",this._stop);this._tDom.removeEventListener("touchstart",this._stop);this._tDom.removeEventListener("touchmove",this._stop);this._tDom.removeEventListener("touchend",this._stop)}else{this._tDom.detachEvent("onclick",this._stop);this._tDom.detachEvent("onmousewheel",this._stop);this._tDom.detachEvent("onmousemove",this._stop);this._tDom.detachEvent("onmousedown",this._stop);this._tDom.detachEvent("onmouseup",this._stop)}this._buttonRefresh.onclick=null;this._buttonClose.onclick=null;if(this._hasShow){this._tDom.removeChild(this._textArea);this._tDom.removeChild(this._buttonRefresh);this._tDom.removeChild(this._buttonClose)}this._textArea=null;this._buttonRefresh=null;this._buttonClose=null;this.dom.firstChild.removeChild(this._tDom);this._tDom=null}};b.inherits(g,e);d("../component").define("dataView",g);return g});define("echarts/util/shape/Cross",["zrender/shape/Base","zrender/shape/Line","zrender/tool/util","./normalIsCover"],function(c,b,e){var d=c("zrender/shape/Base");var g=c("zrender/shape/Line");var a=c("zrender/tool/util");function f(h){d.call(this,h)}f.prototype={type:"cross",buildPath:function(h,i){var j=i.rect;i.xStart=j.x;i.xEnd=j.x+j.width;i.yStart=i.yEnd=i.y;g.prototype.buildPath(h,i);i.xStart=i.xEnd=i.x;i.yStart=j.y;i.yEnd=j.y+j.height;g.prototype.buildPath(h,i)},getRect:function(h){return h.rect},isCover:c("./normalIsCover")};a.inherits(f,d);return f});define("zrender/shape/Sector",["../tool/math","../tool/computeBoundingBox","../tool/vector","./Base","../tool/util"],function(c,d,b){var i=c("../tool/math");var k=c("../tool/computeBoundingBox");var g=c("../tool/vector");var e=c("./Base");var a=g.create();var l=g.create();var j=g.create();var h=g.create();var f=function(m){e.call(this,m)};f.prototype={type:"sector",buildPath:function(z,n){var w=n.x;var u=n.y;var p=n.r0||0;var m=n.r;var s=n.startAngle;var o=n.endAngle;var q=n.clockWise||false;s=i.degreeToRadian(s);o=i.degreeToRadian(o);if(!q){s=-s;o=-o}var v=i.cos(s);var t=i.sin(s);z.moveTo(v*p+w,t*p+u);z.lineTo(v*m+w,t*m+u);z.arc(w,u,m,s,o,!q);z.lineTo(i.cos(o)*p+w,i.sin(o)*p+u);if(p!==0){z.arc(w,u,p,o,s,q)}z.closePath();return},getRect:function(q){if(q.__rect){return q.__rect}var m=q.x;var u=q.y;var o=q.r0||0;var s=q.r;var p=i.degreeToRadian(q.startAngle);var n=i.degreeToRadian(q.endAngle);var t=q.clockWise;if(!t){p=-p;n=-n}if(o>1){k.arc(m,u,o,p,n,!t,a,j)}else{a[0]=j[0]=m;a[1]=j[1]=u}k.arc(m,u,s,p,n,!t,l,h);g.min(a,a,l);g.max(j,j,h);q.__rect={x:a[0],y:a[1],width:j[0]-a[0],height:j[1]-a[1]};return q.__rect}};c("../tool/util").inherits(f,e);return f});define("echarts/util/shape/Candle",["zrender/shape/Base","zrender/tool/util","./normalIsCover"],function(c,b,e){var d=c("zrender/shape/Base");var a=c("zrender/tool/util");function f(g){d.call(this,g)}f.prototype={type:"candle",_numberOrder:function(h,g){return g-h},buildPath:function(g,i){var h=a.clone(i.y).sort(this._numberOrder);g.moveTo(i.x,h[3]);g.lineTo(i.x,h[2]);g.moveTo(i.x-i.width/2,h[2]);g.rect(i.x-i.width/2,h[2],i.width,h[1]-h[2]);g.moveTo(i.x,h[1]);g.lineTo(i.x,h[0])},getRect:function(i){if(!i.__rect){var g=0;if(i.brushType=="stroke"||i.brushType=="fill"){g=i.lineWidth||1}var h=a.clone(i.y).sort(this._numberOrder);i.__rect={x:Math.round(i.x-i.width/2-g/2),y:Math.round(h[3]-g/2),width:i.width+g,height:h[0]-h[3]+g}}return i.__rect},isCover:c("./normalIsCover")};a.inherits(f,d);return f});define("zrender/tool/computeBoundingBox",["./vector","./curve"],function(e,g,b){var i=e("./vector");var d=e("./curve");function k(u,q,t){if(u.length===0){return}var o=u[0][0];var v=u[0][0];var s=u[0][1];var m=u[0][1];for(var r=1;r<u.length;r++){var n=u[r];if(n[0]<o){o=n[0]}if(n[0]>v){v=n[0]}if(n[1]<s){s=n[1]}if(n[1]>m){m=n[1]}}q[0]=o;q[1]=s;t[0]=v;t[1]=m}function c(y,w,v,t,p,s){var n=[];d.cubicExtrema(y[0],w[0],v[0],t[0],n);for(var q=0;q<n.length;q++){n[q]=d.cubicAt(y[0],w[0],v[0],t[0],n[q])}var x=[];d.cubicExtrema(y[1],w[1],v[1],t[1],x);for(var q=0;q<x.length;q++){x[q]=d.cubicAt(y[1],w[1],v[1],t[1],x[q])}n.push(y[0],t[0]);x.push(y[1],t[1]);var o=Math.min.apply(null,n);var u=Math.max.apply(null,n);var r=Math.min.apply(null,x);var m=Math.max.apply(null,x);p[0]=o;p[1]=r;s[0]=u;s[1]=m}function h(x,w,v,p,t){var r=d.quadraticExtremum(x[0],w[0],v[0]);var q=d.quadraticExtremum(x[1],w[1],v[1]);r=Math.max(Math.min(r,1),0);q=Math.max(Math.min(q,1),0);var m=1-r;var y=1-q;var o=m*m*x[0]+2*m*r*w[0]+r*r*v[0];var u=m*m*x[1]+2*m*r*w[1]+r*r*v[1];var n=y*y*x[0]+2*y*q*w[0]+q*q*v[0];var s=y*y*x[1]+2*y*q*w[1]+q*q*v[1];p[0]=Math.min(x[0],v[0],o,n);p[1]=Math.min(x[1],v[1],u,s);t[0]=Math.max(x[0],v[0],o,n);t[1]=Math.max(x[1],v[1],u,s)}var a=i.create();var f=i.create();var l=i.create();var j=function(w,u,m,t,n,o,q,v){if(Math.abs(t-n)>=Math.PI*2){q[0]=w-m;q[1]=u-m;v[0]=w+m;v[1]=u+m;return}a[0]=Math.cos(t)*m+w;a[1]=Math.sin(t)*m+u;f[0]=Math.cos(n)*m+w;f[1]=Math.sin(n)*m+u;i.min(q,a,f);i.max(v,a,f);t=t%(Math.PI*2);if(t<0){t=t+Math.PI*2}n=n%(Math.PI*2);if(n<0){n=n+Math.PI*2}if(t>n&&!o){n+=Math.PI*2}else{if(t<n&&o){t+=Math.PI*2}}if(o){var s=n;n=t;t=s}for(var p=0;p<n;p+=Math.PI/2){if(p>t){l[0]=Math.cos(p)*m+w;l[1]=Math.sin(p)*m+u;i.min(q,l,q);i.max(v,l,v)}}};k.cubeBezier=c;k.quadraticBezier=h;k.arc=j;return k});define("echarts/util/shape/Chain",["zrender/shape/Base","./Icon","zrender/shape/util/dashedLineTo","zrender/tool/util","zrender/tool/matrix"],function(c,e,a){var f=c("zrender/shape/Base");var b=c("./Icon");var i=c("zrender/shape/util/dashedLineTo");var d=c("zrender/tool/util");var g=c("zrender/tool/matrix");function h(j){f.call(this,j)}h.prototype={type:"chain",brush:function(j,l){var k=this.style;if(l){k=this.getHighlightStyle(k,this.highlightStyle||{})}j.save();this.setContext(j,k);this.setTransform(j);j.save();j.beginPath();this.buildLinePath(j,k);j.stroke();j.restore();this.brushSymbol(j,k);j.restore();return},buildLinePath:function(l,n){var k=n.x;var p=n.y+5;var m=n.width;var j=n.height/2-10;l.moveTo(k,p);l.lineTo(k,p+j);l.moveTo(k+m,p);l.lineTo(k+m,p+j);l.moveTo(k,p+j/2);if(!n.lineType||n.lineType=="solid"){l.lineTo(k+m,p+j/2)}else{if(n.lineType=="dashed"||n.lineType=="dotted"){var o=(n.lineWidth||1)*(n.lineType=="dashed"?5:1);i(l,k,p+j/2,k+m,p+j/2,o)}}},brushSymbol:function(n,p){var r=p.y+p.height/4;n.save();var o=p.chainPoint;var m;for(var j=0,k=o.length;j<k;j++){m=o[j];if(m.symbol!="none"){n.beginPath();var q=m.symbolSize;b.prototype.buildPath(n,{iconType:m.symbol,x:m.x-q,y:r-q,width:q*2,height:q*2,n:m.n});n.fillStyle=m.isEmpty?"#fff":p.strokeColor;n.closePath();n.fill();n.stroke()}if(m.showLabel){n.font=m.textFont;n.fillStyle=m.textColor;n.textAlign=m.textAlign;n.textBaseline=m.textBaseline;if(m.rotation){n.save();this._updateTextTransform(n,m.rotation);n.fillText(m.name,m.textX,m.textY);n.restore()}else{n.fillText(m.name,m.textX,m.textY)}}}n.restore()},_updateTextTransform:function(j,n){var m=g.create();g.identity(m);if(n[0]!==0){var l=n[1]||0;var k=n[2]||0;if(l||k){g.translate(m,m,[-l,-k])}g.rotate(m,m,n[0]);if(l||k){g.translate(m,m,[l,k])}}j.transform.apply(j,m)},isCover:function(j,l){var k=this.style;if(j>=k.x&&j<=k.x+k.width&&l>=k.y&&l<=k.y+k.height){return true}else{return false}}};d.inherits(h,f);return h});define("zrender/shape/Ring",["./Base","../tool/util"],function(c,b,e){var d=c("./Base");var a=function(f){d.call(this,f)};a.prototype={type:"ring",buildPath:function(f,g){f.arc(g.x,g.y,g.r,0,Math.PI*2,false);f.moveTo(g.x+g.r0,g.y);f.arc(g.x,g.y,g.r0,0,Math.PI*2,true);return},getRect:function(g){if(g.__rect){return g.__rect}var f;if(g.brushType=="stroke"||g.brushType=="fill"){f=g.lineWidth||1}else{f=0}g.__rect={x:Math.round(g.x-g.r-f/2),y:Math.round(g.y-g.r-f/2),width:g.r*2+f,height:g.r*2+f};return g.__rect}};c("../tool/util").inherits(a,d);return a});define("echarts/component/axis",["./base","zrender/shape/Line","../config","../util/ecData","zrender/tool/util","zrender/tool/color","./categoryAxis","./valueAxis","../component"],function(e,g,c){var h=e("./base");var b=e("zrender/shape/Line");var j=e("../config");var d=e("../util/ecData");var f=e("zrender/tool/util");var a=e("zrender/tool/color");function i(o,l,p,n,m,k){h.call(this,o,l,p,n,m);this.axisType=k;this._axisList=[];this.refresh(n)}i.prototype={type:j.COMPONENT_TYPE_AXIS,axisBase:{_buildAxisLine:function(){var k=this.option.axisLine.lineStyle.width;var l=k/2;var o={_axisShape:"axisLine",zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false};var m=this.grid;switch(this.option.position){case"left":o.style={xStart:m.getX()-l,yStart:m.getYend(),xEnd:m.getX()-l,yEnd:m.getY(),lineCap:"round"};break;case"right":o.style={xStart:m.getXend()+l,yStart:m.getYend(),xEnd:m.getXend()+l,yEnd:m.getY(),lineCap:"round"};break;case"bottom":o.style={xStart:m.getX(),yStart:m.getYend()+l,xEnd:m.getXend(),yEnd:m.getYend()+l,lineCap:"round"};break;case"top":o.style={xStart:m.getX(),yStart:m.getY()-l,xEnd:m.getXend(),yEnd:m.getY()-l,lineCap:"round"};break}var n=o.style;if(this.option.name!==""){n.text=this.option.name;n.textPosition=this.option.nameLocation;n.textFont=this.getFont(this.option.nameTextStyle);if(this.option.nameTextStyle.align){n.textAlign=this.option.nameTextStyle.align}if(this.option.nameTextStyle.baseline){n.textBaseline=this.option.nameTextStyle.baseline}if(this.option.nameTextStyle.color){n.textColor=this.option.nameTextStyle.color}}n.strokeColor=this.option.axisLine.lineStyle.color;n.lineWidth=k;if(this.isHorizontal()){n.yStart=n.yEnd=this.subPixelOptimize(n.yEnd,k)}else{n.xStart=n.xEnd=this.subPixelOptimize(n.xEnd,k)}n.lineType=this.option.axisLine.lineStyle.type;o=new b(o);this.shapeList.push(o)},_axisLabelClickable:function(k,l){if(k){d.pack(l,undefined,-1,undefined,-1,l.style.text);l.hoverable=true;l.clickable=true;l.highlightStyle={color:a.lift(l.style.color,1),brushType:"fill"};return l}else{return l}},refixAxisShape:function(p,o){if(!this.option.axisLine.onZero){return}var n;if(this.isHorizontal()&&o!=null){for(var m=0,k=this.shapeList.length;m<k;m++){if(this.shapeList[m]._axisShape==="axisLine"){this.shapeList[m].style.yStart=this.shapeList[m].style.yEnd=this.subPixelOptimize(o,this.shapeList[m].stylelineWidth);this.zr.modShape(this.shapeList[m].id)}else{if(this.shapeList[m]._axisShape==="axisTick"){n=this.shapeList[m].style.yEnd-this.shapeList[m].style.yStart;this.shapeList[m].style.yStart=o-n;this.shapeList[m].style.yEnd=o;this.zr.modShape(this.shapeList[m].id)}}}}if(!this.isHorizontal()&&p!=null){for(var m=0,k=this.shapeList.length;m<k;m++){if(this.shapeList[m]._axisShape==="axisLine"){this.shapeList[m].style.xStart=this.shapeList[m].style.xEnd=this.subPixelOptimize(p,this.shapeList[m].stylelineWidth);this.zr.modShape(this.shapeList[m].id)}else{if(this.shapeList[m]._axisShape==="axisTick"){n=this.shapeList[m].style.xEnd-this.shapeList[m].style.xStart;this.shapeList[m].style.xStart=p;this.shapeList[m].style.xEnd=p+n;this.zr.modShape(this.shapeList[m].id)}}}}},getPosition:function(){return this.option.position},isHorizontal:function(){return this.option.position==="bottom"||this.option.position==="top"}},reformOption:function(n){if(!n||n instanceof Array&&n.length===0){n=[{type:j.COMPONENT_TYPE_AXIS_VALUE}]}else{if(!(n instanceof Array)){n=[n]}}if(n.length>2){n=[n[0],n[1]]}if(this.axisType==="xAxis"){if(!n[0].position||n[0].position!="bottom"&&n[0].position!="top"){n[0].position="bottom"}if(n.length>1){n[1].position=n[0].position==="bottom"?"top":"bottom"}for(var m=0,k=n.length;m<k;m++){n[m].type=n[m].type||"category";n[m].xAxisIndex=m;n[m].yAxisIndex=-1}}else{if(!n[0].position||n[0].position!="left"&&n[0].position!="right"){n[0].position="left"}if(n.length>1){n[1].position=n[0].position==="left"?"right":"left"}for(var m=0,k=n.length;m<k;m++){n[m].type=n[m].type||"value";n[m].xAxisIndex=-1;n[m].yAxisIndex=m}}return n},refresh:function(m){var p;if(m){this.option=m;if(this.axisType==="xAxis"){this.option.xAxis=this.reformOption(m.xAxis);p=this.option.xAxis}else{this.option.yAxis=this.reformOption(m.yAxis);p=this.option.yAxis}this.series=m.series}var n=e("./categoryAxis");var o=e("./valueAxis");var k=Math.max(p&&p.length||0,this._axisList.length);for(var l=0;l<k;l++){if(this._axisList[l]&&m&&(!p[l]||this._axisList[l].type!=p[l].type)){this._axisList[l].dispose&&this._axisList[l].dispose();this._axisList[l]=false}if(this._axisList[l]){this._axisList[l].refresh&&this._axisList[l].refresh(p?p[l]:false,this.series)}else{if(p&&p[l]){this._axisList[l]=p[l].type==="category"?new n(this.ecTheme,this.messageCenter,this.zr,p[l],this.myChart,this.axisBase):new o(this.ecTheme,this.messageCenter,this.zr,p[l],this.myChart,this.axisBase,this.series)}}}},getAxis:function(k){return this._axisList[k]},getAxisCount:function(){return this._axisList.length},clear:function(){for(var m=0,k=this._axisList.length;m<k;m++){this._axisList[m].dispose&&this._axisList[m].dispose()}this._axisList=[]}};f.inherits(i,h);e("../component").define("axis",i);return i});define("echarts/component/grid",["./base","zrender/shape/Rectangle","../config","zrender/tool/util","../component"],function(e,d,g){var f=e("./base");var h=e("zrender/shape/Rectangle");var a=e("../config");a.grid={zlevel:0,z:0,x:80,y:60,x2:80,y2:60,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"};var c=e("zrender/tool/util");function b(l,i,m,k,j){f.call(this,l,i,m,k,j);this.refresh(k)}b.prototype={type:a.COMPONENT_TYPE_GRID,getX:function(){return this._x},getY:function(){return this._y},getWidth:function(){return this._width},getHeight:function(){return this._height},getXend:function(){return this._x+this._width},getYend:function(){return this._y+this._height},getArea:function(){return{x:this._x,y:this._y,width:this._width,height:this._height}},getBbox:function(){return[[this._x,this._y],[this.getXend(),this.getYend()]]},refixAxisShape:function(k){var n;var m;var j=k.xAxis._axisList.concat(k.yAxis?k.yAxis._axisList:[]);var i=j.length;var l;while(i--){l=j[i];if(l.type==a.COMPONENT_TYPE_AXIS_VALUE&&l._min<0&&l._max>=0){l.isHorizontal()?n=l.getCoord(0):m=l.getCoord(0)}}if(typeof n!="undefined"||typeof m!="undefined"){i=j.length;while(i--){j[i].refixAxisShape(n,m)}}},refresh:function(l){if(l||this._zrWidth!=this.zr.getWidth()||this._zrHeight!=this.zr.getHeight()){this.clear();this.option=l||this.option;this.option.grid=this.reformOption(this.option.grid);var i=this.option.grid;this._zrWidth=this.zr.getWidth();this._zrHeight=this.zr.getHeight();this._x=this.parsePercent(i.x,this._zrWidth);this._y=this.parsePercent(i.y,this._zrHeight);var j=this.parsePercent(i.x2,this._zrWidth);var k=this.parsePercent(i.y2,this._zrHeight);if(typeof i.width=="undefined"){this._width=this._zrWidth-this._x-j}else{this._width=this.parsePercent(i.width,this._zrWidth)}this._width=this._width<=0?10:this._width;if(typeof i.height=="undefined"){this._height=this._zrHeight-this._y-k}else{this._height=this.parsePercent(i.height,this._zrHeight)}this._height=this._height<=0?10:this._height;this._x=this.subPixelOptimize(this._x,i.borderWidth);this._y=this.subPixelOptimize(this._y,i.borderWidth);this.shapeList.push(new h({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._x,y:this._y,width:this._width,height:this._height,brushType:i.borderWidth>0?"both":"fill",color:i.backgroundColor,strokeColor:i.borderColor,lineWidth:i.borderWidth}}));this.zr.addShape(this.shapeList[0])}}};c.inherits(b,f);e("../component").define("grid",b);return b});define("echarts/component/dataZoom",["./base","zrender/shape/Rectangle","zrender/shape/Polygon","../util/shape/Icon","../config","../util/date","zrender/tool/util","../component"],function(c,e,a){var g=c("./base");var j=c("zrender/shape/Rectangle");var f=c("zrender/shape/Polygon");var b=c("../util/shape/Icon");var i=c("../config");i.dataZoom={zlevel:0,z:4,show:false,orient:"horizontal",backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"#eee",fillerColor:"rgba(144,197,237,0.2)",handleColor:"rgba(70,130,180,0.8)",handleSize:8,showDetail:true,realtime:true};var k=c("../util/date");var d=c("zrender/tool/util");function h(p,l,q,o,n){g.call(this,p,l,q,o,n);var m=this;m._ondrift=function(s,r){return m.__ondrift(this,s,r)};m._ondragend=function(){return m.__ondragend()};this._fillerSize=30;this._isSilence=false;this._zoom={};this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;this._handleSize=this.zoomOption.handleSize;if(!this.myChart.canvasSupported){this.zoomOption.realtime=false}this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom.show){this._buildShape()}this._syncData()}h.prototype={type:i.COMPONENT_TYPE_DATAZOOM,_buildShape:function(){this._buildBackground();this._buildFiller();this._buildHandle();this._buildFrame();for(var n=0,m=this.shapeList.length;n<m;n++){this.zr.addShape(this.shapeList[n])}this._syncFrameShape()},_getLocation:function(){var m;var p;var o;var l;var n=this.component.grid;if(this.zoomOption.orient=="horizontal"){o=this.zoomOption.width||n.getWidth();l=this.zoomOption.height||this._fillerSize;m=this.zoomOption.x!=null?this.zoomOption.x:n.getX();p=this.zoomOption.y!=null?this.zoomOption.y:this.zr.getHeight()-l-2}else{o=this.zoomOption.width||this._fillerSize;l=this.zoomOption.height||n.getHeight();m=this.zoomOption.x!=null?this.zoomOption.x:2;p=this.zoomOption.y!=null?this.zoomOption.y:n.getY()}return{x:m,y:p,width:o,height:l}},_getZoom:function(){var u=this.option.series;var o=this.option.xAxis;if(o&&!(o instanceof Array)){o=[o];this.option.xAxis=o}var m=this.option.yAxis;if(m&&!(m instanceof Array)){m=[m];this.option.yAxis=m}var y=[];var w;var z;var p=this.zoomOption.xAxisIndex;if(o&&p==null){w=[];for(var v=0,q=o.length;v<q;v++){if(o[v].type=="category"||o[v].type==null){w.push(v)}}}else{if(p instanceof Array){w=p}else{if(p!=null){w=[p]}else{w=[]}}}p=this.zoomOption.yAxisIndex;if(m&&p==null){z=[];for(var v=0,q=m.length;v<q;v++){if(m[v].type=="category"){z.push(v)}}}else{if(p instanceof Array){z=p}else{if(p!=null){z=[p]}else{z=[]}}}var x;for(var v=0,q=u.length;v<q;v++){x=u[v];if(x.type!=i.CHART_TYPE_LINE&&x.type!=i.CHART_TYPE_BAR&&x.type!=i.CHART_TYPE_SCATTER&&x.type!=i.CHART_TYPE_K){continue}for(var t=0,s=w.length;t<s;t++){if(w[t]==(x.xAxisIndex||0)){y.push(v);break}}for(var t=0,s=z.length;t<s;t++){if(z[t]==(x.yAxisIndex||0)){y.push(v);break}}if(this.zoomOption.xAxisIndex==null&&this.zoomOption.yAxisIndex==null&&x.data&&this.getDataFromOption(x.data[0]) instanceof Array&&(x.type==i.CHART_TYPE_SCATTER||x.type==i.CHART_TYPE_LINE||x.type==i.CHART_TYPE_BAR)){y.push(v)}}var n=this._zoom.start!=null?this._zoom.start:this.zoomOption.start!=null?this.zoomOption.start:0;var r=this._zoom.end!=null?this._zoom.end:this.zoomOption.end!=null?this.zoomOption.end:100;if(n>r){n=n+r;r=n-r;n=n-r}var A=Math.round((r-n)/100*(this.zoomOption.orient=="horizontal"?this._location.width:this._location.height));return{start:n,end:r,start2:0,end2:100,size:A,xAxisIndex:w,yAxisIndex:z,seriesIndex:y,scatterMap:this._zoom.scatterMap||{}}},_backupData:function(){this._originalData={xAxis:{},yAxis:{},series:{}};var n=this.option.xAxis;var s=this._zoom.xAxisIndex;for(var q=0,o=s.length;q<o;q++){this._originalData.xAxis[s[q]]=n[s[q]].data}var m=this.option.yAxis;var u=this._zoom.yAxisIndex;for(var q=0,o=u.length;q<o;q++){this._originalData.yAxis[u[q]]=m[u[q]].data}var r=this.option.series;var p=this._zoom.seriesIndex;var t;for(var q=0,o=p.length;q<o;q++){t=r[p[q]];this._originalData.series[p[q]]=t.data;if(t.data&&this.getDataFromOption(t.data[0]) instanceof Array&&(t.type==i.CHART_TYPE_SCATTER||t.type==i.CHART_TYPE_LINE||t.type==i.CHART_TYPE_BAR)){this._backupScale();this._calculScatterMap(p[q])}}},_calculScatterMap:function(m){this._zoom.scatterMap=this._zoom.scatterMap||{};this._zoom.scatterMap[m]=this._zoom.scatterMap[m]||{};var p=c("../component");var l=p.get("axis");var q=d.clone(this.option.xAxis);if(q[0].type=="category"){q[0].type="value"}if(q[1]&&q[1].type=="category"){q[1].type="value"}var o=new l(this.ecTheme,null,false,{xAxis:q,series:this.option.series},this,"xAxis");var n=this.option.series[m].xAxisIndex||0;this._zoom.scatterMap[m].x=o.getAxis(n).getExtremum();o.dispose();q=d.clone(this.option.yAxis);if(q[0].type=="category"){q[0].type="value"}if(q[1]&&q[1].type=="category"){q[1].type="value"}o=new l(this.ecTheme,null,false,{yAxis:q,series:this.option.series},this,"yAxis");n=this.option.series[m].yAxisIndex||0;this._zoom.scatterMap[m].y=o.getAxis(n).getExtremum();o.dispose()},_buildBackground:function(){var z=this._location.width;var v=this._location.height;this.shapeList.push(new j({zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this._location.x,y:this._location.y,width:z,height:v,color:this.zoomOption.backgroundColor}}));var o=0;var q=this._originalData.xAxis;var n=this._zoom.xAxisIndex;for(var D=0,C=n.length;D<C;D++){o=Math.max(o,q[n[D]].length)}var m=this._originalData.yAxis;var w=this._zoom.yAxisIndex;for(var D=0,C=w.length;D<C;D++){o=Math.max(o,m[w[D]].length)}var E=this._zoom.seriesIndex[0];var G=this._originalData.series[E];var F=Number.MIN_VALUE;var u=Number.MAX_VALUE;var A;for(var D=0,C=G.length;D<C;D++){A=this.getDataFromOption(G[D],0);if(this.option.series[E].type==i.CHART_TYPE_K){A=A[1]}if(isNaN(A)){A=0}F=Math.max(F,A);u=Math.min(u,A)}var t=F-u;var B=[];var s=z/(o-(o>1?1:0));var r=v/(o-(o>1?1:0));var p=1;if(this.zoomOption.orient=="horizontal"&&s<1){p=Math.floor(o*3/z)}else{if(this.zoomOption.orient=="vertical"&&r<1){p=Math.floor(o*3/v)}}for(var D=0,C=o;D<C;D+=p){A=this.getDataFromOption(G[D],0);if(this.option.series[E].type==i.CHART_TYPE_K){A=A[1]}if(isNaN(A)){A=0}if(this.zoomOption.orient=="horizontal"){B.push([this._location.x+s*D,this._location.y+v-1-Math.round((A-u)/t*(v-10))])}else{B.push([this._location.x+1+Math.round((A-u)/t*(z-10)),this._location.y+r*(C-D-1)])}}if(this.zoomOption.orient=="horizontal"){B.push([this._location.x+z,this._location.y+v]);B.push([this._location.x,this._location.y+v])}else{B.push([this._location.x,this._location.y]);B.push([this._location.x,this._location.y+v])}this.shapeList.push(new f({zlevel:this.getZlevelBase(),z:this.getZBase(),style:{pointList:B,color:this.zoomOption.dataBackgroundColor},hoverable:false}))},_buildFiller:function(){this._fillerShae={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:true,ondrift:this._ondrift,ondragend:this._ondragend,_type:"filler"};if(this.zoomOption.orient=="horizontal"){this._fillerShae.style={x:this._location.x+Math.round(this._zoom.start/100*this._location.width)+this._handleSize,y:this._location.y,width:this._zoom.size-this._handleSize*2,height:this._location.height,color:this.zoomOption.fillerColor,text:":::",textPosition:"inside"}}else{this._fillerShae.style={x:this._location.x,y:this._location.y+Math.round(this._zoom.start/100*this._location.height)+this._handleSize,width:this._location.width,height:this._zoom.size-this._handleSize*2,color:this.zoomOption.fillerColor,text:"::",textPosition:"inside"}}this._fillerShae.highlightStyle={brushType:"fill",color:"rgba(0,0,0,0)"};this._fillerShae=new j(this._fillerShae);this.shapeList.push(this._fillerShae)},_buildHandle:function(){var l=this.zoomOption.showDetail?this._getDetail():{start:"",end:""};this._startShape={zlevel:this.getZlevelBase(),z:this.getZBase(),draggable:true,style:{iconType:"rectangle",x:this._location.x,y:this._location.y,width:this._handleSize,height:this._handleSize,color:this.zoomOption.handleColor,text:"=",textPosition:"inside"},highlightStyle:{text:l.start,brushType:"fill",textPosition:"left"},ondrift:this._ondrift,ondragend:this._ondragend};if(this.zoomOption.orient=="horizontal"){this._startShape.style.height=this._location.height;this._endShape=d.clone(this._startShape);this._startShape.style.x=this._fillerShae.style.x-this._handleSize,this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endShape.highlightStyle.text=l.end;this._endShape.highlightStyle.textPosition="right"}else{this._startShape.style.width=this._location.width;this._endShape=d.clone(this._startShape);this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._startShape.highlightStyle.textPosition="bottom";this._endShape.style.y=this._fillerShae.style.y-this._handleSize;this._endShape.highlightStyle.text=l.end;this._endShape.highlightStyle.textPosition="top"}this._startShape=new b(this._startShape);this._endShape=new b(this._endShape);this.shapeList.push(this._startShape);this.shapeList.push(this._endShape)},_buildFrame:function(){var l=this.subPixelOptimize(this._location.x,1);var m=this.subPixelOptimize(this._location.y,1);this._startFrameShape={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:l,y:m,width:this._location.width-(l>this._location.x?1:0),height:this._location.height-(m>this._location.y?1:0),lineWidth:1,brushType:"stroke",strokeColor:this.zoomOption.handleColor}};this._endFrameShape=d.clone(this._startFrameShape);this._startFrameShape=new j(this._startFrameShape);this._endFrameShape=new j(this._endFrameShape);this.shapeList.push(this._startFrameShape);this.shapeList.push(this._endFrameShape);return},_syncHandleShape:function(){if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._fillerShae.style.x-this._handleSize;this._endShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._zoom.start=(this._startShape.style.x-this._location.x)/this._location.width*100;this._zoom.end=(this._endShape.style.x+this._handleSize-this._location.x)/this._location.width*100}else{this._startShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._endShape.style.y=this._fillerShae.style.y-this._handleSize;this._zoom.start=(this._location.y+this._location.height-this._startShape.style.y)/this._location.height*100;this._zoom.end=(this._location.y+this._location.height-this._endShape.style.y-this._handleSize)/this._location.height*100}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFillerShape:function(){var m;var l;if(this.zoomOption.orient=="horizontal"){m=this._startShape.style.x;l=this._endShape.style.x;this._fillerShae.style.x=Math.min(m,l)+this._handleSize;this._fillerShae.style.width=Math.abs(m-l)-this._handleSize;this._zoom.start=(Math.min(m,l)-this._location.x)/this._location.width*100;this._zoom.end=(Math.max(m,l)+this._handleSize-this._location.x)/this._location.width*100}else{m=this._startShape.style.y;l=this._endShape.style.y;this._fillerShae.style.y=Math.min(m,l)+this._handleSize;this._fillerShae.style.height=Math.abs(m-l)-this._handleSize;this._zoom.start=(this._location.y+this._location.height-Math.max(m,l))/this._location.height*100;this._zoom.end=(this._location.y+this._location.height-Math.min(m,l)-this._handleSize)/this._location.height*100}this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refreshNextFrame()},_syncFrameShape:function(){if(this.zoomOption.orient=="horizontal"){this._startFrameShape.style.width=this._fillerShae.style.x-this._location.x;this._endFrameShape.style.x=this._fillerShae.style.x+this._fillerShae.style.width;this._endFrameShape.style.width=this._location.x+this._location.width-this._endFrameShape.style.x}else{this._startFrameShape.style.y=this._fillerShae.style.y+this._fillerShae.style.height;this._startFrameShape.style.height=this._location.y+this._location.height-this._startFrameShape.style.y;this._endFrameShape.style.height=this._fillerShae.style.y-this._location.y}this.zr.modShape(this._startFrameShape.id);this.zr.modShape(this._endFrameShape.id)},_syncShape:function(){if(!this.zoomOption.show){return}if(this.zoomOption.orient=="horizontal"){this._startShape.style.x=this._location.x+this._zoom.start/100*this._location.width;this._endShape.style.x=this._location.x+this._zoom.end/100*this._location.width-this._handleSize;this._fillerShae.style.x=this._startShape.style.x+this._handleSize;this._fillerShae.style.width=this._endShape.style.x-this._startShape.style.x-this._handleSize}else{this._startShape.style.y=this._location.y+this._location.height-this._zoom.start/100*this._location.height;this._endShape.style.y=this._location.y+this._location.height-this._zoom.end/100*this._location.height-this._handleSize;this._fillerShae.style.y=this._endShape.style.y+this._handleSize;this._fillerShae.style.height=this._startShape.style.y-this._endShape.style.y-this._handleSize}this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.modShape(this._fillerShae.id);this._syncFrameShape();this.zr.refresh()},_syncData:function(n){var r;var s;var m;var p;var q;for(var o in this._originalData){r=this._originalData[o];for(var l in r){q=r[l];if(q==null){continue}p=q.length;s=Math.floor(this._zoom.start/100*p);m=Math.ceil(this._zoom.end/100*p);if(!(this.getDataFromOption(q[0]) instanceof Array)||this.option[o][l].type==i.CHART_TYPE_K){this.option[o][l].data=q.slice(s,m)}else{this._setScale();this.option[o][l].data=this._synScatterData(l,q)}}}if(!this._isSilence&&(this.zoomOption.realtime||n)){this.messageCenter.dispatch(i.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}},_synScatterData:function(p,r){if(this._zoom.start===0&&this._zoom.end==100&&this._zoom.start2===0&&this._zoom.end2==100){return r}var y=[];var o=this._zoom.scatterMap[p];var u;var t;var m;var x;var w;if(this.zoomOption.orient=="horizontal"){u=o.x.max-o.x.min;t=this._zoom.start/100*u+o.x.min;m=this._zoom.end/100*u+o.x.min;u=o.y.max-o.y.min;x=this._zoom.start2/100*u+o.y.min;w=this._zoom.end2/100*u+o.y.min}else{u=o.x.max-o.x.min;t=this._zoom.start2/100*u+o.x.min;m=this._zoom.end2/100*u+o.x.min;u=o.y.max-o.y.min;x=this._zoom.start/100*u+o.y.min;w=this._zoom.end/100*u+o.y.min}var s;if(s=o.x.dataMappingMethods){t=s.coord2Value(t);m=s.coord2Value(m)}if(s=o.y.dataMappingMethods){x=s.coord2Value(x);w=s.coord2Value(w)}var v;for(var q=0,n=r.length;q<n;q++){v=r[q].value||r[q];if(v[0]>=t&&v[0]<=m&&v[1]>=x&&v[1]<=w){y.push(r[q])}}return y},_setScale:function(){var n=this._zoom.start!==0||this._zoom.end!==100||this._zoom.start2!==0||this._zoom.end2!==100;var q={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var p in q){for(var o=0,m=q[p].length;o<m;o++){q[p][o].scale=n||q[p][o]._scale}}},_backupScale:function(){var p={xAxis:this.option.xAxis,yAxis:this.option.yAxis};for(var o in p){for(var n=0,m=p[o].length;n<m;n++){p[o][n]._scale=p[o][n].scale}}},_getDetail:function(){var A=["xAxis","yAxis"];for(var t=0,o=A.length;t<o;t++){var u=this._originalData[A[t]];for(var y in u){var s=u[y];if(s==null){continue}var n=s.length;var m=Math.floor(this._zoom.start/100*n);var p=Math.ceil(this._zoom.end/100*n);p-=p>0?1:0;return{start:this.getDataFromOption(s[m]),end:this.getDataFromOption(s[p])}}}A=this.zoomOption.orient=="horizontal"?"xAxis":"yAxis";var r=this._zoom.seriesIndex[0];var B=this.option.series[r][A+"Index"]||0;var z=this.option[A][B].type;var q=this._zoom.scatterMap[r][A.charAt(0)].min;var v=this._zoom.scatterMap[r][A.charAt(0)].max;var w=v-q;if(z=="value"){return{start:q+w*this._zoom.start/100,end:q+w*this._zoom.end/100}}else{if(z=="time"){v=q+w*this._zoom.end/100;q=q+w*this._zoom.start/100;var x=k.getAutoFormatter(q,v).formatter;return{start:k.format(x,q),end:k.format(x,v)}}}return{start:"",end:""}},__ondrift:function(n,m,l){if(this.zoomOption.zoomLock){n=this._fillerShae}var p=n._type=="filler"?this._handleSize:0;if(this.zoomOption.orient=="horizontal"){if(n.style.x+m-p<=this._location.x){n.style.x=this._location.x+p}else{if(n.style.x+m+n.style.width+p>=this._location.x+this._location.width){n.style.x=this._location.x+this._location.width-n.style.width-p}else{n.style.x+=m}}}else{if(n.style.y+l-p<=this._location.y){n.style.y=this._location.y+p}else{if(n.style.y+l+n.style.height+p>=this._location.y+this._location.height){n.style.y=this._location.y+this._location.height-n.style.height-p}else{n.style.y+=l}}}if(n._type=="filler"){this._syncHandleShape()}else{this._syncFillerShape()}if(this.zoomOption.realtime){this._syncData()}if(this.zoomOption.showDetail){var o=this._getDetail();this._startShape.style.text=this._startShape.highlightStyle.text=o.start;this._endShape.style.text=this._endShape.highlightStyle.text=o.end;this._startShape.style.textPosition=this._startShape.highlightStyle.textPosition;this._endShape.style.textPosition=this._endShape.highlightStyle.textPosition}return true},__ondragend:function(){if(this.zoomOption.showDetail){this._startShape.style.text=this._endShape.style.text="=";this._startShape.style.textPosition=this._endShape.style.textPosition="inside";this.zr.modShape(this._startShape.id);this.zr.modShape(this._endShape.id);this.zr.refreshNextFrame()}this.isDragend=true},ondragend:function(m,l){if(!this.isDragend||!m.target){return}!this.zoomOption.realtime&&this._syncData();l.dragOut=true;l.dragIn=true;if(!this._isSilence&&!this.zoomOption.realtime){this.messageCenter.dispatch(i.EVENT.DATA_ZOOM,null,{zoom:this._zoom},this.myChart)}l.needRefresh=false;this.isDragend=false;return},ondataZoom:function(m,l){l.needRefresh=true;return},absoluteZoom:function(l){this._zoom.start=l.start;this._zoom.end=l.end;this._zoom.start2=l.start2;this._zoom.end2=l.end2;this._syncShape();this._syncData(true);return},rectZoom:function(s){if(!s){this._zoom.start=this._zoom.start2=0;this._zoom.end=this._zoom.end2=100;this._syncShape();this._syncData(true);return this._zoom}var m=this.component.grid.getArea();var r={x:s.x,y:s.y,width:s.width,height:s.height};if(r.width<0){r.x+=r.width;r.width=-r.width}if(r.height<0){r.y+=r.height;r.height=-r.height}if(r.x>m.x+m.width||r.y>m.y+m.height){return false}if(r.x<m.x){r.x=m.x}if(r.x+r.width>m.x+m.width){r.width=m.x+m.width-r.x}if(r.y+r.height>m.y+m.height){r.height=m.y+m.height-r.y}var q;var o=(r.x-m.x)/m.width;var p=1-(r.x+r.width-m.x)/m.width;var l=1-(r.y+r.height-m.y)/m.height;var n=(r.y-m.y)/m.height;if(this.zoomOption.orient=="horizontal"){q=this._zoom.end-this._zoom.start;this._zoom.start+=q*o;this._zoom.end-=q*p;q=this._zoom.end2-this._zoom.start2;this._zoom.start2+=q*l;this._zoom.end2-=q*n}else{q=this._zoom.end-this._zoom.start;this._zoom.start+=q*l;this._zoom.end-=q*n;q=this._zoom.end2-this._zoom.start2;this._zoom.start2+=q*o;this._zoom.end2-=q*p}this._syncShape();this._syncData(true);return this._zoom},syncBackupData:function(o){var m;var u=this._originalData.series;var n=o.series;var t;for(var s=0,p=n.length;s<p;s++){t=n[s].data||n[s].eventList;if(u[s]){m=Math.floor(this._zoom.start/100*u[s].length)}else{m=0}for(var r=0,q=t.length;r<q;r++){if(u[s]){u[s][r+m]=t[r]}}}},syncOption:function(l){this.silence(true);this.option=l;this.option.dataZoom=this.reformOption(this.option.dataZoom);this.zoomOption=this.option.dataZoom;if(!this.myChart.canvasSupported){this.zoomOption.realtime=false}this.clear();this._location=this._getLocation();this._zoom=this._getZoom();this._backupData();if(this.option.dataZoom&&this.option.dataZoom.show){this._buildShape()}this._syncData();this.silence(false)},silence:function(l){this._isSilence=l},getRealDataIndex:function(m,n){if(!this._originalData||this._zoom.start===0&&this._zoom.end==100){return n}var l=this._originalData.series;if(l[m]){return Math.floor(this._zoom.start/100*l[m].length)+n}return -1},resize:function(){this.clear();this._location=this._getLocation();this._zoom=this._getZoom();if(this.option.dataZoom.show){this._buildShape()}}};d.inherits(h,g);c("../component").define("dataZoom",h);return h});define("echarts/component/categoryAxis",["./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","zrender/tool/util","zrender/tool/area","../component"],function(d,g,c){var h=d("./base");var f=d("zrender/shape/Text");var b=d("zrender/shape/Line");var j=d("zrender/shape/Rectangle");var i=d("../config");i.categoryAxis={zlevel:0,z:0,show:true,position:"bottom",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:true,axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:true,interval:"auto",inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,interval:"auto",rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var e=d("zrender/tool/util");var k=d("zrender/tool/area");function a(p,l,q,o,n,m){if(o.data.length<1){console.error("option.data.length < 1.");return}h.call(this,p,l,q,o,n);this.grid=this.component.grid;for(var r in m){this[r]=m[r]}this.refresh(o)}a.prototype={type:i.COMPONENT_TYPE_AXIS_CATEGORY,_getReformedLabel:function(l){var n=this.getDataFromOption(this.option.data[l]);var m=this.option.data[l].formatter||this.option.axisLabel.formatter;if(m){if(typeof m=="function"){n=m.call(this.myChart,n)}else{if(typeof m=="string"){n=m.replace("{value}",n)}}}return n},_getInterval:function(){var m=this.option.axisLabel.interval;if(m=="auto"){var x=this.option.axisLabel.textStyle.fontSize;var r=this.option.data;var l=this.option.data.length;if(this.isHorizontal()){if(l>3){var w=this.getGap();var n=false;var t;var p;var o=Math.floor(0.5/w);o=o<1?1:o;m=Math.floor(15/w);while(!n&&m<l){m+=o;n=true;t=Math.floor(w*m);for(var q=Math.floor((l-1)/m)*m;q>=0;q-=m){if(this.option.axisLabel.rotate!==0){p=x}else{if(r[q].textStyle){p=k.getTextWidth(this._getReformedLabel(q),this.getFont(e.merge(r[q].textStyle,this.option.axisLabel.textStyle)))}else{var v=this._getReformedLabel(q)+"";var s=(v.match(/\w/g)||"").length;var u=v.length-s;p=s*x*2/3+u*x}}if(t<p){n=false;break}}}}else{m=1}}else{if(l>3){var w=this.getGap();m=Math.floor(11/w);while(w*m-6<x&&m<l){m++}}else{m=1}}}else{m=typeof m=="function"?1:m-0+1}return m},_buildShape:function(){this._interval=this._getInterval();if(!this.option.show){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var n=0,m=this.shapeList.length;n<m;n++){this.zr.addShape(this.shapeList[n])}},_buildAxisTick:function(){var A;var r=this.option.data;var n=this.option.data.length;var D=this.option.axisTick;var o=D.length;var p=D.lineStyle.color;var u=D.lineStyle.width;var w=typeof D.interval=="function"?D.interval:D.interval=="auto"?typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:false:false;var m=w?1:D.interval=="auto"?this._interval:D.interval-0+1;var s=D.onGap;var C=s?this.getGap()/2:typeof s=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;var B=C>0?-m:0;if(this.isHorizontal()){var t=this.option.position=="bottom"?D.inside?this.grid.getYend()-o-1:this.grid.getYend()+1:D.inside?this.grid.getY()+1:this.grid.getY()-o-1;var z;for(var q=B;q<n;q+=m){if(w&&!w(q,r[q])){continue}z=this.subPixelOptimize(this.getCoordByIndex(q)+(q>=0?C:0),u);A={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:z,yStart:t,xEnd:z,yEnd:t+o,strokeColor:p,lineWidth:u}};this.shapeList.push(new b(A))}}else{var l=this.option.position=="left"?D.inside?this.grid.getX()+1:this.grid.getX()-o-1:D.inside?this.grid.getXend()-o-1:this.grid.getXend()+1;var v;for(var q=B;q<n;q+=m){if(w&&!w(q,r[q])){continue}v=this.subPixelOptimize(this.getCoordByIndex(q)-(q>=0?C:0),u);A={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:l,yStart:v,xEnd:l+o,yEnd:v,strokeColor:p,lineWidth:u}};this.shapeList.push(new b(A))}}},_buildAxisLabel:function(){var x;var r=this.option.data;var m=this.option.data.length;var z=this.option.axisLabel;var p=z.rotate;var o=z.margin;var v=z.clickable;var u=z.textStyle;var w=typeof z.interval=="function"?z.interval:false;var n;if(this.isHorizontal()){var s;var y;if(this.option.position=="bottom"){s=this.grid.getYend()+o;y="top"}else{s=this.grid.getY()-o;y="bottom"}for(var q=0;q<m;q+=this._interval){if(w&&!w(q,r[q])||this._getReformedLabel(q)===""){continue}n=e.merge(r[q].textStyle||{},u);x={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:this.getCoordByIndex(q),y:s,color:n.color,text:this._getReformedLabel(q),textFont:this.getFont(n),textAlign:n.align||"center",textBaseline:n.baseline||y}};if(p){x.style.textAlign=p>0?this.option.position=="bottom"?"right":"left":this.option.position=="bottom"?"left":"right";x.rotation=[p*Math.PI/180,x.style.x,x.style.y]}this.shapeList.push(new f(this._axisLabelClickable(v,x)))}}else{var l;var t;if(this.option.position=="left"){l=this.grid.getX()-o;t="right"}else{l=this.grid.getXend()+o;t="left"}for(var q=0;q<m;q+=this._interval){if(w&&!w(q,r[q])||this._getReformedLabel(q)===""){continue}n=e.merge(r[q].textStyle||{},u);x={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:l,y:this.getCoordByIndex(q),color:n.color,text:this._getReformedLabel(q),textFont:this.getFont(n),textAlign:n.align||t,textBaseline:n.baseline||q===0&&this.option.name!==""?"bottom":q==m-1&&this.option.name!==""?"top":"middle"}};if(p){x.rotation=[p*Math.PI/180,x.style.x,x.style.y]}this.shapeList.push(new f(this._axisLabelClickable(v,x)))}}},_buildSplitLine:function(){var A;var D=this.option.data;var n=this.option.data.length;var E=this.option.splitLine;var B=E.lineStyle.type;var l=E.lineStyle.width;var t=E.lineStyle.color;t=t instanceof Array?t:[t];var m=t.length;var s=typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:false;var v=E.onGap;var C=v?this.getGap()/2:typeof v=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;n-=v||typeof v=="undefined"&&this.option.boundaryGap?1:0;if(this.isHorizontal()){var q=this.grid.getY();var w=this.grid.getYend();var p;for(var u=0;u<n;u+=this._interval){if(s&&!s(u,D[u])){continue}p=this.subPixelOptimize(this.getCoordByIndex(u)+C,l);A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:p,yStart:q,xEnd:p,yEnd:w,strokeColor:t[u/this._interval%m],lineType:B,lineWidth:l}};this.shapeList.push(new b(A))}}else{var r=this.grid.getX();var z=this.grid.getXend();var o;for(var u=0;u<n;u+=this._interval){if(s&&!s(u,D[u])){continue}o=this.subPixelOptimize(this.getCoordByIndex(u)-C,l);A={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:r,yStart:o,xEnd:z,yEnd:o,strokeColor:t[u/this._interval%m],lineType:B,lineWidth:l}};this.shapeList.push(new b(A))}}},_buildSplitArea:function(){var C;var E=this.option.data;var l=this.option.splitArea;var w=l.areaStyle.color;if(!(w instanceof Array)){C={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:w}};this.shapeList.push(new j(C))}else{var m=w.length;var o=this.option.data.length;var v=typeof this.option.axisLabel.interval=="function"?this.option.axisLabel.interval:false;var A=l.onGap;var D=A?this.getGap()/2:typeof A=="undefined"?this.option.boundaryGap?this.getGap()/2:0:0;if(this.isHorizontal()){var r=this.grid.getY();var t=this.grid.getHeight();var n=this.grid.getX();var q;for(var z=0;z<=o;z+=this._interval){if(v&&!v(z,E[z])&&z<o){continue}q=z<o?this.getCoordByIndex(z)+D:this.grid.getXend();C={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:n,y:r,width:q-n,height:t,color:w[z/this._interval%m]}};this.shapeList.push(new j(C));n=q}}else{var s=this.grid.getX();var u=this.grid.getWidth();var B=this.grid.getYend();var p;for(var z=0;z<=o;z+=this._interval){if(v&&!v(z,E[z])&&z<o){continue}p=z<o?this.getCoordByIndex(z)-D:this.grid.getY();C={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:s,y:p,width:u,height:B-p,color:w[z/this._interval%m]}};this.shapeList.push(new j(C));B=p}}}},refresh:function(l){if(l){this.option=this.reformOption(l);this.option.axisLabel.textStyle=this.getTextStyle(this.option.axisLabel.textStyle)}this.clear();this._buildShape()},getGap:function(){var m=this.option.data.length;var l=this.isHorizontal()?this.grid.getWidth():this.grid.getHeight();if(this.option.boundaryGap){return l/m}else{return l/(m>1?m-1:1)}},getCoord:function(o){var n=this.option.data;var p=n.length;var q=this.getGap();var l=this.option.boundaryGap?q/2:0;for(var m=0;m<p;m++){if(this.getDataFromOption(n[m])==o){if(this.isHorizontal()){l=this.grid.getX()+l}else{l=this.grid.getYend()-l}return l}l+=q}},getCoordByIndex:function(m){if(m<0){if(this.isHorizontal()){return this.grid.getX()}else{return this.grid.getYend()}}else{if(m>this.option.data.length-1){if(this.isHorizontal()){return this.grid.getXend()}else{return this.grid.getY()}}else{var n=this.getGap();var l=this.option.boundaryGap?n/2:0;l+=m*n;if(this.isHorizontal()){l=this.grid.getX()+l}else{l=this.grid.getYend()-l}return l}}},getNameByIndex:function(l){return this.getDataFromOption(this.option.data[l])},getIndexByName:function(l){var n=this.option.data;var o=n.length;for(var m=0;m<o;m++){if(this.getDataFromOption(n[m])==l){return m}}return -1},getValueFromCoord:function(){return""},isMainAxis:function(l){return l%this._interval===0}};e.inherits(a,h);d("../component").define("categoryAxis",a);return a});define("echarts/component/valueAxis",["./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Rectangle","../config","../util/date","zrender/tool/util","../util/smartSteps","../util/accMath","../util/smartLogSteps","../component"],function(d,g,c){var h=d("./base");var f=d("zrender/shape/Text");var b=d("zrender/shape/Line");var j=d("zrender/shape/Rectangle");var i=d("../config");i.valueAxis={zlevel:0,z:0,show:true,position:"left",name:"",nameLocation:"end",nameTextStyle:{},boundaryGap:[0,0],axisLine:{show:true,onZero:true,lineStyle:{color:"#48b",width:2,type:"solid"}},axisTick:{show:false,inside:false,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:true,rotate:0,margin:8,textStyle:{color:"#333"}},splitLine:{show:true,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:false,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var k=d("../util/date");var e=d("zrender/tool/util");function a(q,l,r,p,n,m,o){if(!o||o.length===0){console.err("option.series.length == 0.");return}h.call(this,q,l,r,p,n);this.series=o;this.grid=this.component.grid;for(var s in m){this[s]=m[s]}this.refresh(p,o)}a.prototype={type:i.COMPONENT_TYPE_AXIS_VALUE,_buildShape:function(){this._hasData=false;this._calculateValue();if(!this._hasData||!this.option.show){return}this.option.splitArea.show&&this._buildSplitArea();this.option.splitLine.show&&this._buildSplitLine();this.option.axisLine.show&&this._buildAxisLine();this.option.axisTick.show&&this._buildAxisTick();this.option.axisLabel.show&&this._buildAxisLabel();for(var n=0,m=this.shapeList.length;n<m;n++){this.zr.addShape(this.shapeList[n])}},_buildAxisTick:function(){var v;var q=this._valueList;var m=this._valueList.length;var w=this.option.axisTick;var n=w.length;var o=w.lineStyle.color;var s=w.lineStyle.width;if(this.isHorizontal()){var r=this.option.position==="bottom"?w.inside?this.grid.getYend()-n-1:this.grid.getYend()+1:w.inside?this.grid.getY()+1:this.grid.getY()-n-1;var u;for(var p=0;p<m;p++){u=this.subPixelOptimize(this.getCoord(q[p]),s);v={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:u,yStart:r,xEnd:u,yEnd:r+n,strokeColor:o,lineWidth:s}};this.shapeList.push(new b(v))}}else{var l=this.option.position==="left"?w.inside?this.grid.getX()+1:this.grid.getX()-n-1:w.inside?this.grid.getXend()-n-1:this.grid.getXend()+1;var t;for(var p=0;p<m;p++){t=this.subPixelOptimize(this.getCoord(q[p]),s);v={_axisShape:"axisTick",zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:l,yStart:t,xEnd:l+n,yEnd:t,strokeColor:o,lineWidth:s}};this.shapeList.push(new b(v))}}},_buildAxisLabel:function(){var v;var q=this._valueList;var m=this._valueList.length;var o=this.option.axisLabel.rotate;var n=this.option.axisLabel.margin;var u=this.option.axisLabel.clickable;var t=this.option.axisLabel.textStyle;if(this.isHorizontal()){var r;var w;if(this.option.position==="bottom"){r=this.grid.getYend()+n;w="top"}else{r=this.grid.getY()-n;w="bottom"}for(var p=0;p<m;p++){v={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:this.getCoord(q[p]),y:r,color:typeof t.color==="function"?t.color(q[p]):t.color,text:this._valueLabel[p],textFont:this.getFont(t),textAlign:t.align||"center",textBaseline:t.baseline||w}};if(o){v.style.textAlign=o>0?this.option.position==="bottom"?"right":"left":this.option.position==="bottom"?"left":"right";v.rotation=[o*Math.PI/180,v.style.x,v.style.y]}this.shapeList.push(new f(this._axisLabelClickable(u,v)))}}else{var l;var s;if(this.option.position==="left"){l=this.grid.getX()-n;s="right"}else{l=this.grid.getXend()+n;s="left"}for(var p=0;p<m;p++){v={zlevel:this.getZlevelBase(),z:this.getZBase()+3,hoverable:false,style:{x:l,y:this.getCoord(q[p]),color:typeof t.color==="function"?t.color(q[p]):t.color,text:this._valueLabel[p],textFont:this.getFont(t),textAlign:t.align||s,textBaseline:t.baseline||(p===0&&this.option.name!==""?"bottom":p===m-1&&this.option.name!==""?"top":"middle")}};if(o){v.rotation=[o*Math.PI/180,v.style.x,v.style.y]}this.shapeList.push(new f(this._axisLabelClickable(u,v)))}}},_buildSplitLine:function(){var B;var p=this._valueList;var l=this._valueList.length;var m=this.option.splitLine;var r=m.lineStyle.type;var q=m.lineStyle.width;var n=m.lineStyle.color;n=n instanceof Array?n:[n];var u=n.length;if(this.isHorizontal()){var w=this.grid.getY();var s=this.grid.getYend();var A;for(var o=0;o<l;o++){A=this.subPixelOptimize(this.getCoord(p[o]),q);B={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:A,yStart:w,xEnd:A,yEnd:s,strokeColor:n[o%u],lineType:r,lineWidth:q}};this.shapeList.push(new b(B))}}else{var z=this.grid.getX();var t=this.grid.getXend();var v;for(var o=0;o<l;o++){v=this.subPixelOptimize(this.getCoord(p[o]),q);B={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{xStart:z,yStart:v,xEnd:t,yEnd:v,strokeColor:n[o%u],lineType:r,lineWidth:q}};this.shapeList.push(new b(B))}}},_buildSplitArea:function(){var z;var q=this.option.splitArea.areaStyle.color;if(!(q instanceof Array)){z={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:this.grid.getX(),y:this.grid.getY(),width:this.grid.getWidth(),height:this.grid.getHeight(),color:q}};this.shapeList.push(new j(z))}else{var u=q.length;var s=this._valueList;var p=this._valueList.length;if(this.isHorizontal()){var v=this.grid.getY();var A=this.grid.getHeight();var o=this.grid.getX();var n;for(var r=0;r<=p;r++){n=r<p?this.getCoord(s[r]):this.grid.getXend();z={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:o,y:v,width:n-o,height:A,color:q[r%u]}};this.shapeList.push(new j(z));o=n}}else{var w=this.grid.getX();var m=this.grid.getWidth();var t=this.grid.getYend();var l;for(var r=0;r<=p;r++){l=r<p?this.getCoord(s[r]):this.grid.getY();z={zlevel:this.getZlevelBase(),z:this.getZBase(),hoverable:false,style:{x:w,y:l,width:m,height:t-l,color:q[r%u]}};this.shapeList.push(new j(z));t=l}}}},_calculateValue:function(){if(isNaN(this.option.min-0)||isNaN(this.option.max-0)){var r={};var t;var n;var v=this.component.legend;for(var s=0,o=this.series.length;s<o;s++){if(this.series[s].type!=i.CHART_TYPE_LINE&&this.series[s].type!=i.CHART_TYPE_BAR&&this.series[s].type!=i.CHART_TYPE_SCATTER&&this.series[s].type!=i.CHART_TYPE_K&&this.series[s].type!=i.CHART_TYPE_EVENTRIVER){continue}if(v&&!v.isSelected(this.series[s].name)){continue}t=this.series[s].xAxisIndex||0;n=this.series[s].yAxisIndex||0;if(this.option.xAxisIndex!=t&&this.option.yAxisIndex!=n){continue}this._calculSum(r,s)}var w;for(var s in r){w=r[s];for(var q=0,p=w.length;q<p;q++){if(!isNaN(w[q])){this._hasData=true;this._min=w[q];this._max=w[q];break}}if(this._hasData){break}}for(var s in r){w=r[s];for(var q=0,p=w.length;q<p;q++){if(!isNaN(w[q])){this._min=Math.min(this._min,w[q]);this._max=Math.max(this._max,w[q])}}}var m=this.option.type!=="log"?this.option.boundaryGap:[0,0];var u=Math.abs(this._max-this._min);this._min=isNaN(this.option.min-0)?this._min-Math.abs(u*m[0]):this.option.min-0;this._max=isNaN(this.option.max-0)?this._max+Math.abs(u*m[1]):this.option.max-0;if(this._min===this._max){if(this._max===0){this._max=1}else{if(this._max>0){this._min=this._max/this.option.splitNumber!=null?this.option.splitNumber:5}else{this._max=this._max/this.option.splitNumber!=null?this.option.splitNumber:5}}}if(this.option.type==="time"){this._reformTimeValue()}else{if(this.option.type==="log"){this._reformLogValue()}else{this._reformValue(this.option.scale)}}}else{this._hasData=true;this._min=this.option.min-0;this._max=this.option.max-0;if(this.option.type==="time"){this._reformTimeValue()}else{if(this.option.type==="log"){this._reformLogValue()}else{this._customerValue()}}}},_calculSum:function(r,s){var w=this.series[s].name||"kener";var v;var x;if(!this.series[s].stack){r[w]=r[w]||[];if(this.series[s].type!=i.CHART_TYPE_EVENTRIVER){x=this.series[s].data;for(var q=0,p=x.length;q<p;q++){v=this.getDataFromOption(x[q]);if(this.series[s].type===i.CHART_TYPE_K){r[w].push(v[0]);r[w].push(v[1]);r[w].push(v[2]);r[w].push(v[3])}else{if(v instanceof Array){if(this.option.xAxisIndex!=-1){r[w].push(this.option.type!="time"?v[0]:k.getNewDate(v[0]))}if(this.option.yAxisIndex!=-1){r[w].push(this.option.type!="time"?v[1]:k.getNewDate(v[1]))}}else{r[w].push(v)}}}}else{x=this.series[s].data;for(var q=0,p=x.length;q<p;q++){var y=x[q].evolution;for(var o=0,l=y.length;o<l;o++){r[w].push(k.getNewDate(y[o].time))}}}}else{var t="__Magic_Key_Positive__"+this.series[s].stack;var u="__Magic_Key_Negative__"+this.series[s].stack;r[t]=r[t]||[];r[u]=r[u]||[];r[w]=r[w]||[];x=this.series[s].data;for(var q=0,p=x.length;q<p;q++){v=this.getDataFromOption(x[q]);if(v==="-"){continue}v=v-0;if(v>=0){if(r[t][q]!=null){r[t][q]+=v}else{r[t][q]=v}}else{if(r[u][q]!=null){r[u][q]+=v}else{r[u][q]=v}}if(this.option.scale){r[w].push(v)}}}},_reformValue:function(n){var l=d("../util/smartSteps");var o=this.option.splitNumber;if(!n&&this._min>=0&&this._max>=0){this._min=0}if(!n&&this._min<=0&&this._max<=0){this._max=0}var m=l(this._min,this._max,o);o=o!=null?o:m.secs;this._min=m.min;this._max=m.max;this._valueList=m.pnts;this._reformLabelData()},_reformTimeValue:function(){var p=this.option.splitNumber!=null?this.option.splitNumber:5;var o=k.getAutoFormatter(this._min,this._max,p);var m=o.formatter;var n=o.gapValue;this._valueList=[k.getNewDate(this._min)];var l;switch(m){case"week":l=k.nextMonday(this._min);break;case"month":l=k.nextNthOnMonth(this._min,1);break;case"quarter":l=k.nextNthOnQuarterYear(this._min,1);break;case"half-year":l=k.nextNthOnHalfYear(this._min,1);break;case"year":l=k.nextNthOnYear(this._min,1);break;default:if(n<=3600000*2){l=(Math.floor(this._min/n)+1)*n}else{l=k.getNewDate(this._min- -n);l.setHours(Math.round(l.getHours()/6)*6);l.setMinutes(0);l.setSeconds(0)}break}if(l-this._min<n/2){l-=-n}o=k.getNewDate(l);p*=1.5;while(p-->=0){if(m=="month"||m=="quarter"||m=="half-year"||m=="year"){o.setDate(1)}if(this._max-o<n/2){break}this._valueList.push(o);o=k.getNewDate(o- -n)}this._valueList.push(k.getNewDate(this._max));this._reformLabelData(function(q){return function(r){return k.format(q,r)}}(m))},_customerValue:function(){var m=d("../util/accMath");var o=this.option.splitNumber!=null?this.option.splitNumber:5;var n=(this._max-this._min)/o;this._valueList=[];for(var l=0;l<=o;l++){this._valueList.push(m.accAdd(this._min,m.accMul(n,l)))}this._reformLabelData()},_reformLogValue:function(){var m=this.option;var l=d("../util/smartLogSteps")({dataMin:this._min,dataMax:this._max,logPositive:m.logPositive,logLabelBase:m.logLabelBase,splitNumber:m.splitNumber});this._min=l.dataMin;this._max=l.dataMax;this._valueList=l.tickList;this._dataMappingMethods=l.dataMappingMethods;this._reformLabelData(l.labelFormatter)},_reformLabelData:function(p){this._valueLabel=[];var o=this.option.axisLabel.formatter;if(o){for(var n=0,m=this._valueList.length;n<m;n++){if(typeof o==="function"){this._valueLabel.push(p?o.call(this.myChart,this._valueList[n],p):o.call(this.myChart,this._valueList[n]))}else{if(typeof o==="string"){this._valueLabel.push(p?k.format(o,this._valueList[n]):o.replace("{value}",this._valueList[n]))}}}}else{for(var n=0,m=this._valueList.length;n<m;n++){this._valueLabel.push(p?p(this._valueList[n]):this.numAddCommas(this._valueList[n]))}}},getExtremum:function(){this._calculateValue();var l=this._dataMappingMethods;return{min:this._min,max:this._max,dataMappingMethods:l?e.merge({},l):null}},refresh:function(m,l){if(m){this.option=this.reformOption(m);this.option.axisLabel.textStyle=e.merge(this.option.axisLabel.textStyle||{},this.ecTheme.textStyle);this.series=l}if(this.zr){this.clear();this._buildShape()}},getCoord:function(m){if(this._dataMappingMethods){m=this._dataMappingMethods.value2Coord(m)}m=m<this._min?this._min:m;m=m>this._max?this._max:m;var l;if(!this.isHorizontal()){l=this.grid.getYend()-(m-this._min)/(this._max-this._min)*this.grid.getHeight()}else{l=this.grid.getX()+(m-this._min)/(this._max-this._min)*this.grid.getWidth()}return l},getCoordSize:function(l){if(!this.isHorizontal()){return Math.abs(l/(this._max-this._min)*this.grid.getHeight())}else{return Math.abs(l/(this._max-this._min)*this.grid.getWidth())}},getValueFromCoord:function(m){var l;if(!this.isHorizontal()){m=m<this.grid.getY()?this.grid.getY():m;m=m>this.grid.getYend()?this.grid.getYend():m;l=this._max-(m-this.grid.getY())/this.grid.getHeight()*(this._max-this._min)}else{m=m<this.grid.getX()?this.grid.getX():m;m=m>this.grid.getXend()?this.grid.getXend():m;l=this._min+(m-this.grid.getX())/this.grid.getWidth()*(this._max-this._min)}if(this._dataMappingMethods){l=this._dataMappingMethods.coord2Value(l)}return l.toFixed(2)-0},isMaindAxis:function(o){for(var n=0,m=this._valueList.length;n<m;n++){if(this._valueList[n]===o){return true}}return false}};e.inherits(a,h);d("../component").define("valueAxis",a);return a});define("echarts/util/date",[],function(){var a=[{formatter:"hh : mm : ss",value:1000},{formatter:"hh : mm : ss",value:1000*5},{formatter:"hh : mm : ss",value:1000*10},{formatter:"hh : mm : ss",value:1000*15},{formatter:"hh : mm : ss",value:1000*30},{formatter:"hh : mm\nMM - dd",value:60000},{formatter:"hh : mm\nMM - dd",value:60000*5},{formatter:"hh : mm\nMM - dd",value:60000*10},{formatter:"hh : mm\nMM - dd",value:60000*15},{formatter:"hh : mm\nMM - dd",value:60000*30},{formatter:"hh : mm\nMM - dd",value:3600000},{formatter:"hh : mm\nMM - dd",value:3600000*2},{formatter:"hh : mm\nMM - dd",value:3600000*6},{formatter:"hh : mm\nMM - dd",value:3600000*12},{formatter:"MM - dd\nyyyy",value:3600000*24},{formatter:"week",value:3600000*24*7},{formatter:"month",value:3600000*24*31},{formatter:"quarter",value:3600000*24*380/4},{formatter:"half-year",value:3600000*24*380/2},{formatter:"year",value:3600000*24*380}];function e(r,t,m){m=m>1?m:2;var q;var o;var u;var n;for(var s=0,p=a.length;s<p;s++){q=a[s].value;o=Math.ceil(t/q)*q-Math.floor(r/q)*q;if(Math.round(o/q)<=m*1.2){u=a[s].formatter;n=a[s].value;break}}if(u==null){u="year";q=3600000*24*367;o=Math.ceil(t/q)*q-Math.floor(r/q)*q;n=Math.round(o/(m-1)/q)*q}return{formatter:u,gapValue:n}}function b(l){return l<10?"0"+l:l}function k(u,t){if(u=="week"||u=="month"||u=="quarter"||u=="half-year"||u=="year"){u="MM - dd\nyyyy"}var l=j(t);var r=l.getFullYear();var p=l.getMonth()+1;var q=l.getDate();var o=l.getHours();var n=l.getMinutes();var v=l.getSeconds();u=u.replace("MM",b(p));u=u.toLowerCase();u=u.replace("yyyy",r);u=u.replace("yy",r%100);u=u.replace("dd",b(q));u=u.replace("d",q);u=u.replace("hh",b(o));u=u.replace("h",o);u=u.replace("mm",b(n));u=u.replace("m",n);u=u.replace("ss",b(v));u=u.replace("s",v);return u}function c(l){l=j(l);l.setDate(l.getDate()+8-l.getDay());return l}function h(n,m,l){n=j(n);n.setMonth(Math.ceil((n.getMonth()+1)/l)*l);n.setDate(m);return n}function f(m,l){return h(m,l,1)}function i(m,l){return h(m,l,3)}function g(m,l){return h(m,l,6)}function d(m,l){return h(m,l,12)}function j(l){return l instanceof Date?l:new Date(typeof l=="string"?l.replace(/-/g,"/"):l)}return{getAutoFormatter:e,getNewDate:j,format:k,nextMonday:c,nextNthPerNmonth:h,nextNthOnMonth:f,nextNthOnQuarterYear:i,nextNthOnHalfYear:g,nextNthOnYear:d}});define("echarts/util/smartSteps",[],function(){var j=[10,20,25,50];var C=[4,5,6];var g;var m;var c;var r;var D;var l=Math;var q=l.round;var o=l.floor;var y=l.ceil;var s=l.abs;function n(F){return l.log(s(F))/l.LN10}function f(F){return l.pow(10,F)}function v(F){return F===o(F)}function z(G,F,J,I){g=I||{};m=g.steps||j;c=g.secs||C;J=q(+J||0)%99;G=+G||0;F=+F||0;r=D=0;if("min" in g){G=+g.min||0;r=1}if("max" in g){F=+g.max||0;D=1}if(G>F){F=[G,G=F][0]}var H=F-G;if(r&&D){return b(G,F,J)}if(H<(J||5)){if(v(G)&&v(F)){return B(G,F,J)}else{if(H===0){return e(G,F,J)}}}return i(G,F,J)}function a(H,K,N,P){P=P||0;var J=x((K-H)/N,-1);var M=x(H,-1,1);var F=x(K,-1);var R=l.min(J.e,M.e,F.e);if(M.c===0){R=l.min(J.e,F.e)}else{if(F.c===0){R=l.min(J.e,M.e)}}h(J,{c:0,e:R});h(M,J,1);h(F,J);P+=R;H=M.c;K=F.c;var G=(K-H)/N;var Q=f(P);var L=0;var O=[];for(var I=N+1;I--;){O[I]=(H+G*I)*Q}if(P<0){L=E(Q);G=+(G*Q).toFixed(L);H=+(H*Q).toFixed(L);K=+(K*Q).toFixed(L);for(var I=O.length;I--;){O[I]=O[I].toFixed(L);+O[I]===0&&(O[I]="0")}}else{H*=Q;K*=Q;G*=Q}c=0;m=0;g=0;return{min:H,max:K,secs:N,step:G,fix:L,exp:P,pnts:O}}function x(F,J,G){J=q(J%10)||2;if(J<0){if(v(F)){J=(""+s(F)).replace(/0+$/,"").length||1}else{F=F.toFixed(15).replace(/0+$/,"");J=F.replace(".","").replace(/^[-0]+/,"").length;F=+F}}var H=o(n(F))-J+1;var I=+(F*f(-H)).toFixed(15)||0;I=G?o(I):y(I);!I&&(H=0);if((""+s(I)).length>J){H+=1;I/=10}return{c:I,e:H}}function h(G,F,I){var H=F.e-G.e;if(H){G.e+=H;G.c*=f(-H);G.c=I?o(G.c):y(G.c)}}function A(G,F,H){if(G.e<F.e){h(F,G,H)}else{h(G,F,H)}}function p(G,F){F=F||j;G=x(G);var I=G.c;var H=0;while(I>F[H]){H++}if(!F[H]){I/=10;G.e+=1;H=0;while(I>F[H]){H++}}G.c=F[H];return G}function i(I,M,O){var H;var L=O||+c.slice(-1);var K=p((M-I)/L,m);var F=x(M-I);var N=x(I,-1,1);var G=x(M,-1);h(F,K);h(N,K,1);h(G,K);if(!O){L=k(N,G)}else{H=u(N,G,L)}if(v(I)&&v(M)&&I*M>=0){if(M-I<L){return B(I,M,L)}L=d(I,M,O,N,G,L)}var J=t(I,M,N.c,G.c);N.c=J[0];G.c=J[1];if(r||D){w(I,M,N,G)}return a(N.c,G.c,L,G.e)}function k(M,K){var L;var I,J,G;var F=[];for(var H=c.length;H--;){L=c[H];I=p((K.c-M.c)/L,m);I=I.c*f(I.e);J=o(M.c/I)*I;G=y(K.c/I)*I;F[H]={min:J,max:G,step:I,span:G-J}}F.sort(function(O,N){var P=O.span-N.span;if(P===0){P=O.step-N.step}return P});F=F[0];L=F.span/F.step;M.c=F.min;K.c=F.max;return L<3?L*2:L}function u(N,G,K){var O;var M;var I=G.c;var H=(G.c-N.c)/K-1;while(I>N.c){H=p(H+1,m);H=H.c*f(H.e);O=H*K;M=y(G.c/H)*H;I=M-O}var F=N.c-I;var J=M-G.c;var L=F-J;if(L>H*1.1){L=q(L/H/2)*H;I+=L;M+=L}N.c=I;G.c=M;return H}function d(H,J,L,K,F,I){var M=F.c-K.c;var G=M/I*f(F.e);if(!v(G)){G=o(G);M=G*I;if(M<J-H){G+=1;M=G*I;if(!L&&G*(I-1)>=J-H){I-=1;M=G*I}}if(M>=J-H){var N=M-(J-H);K.c=q(H-N/2);F.c=q(J+N/2);K.e=0;F.e=0}}return I}function B(H,F,J){J=J||5;if(r){F=H+J}else{if(D){H=F-J}else{var L=J-(F-H);var K=q(H-L/2);var I=q(F+L/2);var G=t(H,F,K,I);H=G[0];F=G[1]}}return a(H,F,J)}function e(G,F,H){H=H||5;var I=l.min(s(F/H),H)/2.1;if(r){F=G+I}else{if(D){G=F-I}else{G=G-I;F=F+I}}return i(G,F,H)}function t(G,F,I,H){if(G>=0&&I<0){H-=I;I=0}else{if(F<=0&&H>0){I-=H;H=0}}return[I,H]}function E(F){F=(+F).toFixed(15).split(".");return F.pop().replace(/0+$/,"").length}function w(G,F,J,H){if(r){var K=x(G,4,1);if(J.e-K.e>6){K={c:0,e:J.e}}A(J,K);A(H,K);H.c+=K.c-J.c;J.c=K.c}else{if(D){var I=x(F,4);if(H.e-I.e>6){I={c:0,e:H.e}}A(J,I);A(H,I);J.c+=I.c-H.c;H.c=I.c}}}function b(O,R,T){var K=T?[T]:c;var U=R-O;if(U===0){R=x(R,3);T=K[0];R.c=q(R.c+T/2);return a(R.c-T,R.c,T,R.e)}if(s(R/U)<0.000001){R=0}if(s(O/U)<0.000001){O=0}var I,H,J;var Q=[[5,10],[10,2],[50,10],[100,2]];var L=[];var M=[];var F=x(R-O,3);var S=x(O,-1,1);var G=x(R,-1);h(S,F,1);h(G,F);U=G.c-S.c;F.c=U;for(var P=K.length;P--;){T=K[P];I=y(U/T);H=I*T-U;J=(H+3)*3;J+=(T-K[0]+2)*2;if(T%5===0){J-=10}for(var N=Q.length;N--;){if(I%Q[N][0]===0){J/=Q[N][1]}}M[P]=[T,I,H,J].join();L[P]={secs:T,step:I,delta:H,score:J}}L.sort(function(W,V){return W.score-V.score});L=L[0];S.c=q(S.c-L.delta/2);G.c=q(G.c+L.delta/2);return a(S.c,G.c,L.secs,F.e)}return z});define("echarts/util/smartLogSteps",["./number"],function(g,G,e){var M=g("./number");var C=Math;var n=C.log;var u=C.pow;var x=C.abs;var z=C.ceil;var J=C.floor;var w=C.E;var E=C.LN10;var o=C.LN2;var c=o/E;var p=1e-9;var f=5;var m=2;var b={"0":"⁰","1":"¹","2":"²","3":"³","4":"⁴","5":"⁵","6":"⁶","7":"⁷","8":"⁸","9":"⁹","-":"⁻"};var l;var h;var I;var K;var d;var r;var a;var k;var A;var q;function B(N){v();d=N||{};i();D();return[s(),v()][0]}function v(){l=d=a=K=k=A=r=q=h=I=null}function i(){h=d.logLabelBase;if(h==null){I="plain";h=10;K=E}else{h=+h;if(h<1){h=10}I="exponent";K=n(h)}r=d.splitNumber;r==null&&(r=f);var O=parseFloat(d.dataMin);var N=parseFloat(d.dataMax);if(!isFinite(O)&&!isFinite(N)){O=N=1}else{if(!isFinite(O)){O=N}else{if(!isFinite(N)){N=O}else{if(O>N){N=[O,O=N][0]}}}}l=d.logPositive;if(l==null){l=N>0||O===0}k=l?O:-N;A=l?N:-O;k<p&&(k=p);A<p&&(A=p)}function D(){q=[];var X=t(n(A)/K);var O=t(n(k)/K);var T=z(X);var W=J(O);var U=T-W;var V=X-O;if(I==="exponent"){S()}else{!(U<=m&&r>m)?S():P()}function S(){if(U<r){r=U}var Z=J(t(U/r));var ad=z(t(U/Z));var Y=Z*ad;var ab=(Y-V)/2;var aa=J(t(O-ab));if(L(aa-O)){aa-=1}a=-aa*K;for(var ac=aa;ac-Z<=X;ac+=Z){q.push(u(h,ac))}}function P(){var ac=N(W,0);var Y=ac+2;while(ac<Y&&R(ac+1)+Q(ac+1)*c<O){ac++}var ad=N(T,0);var Y=ad-2;while(ad>Y&&R(ad-1)+Q(ad-1)*c>X){ad--}a=-(R(ac)*E+Q(ac)*o);for(var aa=ac;aa<=ad;aa++){var ab=R(aa);var Z=Q(aa);q.push(u(10,ab)*u(2,Z))}}function N(Z,Y){return Z*3+Y}function Q(Y){return Y-R(Y)*3}function R(Y){return J(t(Y/3))}}function s(){var Q=[];for(var T=0,P=q.length;T<P;T++){Q[T]=(l?1:-1)*q[T]}!l&&Q.reverse();var S=y();var O=S.value2Coord;var R=O(Q[0]);var N=O(Q[Q.length-1]);if(R===N){R-=1;N+=1}return{dataMin:R,dataMax:N,tickList:Q,logPositive:l,labelFormatter:j(),dataMappingMethods:S}}function j(){if(I==="exponent"){var N=h;var O=K;return function(Q){if(!isFinite(parseFloat(Q))){return""}var P="";if(Q<0){Q=-Q;P="-"}return P+N+F(n(Q)/O)}}else{return function(P){if(!isFinite(parseFloat(P))){return""}return M.addCommas(H(P))}}}function y(){var N=l;var O=a;return{value2Coord:function(P){if(P==null||isNaN(P)||!isFinite(P)){return P}P=parseFloat(P);if(!isFinite(P)){P=p}else{if(N&&P<p){P=p}else{if(!N&&P>-p){P=-p}}}P=x(P);return(N?1:-1)*(n(P)+O)},coord2Value:function(P){if(P==null||isNaN(P)||!isFinite(P)){return P}P=parseFloat(P);if(!isFinite(P)){P=p}return N?u(w,P-O):-u(w,-P+O)}}}function t(N){return +Number(+N).toFixed(14)}function H(N){return Number(N).toFixed(15).replace(/\.?0*$/,"")}function F(R){R=H(Math.round(R));var P=[];for(var Q=0,O=R.length;Q<O;Q++){var N=R.charAt(Q);P.push(b[N]||"")}return P.join("")}function L(N){return N>-p&&N<p}return B});define("echarts/chart/bar",["./base","zrender/shape/Rectangle","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(e,g,b){var d=e("./base");var j=e("zrender/shape/Rectangle");e("../component/axis");e("../component/grid");e("../component/dataZoom");var i=e("../config");i.bar={zlevel:0,z:2,clickable:true,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,barGap:"30%",barCategoryGap:"20%",itemStyle:{normal:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:false}},emphasis:{barBorderColor:"#fff",barBorderRadius:0,barBorderWidth:0,label:{show:false}}}};var c=e("../util/ecData");var f=e("zrender/tool/util");var a=e("zrender/tool/color");function h(n,k,o,m,l){d.call(this,n,k,o,m,l);this.refresh(m)}h.prototype={type:i.CHART_TYPE_BAR,_buildShape:function(){this._buildPosition()},_buildNormal:function(H,N,I,K,D){var s=this.series;var ad=I[0][0];var F=s[ad];var Q=D=="horizontal";var G=this.component.xAxis;var z=this.component.yAxis;var v=Q?G.getAxis(F.xAxisIndex):z.getAxis(F.yAxisIndex);var t;var r=this._mapSize(v,I);var A=r.gap;var R=r.barGap;var E=r.barWidthMap;var M=r.barMaxWidthMap;var J=r.barWidth;var w=r.barMinHeightMap;var q;var p;var o=r.interval;var P;var O;var B;var Y;var C;var ab;var Z;var ac;var S;var L=this.deepQuery([this.ecTheme,i],"island.r");for(var aa=0,V=N;aa<V;aa++){if(v.getNameByIndex(aa)==null){break}Q?P=v.getCoordByIndex(aa)-A/2:O=v.getCoordByIndex(aa)+A/2;for(var X=0,W=I.length;X<W;X++){var u=s[I[X][0]].yAxisIndex||0;var ae=s[I[X][0]].xAxisIndex||0;t=Q?z.getAxis(u):G.getAxis(ae);Y=B=ab=C=t.getCoord(0);for(var U=0,T=I[X].length;U<T;U++){ad=I[X][U];F=s[ad];ac=F.data[aa];S=this.getDataFromOption(ac,"-");K[ad]=K[ad]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};p=Math.min(M[ad]||Number.MAX_VALUE,E[ad]||J);if(S==="-"){continue}if(S>0){q=U>0?t.getCoordSize(S):Q?Y-t.getCoord(S):t.getCoord(S)-Y;if(T===1&&w[ad]>q){q=w[ad]}if(Q){B-=q;O=B}else{P=B;B+=q}}else{if(S<0){q=U>0?t.getCoordSize(S):Q?t.getCoord(S)-ab:ab-t.getCoord(S);if(T===1&&w[ad]>q){q=w[ad]}if(Q){O=C;C+=q}else{C-=q;P=C}}else{q=0;if(Q){B-=q;O=B}else{P=B;B+=q}}}K[ad][aa]=Q?P+p/2:O-p/2;if(K[ad].min>S){K[ad].min=S;if(Q){K[ad].minY=O;K[ad].minX=K[ad][aa]}else{K[ad].minX=P+q;K[ad].minY=K[ad][aa]}}if(K[ad].max<S){K[ad].max=S;if(Q){K[ad].maxY=O;K[ad].maxX=K[ad][aa]}else{K[ad].maxX=P+q;K[ad].maxY=K[ad][aa]}}K[ad].sum+=S;K[ad].counter++;if(aa%o===0){Z=this._getBarItem(ad,aa,v.getNameByIndex(aa),P,O-(Q?0:p),Q?p:q,Q?q:p,Q?"vertical":"horizontal");this.shapeList.push(new j(Z))}}for(var U=0,T=I[X].length;U<T;U++){ad=I[X][U];F=s[ad];ac=F.data[aa];S=this.getDataFromOption(ac,"-");p=Math.min(M[ad]||Number.MAX_VALUE,E[ad]||J);if(S!="-"){continue}if(this.deepQuery([ac,F,this.option],"calculable")){if(Q){B-=L;O=B}else{P=B;B+=L}Z=this._getBarItem(ad,aa,v.getNameByIndex(aa),P,O-(Q?0:p),Q?p:L,Q?L:p,Q?"vertical":"horizontal");Z.hoverable=false;Z.draggable=false;Z.style.lineWidth=1;Z.style.brushType="stroke";Z.style.strokeColor=F.calculableHolderColor||this.ecTheme.calculableHolderColor||i.calculableHolderColor;this.shapeList.push(new j(Z))}}Q?P+=p+R:O-=p+R}}this._calculMarkMapXY(K,I,Q?"y":"x")},_buildHorizontal:function(n,l,m,k){return this._buildNormal(n,l,m,k,"horizontal")},_buildVertical:function(n,l,m,k){return this._buildNormal(n,l,m,k,"vertical")},_buildOther:function(O,u,s,P){var B=this.series;for(var L=0,J=s.length;L<J;L++){for(var H=0,F=s[L].length;H<F;H++){var N=s[L][H];var E=B[N];var t=E.xAxisIndex||0;var v=this.component.xAxis.getAxis(t);var q=v.getCoord(0);var D=E.yAxisIndex||0;var p=this.component.yAxis.getAxis(D);var o=p.getCoord(0);P[N]=P[N]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var M=0,I=E.data.length;M<I;M++){var Q=E.data[M];var G=this.getDataFromOption(Q,"-");if(!(G instanceof Array)){continue}var A=v.getCoord(G[0]);var w=p.getCoord(G[1]);var r=[Q,E];var C=this.deepQuery(r,"barWidth")||10;var K=this.deepQuery(r,"barHeight");var z;var R;if(K!=null){z="horizontal";if(G[0]>0){C=A-q;A-=C}else{if(G[0]<0){C=q-A}else{C=0}}R=this._getBarItem(N,M,G[0],A,w-K/2,C,K,z)}else{z="vertical";if(G[1]>0){K=o-w}else{if(G[1]<0){K=w-o;w-=K}else{K=0}}R=this._getBarItem(N,M,G[0],A-C/2,w,C,K,z)}this.shapeList.push(new j(R));A=v.getCoord(G[0]);w=p.getCoord(G[1]);if(P[N].min0>G[0]){P[N].min0=G[0];P[N].minY0=w;P[N].minX0=A}if(P[N].max0<G[0]){P[N].max0=G[0];P[N].maxY0=w;P[N].maxX0=A}P[N].sum0+=G[0];P[N].counter0++;if(P[N].min1>G[1]){P[N].min1=G[1];P[N].minY1=w;P[N].minX1=A}if(P[N].max1<G[1]){P[N].max1=G[1];P[N].maxY1=w;P[N].maxX1=A}P[N].sum1+=G[1];P[N].counter1++}}}this._calculMarkMapXY(P,s,"xy")},_mapSize:function(p,u,m){var r=this._findSpecialBarSzie(u,m);var o=r.barWidthMap;var k=r.barMaxWidthMap;var v=r.barMinHeightMap;var q=r.sBarWidthCounter;var t=r.sBarWidthTotal;var s=r.barGap;var n=r.barCategoryGap;var w;var x;var l=1;if(u.length!=q){if(!m){w=typeof n==="string"&&n.match(/%$/)?(p.getGap()*(100-parseFloat(n))/100).toFixed(2)-0:p.getGap()-n;if(typeof s==="string"&&s.match(/%$/)){s=parseFloat(s)/100;x=+((w-t)/((u.length-1)*s+u.length-q)).toFixed(2);s=x*s}else{s=parseFloat(s);x=+((w-t-s*(u.length-1))/(u.length-q)).toFixed(2)}if(x<=0){return this._mapSize(p,u,true)}}else{w=p.getGap();s=0;x=+(w/u.length).toFixed(2);if(x<=0){l=Math.floor(u.length/w);x=1}}}else{w=q>1?typeof n==="string"&&n.match(/%$/)?+(p.getGap()*(100-parseFloat(n))/100).toFixed(2):p.getGap()-n:t;x=0;s=q>1?+((w-t)/(q-1)).toFixed(2):0;if(s<0){return this._mapSize(p,u,true)}}return this._recheckBarMaxWidth(u,o,k,v,w,x,s,l)},_findSpecialBarSzie:function(s,t){var w=this.series;var z={};var o={};var u={};var H;var q;var G=0;var I=0;var C;var v;for(var E=0,D=s.length;E<D;E++){var l={barWidth:false,barMaxWidth:false};for(var B=0,A=s[E].length;B<A;B++){var F=s[E][B];var p=w[F];if(!t){if(!l.barWidth){H=this.query(p,"barWidth");if(H!=null){z[F]=H;I+=H;G++;l.barWidth=true;for(var y=0,x=B;y<x;y++){var r=s[E][y];z[r]=H}}}else{z[F]=H}if(!l.barMaxWidth){q=this.query(p,"barMaxWidth");if(q!=null){o[F]=q;l.barMaxWidth=true;for(var y=0,x=B;y<x;y++){var r=s[E][y];o[r]=q}}}else{o[F]=q}}u[F]=this.query(p,"barMinHeight");C=C!=null?C:this.query(p,"barGap");v=v!=null?v:this.query(p,"barCategoryGap")}}return{barWidthMap:z,barMaxWidthMap:o,barMinHeightMap:u,sBarWidth:H,sBarMaxWidth:q,sBarWidthCounter:G,sBarWidthTotal:I,barGap:C,barCategoryGap:v}},_recheckBarMaxWidth:function(r,q,l,s,u,v,t,m){for(var p=0,n=r.length;p<n;p++){var o=r[p][0];if(l[o]&&l[o]<v){u-=v-l[o]}}return{barWidthMap:q,barMaxWidthMap:l,barMinHeightMap:s,gap:u,barWidth:v,barGap:t,interval:m}},_getBarItem:function(D,E,J,p,o,w,s,r){var q=this.series;var I;var v=q[D];var G=v.data[E];var B=this._sIndex2ColorMap[D];var k=[G,v];var F=this.deepMerge(k,"itemStyle.normal");var z=this.deepMerge(k,"itemStyle.emphasis");var t=F.barBorderWidth;I={zlevel:v.zlevel,z:v.z,clickable:this.deepQuery(k,"clickable"),style:{x:p,y:o,width:w,height:s,brushType:"both",color:this.getItemStyleColor(this.deepQuery(k,"itemStyle.normal.color")||B,D,E,G),radius:F.barBorderRadius,lineWidth:t,strokeColor:F.barBorderColor},highlightStyle:{color:this.getItemStyleColor(this.deepQuery(k,"itemStyle.emphasis.color"),D,E,G),radius:z.barBorderRadius,lineWidth:z.barBorderWidth,strokeColor:z.barBorderColor},_orient:r};var H=I.style;I.highlightStyle.color=I.highlightStyle.color||(typeof H.color==="string"?a.lift(H.color,-0.3):H.color);H.x=Math.floor(H.x);H.y=Math.floor(H.y);H.height=Math.ceil(H.height);H.width=Math.ceil(H.width);if(t>0&&H.height>t&&H.width>t){H.y+=t/2;H.height-=t;H.x+=t/2;H.width-=t}else{H.brushType="fill"}I.highlightStyle.textColor=I.highlightStyle.color;I=this.addLabel(I,v,G,J,r);var n=[H,I.highlightStyle];for(var C=0,A=n.length;C<A;C++){var m=n[C].textPosition;if(m==="insideLeft"||m==="insideRight"||m==="insideTop"||m==="insideBottom"){var u=5;switch(m){case"insideLeft":n[C].textX=H.x+u;n[C].textY=H.y+H.height/2;n[C].textAlign="left";n[C].textBaseline="middle";break;case"insideRight":n[C].textX=H.x+H.width-u;n[C].textY=H.y+H.height/2;n[C].textAlign="right";n[C].textBaseline="middle";break;case"insideTop":n[C].textX=H.x+H.width/2;n[C].textY=H.y+u/2;n[C].textAlign="center";n[C].textBaseline="top";break;case"insideBottom":n[C].textX=H.x+H.width/2;n[C].textY=H.y+H.height-u/2;n[C].textAlign="center";n[C].textBaseline="bottom";break}n[C].textPosition="specific";n[C].textColor=n[C].textColor||"#fff"}}if(this.deepQuery([G,v,this.option],"calculable")){this.setCalculable(I);I.draggable=true}c.pack(I,q[D],D,q[D].data[E],E,J);return I},getMarkCoord:function(n,o){var p=this.series[n];var m=this.xMarkMap[n];var l=this.component.xAxis.getAxis(p.xAxisIndex);var k=this.component.yAxis.getAxis(p.yAxisIndex);var u;var s;if(o.type&&(o.type==="max"||o.type==="min"||o.type==="average")){var r=o.valueIndex!=null?o.valueIndex:m.maxX0!=null?"1":"";s=[m[o.type+"X"+r],m[o.type+"Y"+r],m[o.type+"Line"+r],m[o.type+r]]}else{if(m.isHorizontal){u=typeof o.xAxis==="string"&&l.getIndexByName?l.getIndexByName(o.xAxis):o.xAxis||0;var t=m[u];t=t!=null?t:typeof o.xAxis!="string"&&l.getCoordByIndex?l.getCoordByIndex(o.xAxis||0):l.getCoord(o.xAxis||0);s=[t,k.getCoord(o.yAxis||0)]}else{u=typeof o.yAxis==="string"&&k.getIndexByName?k.getIndexByName(o.yAxis):o.yAxis||0;var q=m[u];q=q!=null?q:typeof o.yAxis!="string"&&k.getCoordByIndex?k.getCoordByIndex(o.yAxis||0):k.getCoord(o.yAxis||0);s=[l.getCoord(o.xAxis||0),q]}}return s},refresh:function(k){if(k){this.option=k;this.series=k.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(m,o){var p=this.series;var A={};for(var q=0,k=m.length;q<k;q++){A[m[q][0]]=m[q]}var v;var B;var s;var z;var r;var n;var u;var t=0;function w(){t--;if(t===0){o&&o()}}for(var q=this.shapeList.length-1;q>=0;q--){n=c.get(this.shapeList[q],"seriesIndex");if(A[n]&&!A[n][3]){if(this.shapeList[q].type==="rectangle"){u=c.get(this.shapeList[q],"dataIndex");r=p[n];if(A[n][2]&&u===r.data.length-1){this.zr.delShape(this.shapeList[q].id);continue}else{if(!A[n][2]&&u===0){this.zr.delShape(this.shapeList[q].id);continue}}if(this.shapeList[q]._orient==="horizontal"){z=this.component.yAxis.getAxis(r.yAxisIndex||0).getGap();s=A[n][2]?-z:z;v=0}else{B=this.component.xAxis.getAxis(r.xAxisIndex||0).getGap();v=A[n][2]?B:-B;s=0}this.shapeList[q].position=[0,0];t++;this.zr.animate(this.shapeList[q].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[v,s]}).done(w).start()}}}if(!t){o&&o()}}};f.inherits(h,d);e("../chart").define("bar",h);return h});define("echarts/chart/line",["./base","zrender/shape/Polyline","../util/shape/Icon","../util/shape/HalfSmoothPolygon","../component/axis","../component/grid","../component/dataZoom","../config","../util/ecData","zrender/tool/util","zrender/tool/color","../chart"],function(h,k,e){var g=h("./base");var a=h("zrender/shape/Polyline");var f=h("../util/shape/Icon");var l=h("../util/shape/HalfSmoothPolygon");h("../component/axis");h("../component/grid");h("../component/dataZoom");var m=h("../config");m.line={zlevel:0,z:2,clickable:true,legendHoverLink:true,xAxisIndex:0,yAxisIndex:0,dataFilter:"nearest",itemStyle:{normal:{label:{show:false},lineStyle:{width:2,type:"solid",shadowColor:"rgba(0,0,0,0)",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0}},emphasis:{label:{show:false}}},symbolSize:2,showAllSymbol:false};var d=h("../util/ecData");var i=h("zrender/tool/util");var c=h("zrender/tool/color");function j(q,n,r,p,o){g.call(this,q,n,r,p,o);this.refresh(p)}j.prototype={type:m.CHART_TYPE_LINE,_buildShape:function(){this.finalPLMap={};this._buildPosition()},_buildHorizontal:function(K,q,p,M){var v=this.series;var I=p[0][0];var B=v[I];var z=this.component.xAxis.getAxis(B.xAxisIndex||0);var J;var u;var t;var O;var s;var o;var w;var L={};var P;var D;for(var H=0,E=q;H<E;H++){if(z.getNameByIndex(H)==null){break}u=z.getCoordByIndex(H);for(var G=0,F=p.length;G<F;G++){J=this.component.yAxis.getAxis(v[p[G][0]].yAxisIndex||0);s=O=w=o=J.getCoord(0);for(var C=0,A=p[G].length;C<A;C++){I=p[G][C];B=v[I];P=B.data[H];D=this.getDataFromOption(P,"-");L[I]=L[I]||[];M[I]=M[I]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(D==="-"){if(L[I].length>0){this.finalPLMap[I]=this.finalPLMap[I]||[];this.finalPLMap[I].push(L[I]);L[I]=[]}continue}if(D>=0){O-=C>0?J.getCoordSize(D):s-J.getCoord(D);t=O}else{if(D<0){o+=C>0?J.getCoordSize(D):J.getCoord(D)-w;t=o}}L[I].push([u,t,H,z.getNameByIndex(H),u,s]);if(M[I].min>D){M[I].min=D;M[I].minY=t;M[I].minX=u}if(M[I].max<D){M[I].max=D;M[I].maxY=t;M[I].maxX=u}M[I].sum+=D;M[I].counter++}}O=this.component.grid.getY();var N;for(var G=0,F=p.length;G<F;G++){for(var C=0,A=p[G].length;C<A;C++){I=p[G][C];B=v[I];P=B.data[H];D=this.getDataFromOption(P,"-");if(D!="-"){continue}if(this.deepQuery([P,B,this.option],"calculable")){N=this.deepQuery([P,B],"symbolSize");O+=N*2+5;t=O;this.shapeList.push(this._getCalculableItem(I,H,z.getNameByIndex(H),u,t,"horizontal"))}}}}for(var r in L){if(L[r].length>0){this.finalPLMap[r]=this.finalPLMap[r]||[];this.finalPLMap[r].push(L[r]);L[r]=[]}}this._calculMarkMapXY(M,p,"y");this._buildBorkenLine(K,this.finalPLMap,z,"horizontal")},_buildVertical:function(L,r,q,N){var v=this.series;var J=q[0][0];var B=v[J];var w=this.component.yAxis.getAxis(B.yAxisIndex||0);var K;var u;var t;var z;var o;var E;var p;var M={};var P;var D;for(var I=0,F=r;I<F;I++){if(w.getNameByIndex(I)==null){break}t=w.getCoordByIndex(I);for(var H=0,G=q.length;H<G;H++){K=this.component.xAxis.getAxis(v[q[H][0]].xAxisIndex||0);o=z=p=E=K.getCoord(0);for(var C=0,A=q[H].length;C<A;C++){J=q[H][C];B=v[J];P=B.data[I];D=this.getDataFromOption(P,"-");M[J]=M[J]||[];N[J]=N[J]||{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY,sum:0,counter:0,average:0};if(D==="-"){if(M[J].length>0){this.finalPLMap[J]=this.finalPLMap[J]||[];this.finalPLMap[J].push(M[J]);M[J]=[]}continue}if(D>=0){z+=C>0?K.getCoordSize(D):K.getCoord(D)-o;u=z}else{if(D<0){E-=C>0?K.getCoordSize(D):p-K.getCoord(D);u=E}}M[J].push([u,t,I,w.getNameByIndex(I),o,t]);if(N[J].min>D){N[J].min=D;N[J].minX=u;N[J].minY=t}if(N[J].max<D){N[J].max=D;N[J].maxX=u;N[J].maxY=t}N[J].sum+=D;N[J].counter++}}z=this.component.grid.getXend();var O;for(var H=0,G=q.length;H<G;H++){for(var C=0,A=q[H].length;C<A;C++){J=q[H][C];B=v[J];P=B.data[I];D=this.getDataFromOption(P,"-");if(D!="-"){continue}if(this.deepQuery([P,B,this.option],"calculable")){O=this.deepQuery([P,B],"symbolSize");z-=O*2+5;u=z;this.shapeList.push(this._getCalculableItem(J,I,w.getNameByIndex(I),u,t,"vertical"))}}}}for(var s in M){if(M[s].length>0){this.finalPLMap[s]=this.finalPLMap[s]||[];this.finalPLMap[s].push(M[s]);M[s]=[]}}this._calculMarkMapXY(N,q,"x");this._buildBorkenLine(L,this.finalPLMap,w,"vertical")},_buildOther:function(I,r,q,K){var w=this.series;var J={};var t;for(var F=0,E=q.length;F<E;F++){for(var C=0,A=q[F].length;C<A;C++){var H=q[F][C];var z=w[H];t=this.component.xAxis.getAxis(z.xAxisIndex||0);var p=this.component.yAxis.getAxis(z.yAxisIndex||0);var o=p.getCoord(0);J[H]=J[H]||[];K[H]=K[H]||{min0:Number.POSITIVE_INFINITY,min1:Number.POSITIVE_INFINITY,max0:Number.NEGATIVE_INFINITY,max1:Number.NEGATIVE_INFINITY,sum0:0,sum1:0,counter0:0,counter1:0,average0:0,average1:0};for(var G=0,D=z.data.length;G<D;G++){var L=z.data[G];var B=this.getDataFromOption(L,"-");if(!(B instanceof Array)){continue}var v=t.getCoord(B[0]);var u=p.getCoord(B[1]);J[H].push([v,u,G,B[0],v,o]);if(K[H].min0>B[0]){K[H].min0=B[0];K[H].minY0=u;K[H].minX0=v}if(K[H].max0<B[0]){K[H].max0=B[0];K[H].maxY0=u;K[H].maxX0=v}K[H].sum0+=B[0];K[H].counter0++;if(K[H].min1>B[1]){K[H].min1=B[1];K[H].minY1=u;K[H].minX1=v}if(K[H].max1<B[1]){K[H].max1=B[1];K[H].maxY1=u;K[H].maxX1=v}K[H].sum1+=B[1];K[H].counter1++}}}for(var s in J){if(J[s].length>0){this.finalPLMap[s]=this.finalPLMap[s]||[];this.finalPLMap[s].push(J[s]);J[s]=[]}}this._calculMarkMapXY(K,q,"xy");this._buildBorkenLine(I,this.finalPLMap,t,"other")},_buildBorkenLine:function(J,B,z,q){var y=q=="other"?"horizontal":q;var x=this.series;var M;for(var N=J.length-1;N>=0;N--){var H=J[N];var A=x[H];var L=B[H];if(A.type===this.type&&L!=null){var o=this._getBbox(H,y);var F=this._sIndex2ColorMap[H];var n=this.query(A,"itemStyle.normal.lineStyle.width");var K=this.query(A,"itemStyle.normal.lineStyle.type");var p=this.query(A,"itemStyle.normal.lineStyle.color");var v=this.getItemStyleColor(this.query(A,"itemStyle.normal.color"),H,-1);var I=this.query(A,"itemStyle.normal.areaStyle")!=null;var t=this.query(A,"itemStyle.normal.areaStyle.color");for(var G=0,C=L.length;G<C;G++){var u=L[G];var s=q!="other"&&this._isLarge(y,u);if(!s){for(var E=0,D=u.length;E<D;E++){M=A.data[u[E][2]];if(this.deepQuery([M,A,this.option],"calculable")||this.deepQuery([M,A],"showAllSymbol")||z.type==="categoryAxis"&&z.isMainAxis(u[E][2])&&this.deepQuery([M,A],"symbol")!="none"){this.shapeList.push(this._getSymbol(H,u[E][2],u[E][3],u[E][0],u[E][1],y))}}}else{u=this._getLargePointList(y,u,A.dataFilter)}var r=new a({zlevel:A.zlevel,z:A.z,style:{miterLimit:n,pointList:u,strokeColor:p||v||F,lineWidth:n,lineType:K,smooth:this._getSmooth(A.smooth),smoothConstraint:o,shadowColor:this.query(A,"itemStyle.normal.lineStyle.shadowColor"),shadowBlur:this.query(A,"itemStyle.normal.lineStyle.shadowBlur"),shadowOffsetX:this.query(A,"itemStyle.normal.lineStyle.shadowOffsetX"),shadowOffsetY:this.query(A,"itemStyle.normal.lineStyle.shadowOffsetY")},hoverable:false,_main:true,_seriesIndex:H,_orient:y});d.pack(r,x[H],H,0,G,x[H].name);this.shapeList.push(r);if(I){var w=new l({zlevel:A.zlevel,z:A.z,style:{miterLimit:n,pointList:i.clone(u).concat([[u[u.length-1][4],u[u.length-1][5]],[u[0][4],u[0][5]]]),brushType:"fill",smooth:this._getSmooth(A.smooth),smoothConstraint:o,color:t?t:c.alpha(F,0.5)},highlightStyle:{brushType:"fill"},hoverable:false,_main:true,_seriesIndex:H,_orient:y});d.pack(w,x[H],H,0,G,x[H].name);this.shapeList.push(w)}}}}},_getBbox:function(n,o){var q=this.component.grid.getBbox();var p=this.xMarkMap[n];if(p.minX0!=null){return[[Math.min(p.minX0,p.maxX0,p.minX1,p.maxX1),Math.min(p.minY0,p.maxY0,p.minY1,p.maxY1)],[Math.max(p.minX0,p.maxX0,p.minX1,p.maxX1),Math.max(p.minY0,p.maxY0,p.minY1,p.maxY1)]]}else{if(o==="horizontal"){q[0][1]=Math.min(p.minY,p.maxY);q[1][1]=Math.max(p.minY,p.maxY)}else{q[0][0]=Math.min(p.minX,p.maxX);q[1][0]=Math.max(p.minX,p.maxX)}}return q},_isLarge:function(n,o){if(o.length<2){return false}else{return n==="horizontal"?Math.abs(o[0][0]-o[1][0])<0.5:Math.abs(o[0][1]-o[1][1])<0.5}},_getLargePointList:function(s,C,n){var A;if(s==="horizontal"){A=this.component.grid.getWidth()}else{A=this.component.grid.getHeight()}var y=C.length;var o=[];if(typeof n!="function"){switch(n){case"min":n=function(E){return Math.max.apply(null,E)};break;case"max":n=function(E){return Math.min.apply(null,E)};break;case"average":n=function(E){var G=0;for(var F=0;F<E.length;F++){G+=E[F]}return G/E.length};break;default:n=function(E){return E[0]}}}var q=[];for(var t=0;t<A;t++){var x=Math.floor(y/A*t);var v=Math.min(Math.floor(y/A*(t+1)),y);if(v<=x){continue}for(var r=x;r<v;r++){q[r-x]=s==="horizontal"?C[r][1]:C[r][0]}q.length=v-x;var u=n(q);var D=-1;var B=Infinity;for(var r=x;r<v;r++){var p=s==="horizontal"?C[r][1]:C[r][0];var z=Math.abs(p-u);if(z<B){D=r;B=z}}var w=C[D].slice();if(s==="horizontal"){w[1]=u}else{w[0]=u}o.push(w)}return o},_getSmooth:function(n){if(n){return 0.3}else{return 0}},_getCalculableItem:function(r,u,o,v,t,q){var s=this.series;var p=s[r].calculableHolderColor||this.ecTheme.calculableHolderColor||m.calculableHolderColor;var n=this._getSymbol(r,u,o,v,t,q);n.style.color=p;n.style.strokeColor=p;n.rotation=[0,0];n.hoverable=false;n.draggable=false;n.style.text=undefined;return n},_getSymbol:function(q,v,o,w,u,p){var s=this.series;var t=s[q];var r=t.data[v];var n=this.getSymbolShape(t,q,r,v,o,w,u,this._sIndex2ShapeMap[q],this._sIndex2ColorMap[q],"#fff",p==="vertical"?"horizontal":"vertical");n.zlevel=t.zlevel;n.z=t.z+1;if(this.deepQuery([r,t,this.option],"calculable")){this.setCalculable(n);n.draggable=true}return n},getMarkCoord:function(o,s){var q=this.series[o];var p=this.xMarkMap[o];var r=this.component.xAxis.getAxis(q.xAxisIndex);var n=this.component.yAxis.getAxis(q.yAxisIndex);if(s.type&&(s.type==="max"||s.type==="min"||s.type==="average")){var t=s.valueIndex!=null?s.valueIndex:p.maxX0!=null?"1":"";return[p[s.type+"X"+t],p[s.type+"Y"+t],p[s.type+"Line"+t],p[s.type+t]]}return[typeof s.xAxis!="string"&&r.getCoordByIndex?r.getCoordByIndex(s.xAxis||0):r.getCoord(s.xAxis||0),typeof s.yAxis!="string"&&n.getCoordByIndex?n.getCoordByIndex(s.yAxis||0):n.getCoord(s.yAxis||0)]},refresh:function(n){if(n){this.option=n;this.series=n.series}this.backupShapeList();this._buildShape()},ontooltipHover:function(n,x){var r=n.seriesIndex;var v=n.dataIndex;var t;var w;var u=r.length;while(u--){t=this.finalPLMap[r[u]];if(t){for(var s=0,o=t.length;s<o;s++){w=t[s];for(var q=0,p=w.length;q<p;q++){if(v===w[q][2]){x.push(this._getSymbol(r[u],w[q][2],w[q][3],w[q][0],w[q][1],"horizontal"))}}}}}},addDataAnimation:function(F,z){var t=this.series;var w={};for(var C=0,B=F.length;C<B;C++){w[F[C][0]]=F[C]}var s;var v;var r;var u;var D;var A;var q;var o=0;function n(){o--;if(o===0){z&&z()}}function G(x){x.style.controlPointList=null}for(var C=this.shapeList.length-1;C>=0;C--){D=this.shapeList[C]._seriesIndex;if(w[D]&&!w[D][3]){if(this.shapeList[C]._main&&this.shapeList[C].style.pointList.length>1){A=this.shapeList[C].style.pointList;v=Math.abs(A[0][0]-A[1][0]);u=Math.abs(A[0][1]-A[1][1]);q=this.shapeList[C]._orient==="horizontal";if(w[D][2]){if(this.shapeList[C].type==="half-smooth-polygon"){var E=A.length;this.shapeList[C].style.pointList[E-3]=A[E-2];this.shapeList[C].style.pointList[E-3][q?0:1]=A[E-4][q?0:1];this.shapeList[C].style.pointList[E-2]=A[E-1]}this.shapeList[C].style.pointList.pop();q?(s=v,r=0):(s=0,r=-u)}else{this.shapeList[C].style.pointList.shift();if(this.shapeList[C].type==="half-smooth-polygon"){var p=this.shapeList[C].style.pointList.pop();q?p[0]=A[0][0]:p[1]=A[0][1];this.shapeList[C].style.pointList.push(p)}q?(s=-v,r=0):(s=0,r=u)}this.shapeList[C].style.controlPointList=null;this.zr.modShape(this.shapeList[C])}else{if(w[D][2]&&this.shapeList[C]._dataIndex===t[D].data.length-1){this.zr.delShape(this.shapeList[C].id);continue}else{if(!w[D][2]&&this.shapeList[C]._dataIndex===0){this.zr.delShape(this.shapeList[C].id);continue}}}this.shapeList[C].position=[0,0];o++;this.zr.animate(this.shapeList[C].id,"").when(this.query(this.option,"animationDurationUpdate"),{position:[s,r]}).during(G).done(n).start()}}if(!o){z&&z()}}};function b(A,o,s){var v=o.x;var u=o.y;var p=o.width;var w=o.height;var B=w/2;if(o.symbol.match("empty")){A.fillStyle="#fff"}o.brushType="both";var r=o.symbol.replace("empty","").toLowerCase();if(r.match("star")){B=r.replace("star","")-0||5;u-=1;r="star"}else{if(r==="rectangle"||r==="arrow"){v+=(p-w)/2;p=w}}var q="";if(r.match("image")){q=r.replace(new RegExp("^image:\\/\\/"),"");r="image";v+=Math.round((p-w)/2)-1;p=w=w+2}r=f.prototype.iconLibrary[r];if(r){var n=o.x;var t=o.y;A.moveTo(n,t+B);A.lineTo(n+5,t+B);A.moveTo(n+o.width-5,t+B);A.lineTo(n+o.width,t+B);var z=this;r(A,{x:v+4,y:u+4,width:p-8,height:w-8,n:B,image:q},function(){z.modSelf();s()})}else{A.moveTo(v,u+B);A.lineTo(v+p,u+B)}}f.prototype.iconLibrary.legendLineIcon=b;i.inherits(j,g);h("../chart").define("line",j);return j});define("echarts/util/shape/HalfSmoothPolygon",["zrender/shape/Base","zrender/shape/util/smoothBezier","zrender/tool/util","zrender/shape/Polygon"],function(c,b,e){var d=c("zrender/shape/Base");var g=c("zrender/shape/util/smoothBezier");var a=c("zrender/tool/util");function f(h){d.call(this,h)}f.prototype={type:"half-smooth-polygon",buildPath:function(r,j){var h=j.pointList;if(h.length<2){return}if(j.smooth){var s=g(h.slice(0,-2),j.smooth,false,j.smoothConstraint);r.moveTo(h[0][0],h[0][1]);var q;var n;var k;var m=h.length;for(var o=0;o<m-3;o++){q=s[o*2];n=s[o*2+1];k=h[o+1];r.bezierCurveTo(q[0],q[1],n[0],n[1],k[0],k[1])}r.lineTo(h[m-2][0],h[m-2][1]);r.lineTo(h[m-1][0],h[m-1][1]);r.lineTo(h[0][0],h[0][1])}else{c("zrender/shape/Polygon").prototype.buildPath(r,j)}return}};a.inherits(f,d);return f});define("echarts/chart/pie",["./base","zrender/shape/Text","zrender/shape/Ring","zrender/shape/Circle","zrender/shape/Sector","zrender/shape/Polyline","../config","../util/ecData","zrender/tool/util","zrender/tool/math","zrender/tool/color","../chart"],function(g,k,e){var f=g("./base");var i=g("zrender/shape/Text");var l=g("zrender/shape/Ring");var b=g("zrender/shape/Circle");var j=g("zrender/shape/Sector");var a=g("zrender/shape/Polyline");var o=g("../config");o.pie={zlevel:0,z:2,clickable:true,legendHoverLink:true,center:["50%","50%"],radius:[0,"75%"],clockWise:true,startAngle:90,minAngle:0,selectedOffset:10,itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:true,position:"outer"},labelLine:{show:true,length:20,lineStyle:{width:1,type:"solid"}}},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1,label:{show:false},labelLine:{show:false,length:20,lineStyle:{width:1,type:"solid"}}}}};var d=g("../util/ecData");var h=g("zrender/tool/util");var n=g("zrender/tool/math");var c=g("zrender/tool/color");function m(t,p,u,s,r){f.call(this,t,p,u,s,r);var q=this;q.shapeHandler.onmouseover=function(z){var E=z.target;var B=d.get(E,"seriesIndex");var G=d.get(E,"dataIndex");var C=d.get(E,"special");var v=[E.style.x,E.style.y];var D=E.style.startAngle;var y=E.style.endAngle;var x=((y+D)/2+360)%360;var w=E.highlightStyle.color;var F=q.getLabel(B,G,C,v,x,w,true);if(F){q.zr.addHoverShape(F)}var A=q.getLabelLine(B,G,v,E.style.r0,E.style.r,x,w,true);if(A){q.zr.addHoverShape(A)}};this.refresh(s)}m.prototype={type:o.CHART_TYPE_PIE,_buildShape:function(){var u=this.series;var v=this.component.legend;this.selectedMap={};this._selected={};var q;var p;var w;this._selectedMode=false;var t;for(var s=0,r=u.length;s<r;s++){if(u[s].type===o.CHART_TYPE_PIE){u[s]=this.reformOption(u[s]);this.legendHoverLink=u[s].legendHoverLink||this.legendHoverLink;t=u[s].name||"";this.selectedMap[t]=v?v.isSelected(t):true;if(!this.selectedMap[t]){continue}q=this.parseCenter(this.zr,u[s].center);p=this.parseRadius(this.zr,u[s].radius);this._selectedMode=this._selectedMode||u[s].selectedMode;this._selected[s]=[];if(this.deepQuery([u[s],this.option],"calculable")){w={zlevel:u[s].zlevel,z:u[s].z,hoverable:false,style:{x:q[0],y:q[1],r0:p[0]<=10?0:p[0]-10,r:p[1]+10,brushType:"stroke",lineWidth:1,strokeColor:u[s].calculableHolderColor||this.ecTheme.calculableHolderColor||o.calculableHolderColor}};d.pack(w,u[s],s,undefined,-1);this.setCalculable(w);w=p[0]<=10?new b(w):new l(w);this.shapeList.push(w)}this._buildSinglePie(s);this.buildMark(s)}}this.addShapeList()},_buildSinglePie:function(H){var w=this.series;var z=w[H];var O=z.data;var r=this.component.legend;var J;var x=0;var s=0;var t=0;var K=Number.NEGATIVE_INFINITY;var N=[];for(var G=0,B=O.length;G<B;G++){J=O[G].name;this.selectedMap[J]=r?r.isSelected(J):true;if(this.selectedMap[J]&&!isNaN(O[G].value)){if(+O[G].value!==0){x++}else{s++}t+=+O[G].value;K=Math.max(K,+O[G].value)}}if(t===0){return}var q=100;var p=z.clockWise;var E=(z.startAngle.toFixed(2)-0+360)%360;var A;var C=z.minAngle||0.01;var v=360-C*x-0.01*s;var D;var y=z.roseType;var M;var u;var I;var F;for(var G=0,B=O.length;G<B;G++){J=O[G].name;if(!this.selectedMap[J]||isNaN(O[G].value)){continue}D=r?r.getColor(J):this.zr.getColor(G);q=O[G].value/t;if(y!="area"){A=p?E-q*v-(q!==0?C:0.01):q*v+E+(q!==0?C:0.01)}else{A=p?E-360/B:360/B+E}A=A.toFixed(2)-0;q=(q*100).toFixed(2);M=this.parseCenter(this.zr,z.center);u=this.parseRadius(this.zr,z.radius);I=+u[0];F=+u[1];if(y==="radius"){F=O[G].value/K*(F-I)*0.8+(F-I)*0.2+I}else{if(y==="area"){F=Math.sqrt(O[G].value/K)*(F-I)+I}}if(p){var L;L=E;E=A;A=L}this._buildItem(N,H,G,q,O[G].selected,M,I,F,E,A,D);if(!p){E=A}}this._autoLabelLayout(N,M,F);for(var G=0,B=N.length;G<B;G++){this.shapeList.push(N[G])}N=null},_buildItem:function(u,z,E,C,q,p,w,v,B,t,s){var A=this.series;var r=((t+B)/2+360)%360;var x=this.getSector(z,E,C,q,p,w,v,B,t,s);d.pack(x,A[z],z,A[z].data[E],E,A[z].data[E].name,C);u.push(x);var D=this.getLabel(z,E,C,p,r,s,false);var y=this.getLabelLine(z,E,p,w,v,r,s,false);if(y){d.pack(y,A[z],z,A[z].data[E],E,A[z].data[E].name,C);u.push(y)}if(D){d.pack(D,A[z],z,A[z].data[E],E,A[z].data[E].name,C);D._labelLine=y;u.push(D)}},getSector:function(D,H,q,u,G,F,E,B,y,C){var w=this.series;var x=w[D];var J=x.data[H];var r=[J,x];var I=this.deepMerge(r,"itemStyle.normal")||{};var z=this.deepMerge(r,"itemStyle.emphasis")||{};var s=this.getItemStyleColor(I.color,D,H,J)||C;var p=this.getItemStyleColor(z.color,D,H,J)||(typeof s==="string"?c.lift(s,-0.2):s);var A={zlevel:x.zlevel,z:x.z,clickable:this.deepQuery(r,"clickable"),style:{x:G[0],y:G[1],r0:F,r:E,startAngle:B,endAngle:y,brushType:"both",color:s,lineWidth:I.borderWidth,strokeColor:I.borderColor,lineJoin:"round"},highlightStyle:{color:p,lineWidth:z.borderWidth,strokeColor:z.borderColor,lineJoin:"round"},_seriesIndex:D,_dataIndex:H};if(u){var v=((A.style.startAngle+A.style.endAngle)/2).toFixed(2)-0;A.style._hasSelected=true;A.style._x=A.style.x;A.style._y=A.style.y;var t=this.query(x,"selectedOffset");A.style.x+=n.cos(v,true)*t;A.style.y-=n.sin(v,true)*t;this._selected[D][H]=true}else{this._selected[D][H]=false}if(this._selectedMode){A.onclick=this.shapeHandler.onclick}if(this.deepQuery([J,x,this.option],"calculable")){this.setCalculable(A);A.draggable=true}if(this._needLabel(x,J,true)||this._needLabelLine(x,J,true)){A.onmouseover=this.shapeHandler.onmouseover}A=new j(A);return A},getLabel:function(H,L,q,K,D,G,C){var B=this.series;var E=B[H];var M=E.data[L];if(!this._needLabel(E,M,C)){return}var F=C?"emphasis":"normal";var u=h.merge(h.clone(M.itemStyle)||{},E.itemStyle);var J=u[F].label;var t=J.textStyle||{};var w=K[0];var v=K[1];var A;var z;var r=this.parseRadius(this.zr,E.radius);var s;var I="middle";J.position=J.position||u.normal.label.position;if(J.position==="center"){A=w;z=v;s="center"}else{if(J.position==="inner"||J.position==="inside"){r=(r[0]+r[1])*(J.distance||0.5);A=Math.round(w+r*n.cos(D,true));z=Math.round(v-r*n.sin(D,true));G="#fff";s="center"}else{r=r[1]- -u[F].labelLine.length;A=Math.round(w+r*n.cos(D,true));z=Math.round(v-r*n.sin(D,true));s=D>=90&&D<=270?"right":"left"}}if(J.position!="center"&&J.position!="inner"&&J.position!="inside"){A+=s==="left"?20:-20}M.__labelX=A-(s==="left"?5:-5);M.__labelY=z;var p=new i({zlevel:E.zlevel,z:E.z+1,hoverable:false,style:{x:A,y:z,color:t.color||G,text:this.getLabelText(H,L,q,F),textAlign:t.align||s,textBaseline:t.baseline||I,textFont:this.getFont(t)},highlightStyle:{brushType:"fill"}});p._radius=r;p._labelPosition=J.position||"outer";p._rect=p.getRect(p.style);p._seriesIndex=H;p._dataIndex=L;return p},getLabelText:function(q,t,v,p){var s=this.series;var u=s[q];var w=u.data[t];var r=this.deepQuery([w,u],"itemStyle."+p+".label.formatter");if(r){if(typeof r==="function"){return r.call(this.myChart,{seriesIndex:q,seriesName:u.name||"",series:u,dataIndex:t,data:w,name:w.name,value:w.value,percent:v})}else{if(typeof r==="string"){r=r.replace("{a}","{a0}").replace("{b}","{b0}").replace("{c}","{c0}").replace("{d}","{d0}");r=r.replace("{a0}",u.name).replace("{b0}",w.name).replace("{c0}",w.value).replace("{d0}",v);return r}}}else{return w.name}},getLabelLine:function(D,I,H,F,E,y,C,x){var w=this.series;var A=w[D];var J=A.data[I];if(this._needLabelLine(A,J,x)){var B=x?"emphasis":"normal";var s=h.merge(h.clone(J.itemStyle)||{},A.itemStyle);var z=s[B].labelLine;var q=z.lineStyle||{};var v=H[0];var u=H[1];var t=E;var r=this.parseRadius(this.zr,A.radius)[1]- -z.length;var G=n.cos(y,true);var p=n.sin(y,true);return new a({zlevel:A.zlevel,z:A.z+1,hoverable:false,style:{pointList:[[v+t*G,u-t*p],[v+r*G,u-r*p],[J.__labelX,J.__labelY]],strokeColor:q.color||C,lineType:q.type,lineWidth:q.width},_seriesIndex:D,_dataIndex:I})}else{return}},_needLabel:function(q,r,p){return this.deepQuery([r,q],"itemStyle."+(p?"emphasis":"normal")+".label.show")},_needLabelLine:function(q,r,p){return this.deepQuery([r,q],"itemStyle."+(p?"emphasis":"normal")+".labelLine.show")},_autoLabelLayout:function(s,p,v){var w=[];var t=[];for(var u=0,q=s.length;u<q;u++){if(s[u]._labelPosition==="outer"||s[u]._labelPosition==="outside"){s[u]._rect._y=s[u]._rect.y;if(s[u]._rect.x<p[0]){w.push(s[u])}else{t.push(s[u])}}}this._layoutCalculate(w,p,v,-1);this._layoutCalculate(t,p,v,1)},_layoutCalculate:function(B,q,p,z){B.sort(function(D,r){return D._rect.y-r._rect.y});function u(G,r,F,E){for(var D=G;D<r;D++){B[D]._rect.y+=F;B[D].style.y+=F;if(B[D]._labelLine){B[D]._labelLine.style.pointList[1][1]+=F;B[D]._labelLine.style.pointList[2][1]+=F}if(D>G&&D+1<r&&B[D+1]._rect.y>B[D]._rect.y+B[D]._rect.height){x(D,F/2);return}}x(r-1,F/2)}function x(r,E){for(var D=r;D>=0;D--){B[D]._rect.y-=E;B[D].style.y-=E;if(B[D]._labelLine){B[D]._labelLine.style.pointList[1][1]-=E;B[D]._labelLine.style.pointList[2][1]-=E}if(D>0&&B[D]._rect.y>B[D-1]._rect.y+B[D-1]._rect.height){break}}}function C(P,O,E,D,M){var N=E[0];var L=E[1];var J;var I;var G;var F=M>0?O?Number.MAX_VALUE:0:O?Number.MAX_VALUE:0;for(var K=0,H=P.length;K<H;K++){I=Math.abs(P[K]._rect.y-L);G=P[K]._radius-D;J=I<D+G?Math.sqrt((D+G+20)*(D+G+20)-Math.pow(P[K]._rect.y-L,2)):Math.abs(P[K]._rect.x+(M>0?0:P[K]._rect.width)-N);if(O&&J>=F){J=F-10}if(!O&&J<=F){J=F+10}P[K]._rect.x=P[K].style.x=N+J*M;if(P[K]._labelLine){P[K]._labelLine.style.pointList[2][0]=N+(J-5)*M;P[K]._labelLine.style.pointList[1][0]=N+(J-20)*M}F=J}}var t=0;var A;var y=B.length;var s=[];var v=[];for(var w=0;w<y;w++){A=B[w]._rect.y-t;if(A<0){u(w,y,-A,z)}t=B[w]._rect.y+B[w]._rect.height}if(this.zr.getHeight()-t<0){x(y-1,t-this.zr.getHeight())}for(var w=0;w<y;w++){if(B[w]._rect.y>=q[1]){v.push(B[w])}else{s.push(B[w])}}C(v,true,q,p,z);C(s,false,q,p,z)},reformOption:function(p){var q=h.merge;p=q(q(p||{},h.clone(this.ecTheme.pie||{})),h.clone(o.pie));p.itemStyle.normal.label.textStyle=this.getTextStyle(p.itemStyle.normal.label.textStyle);p.itemStyle.emphasis.label.textStyle=this.getTextStyle(p.itemStyle.emphasis.label.textStyle);this.z=p.z;this.zlevel=p.zlevel;return p},refresh:function(p){if(p){this.option=p;this.series=p.series}this.backupShapeList();this._buildShape()},addDataAnimation:function(F,A){var x=this.series;var z={};for(var C=0,B=F.length;C<B;C++){z[F[C][0]]=F[C]}var r=0;function p(){r--;if(r===0){A&&A()}}var u={};var w={};var y={};var v=this.shapeList;this.shapeList=[];var D;var t;var q;var E={};for(var C=0,B=F.length;C<B;C++){D=F[C][0];t=F[C][2];q=F[C][3];if(x[D]&&x[D].type===o.CHART_TYPE_PIE){if(t){if(!q){u[D+"_"+x[D].data.length]="delete"}E[D]=1}else{if(!q){u[D+"_-1"]="delete";E[D]=-1}else{E[D]=0}}this._buildSinglePie(D)}}var G;var H;for(var C=0,B=this.shapeList.length;C<B;C++){D=this.shapeList[C]._seriesIndex;G=this.shapeList[C]._dataIndex;H=D+"_"+G;switch(this.shapeList[C].type){case"sector":u[H]=this.shapeList[C];break;case"text":w[H]=this.shapeList[C];break;case"polyline":y[H]=this.shapeList[C];break}}this.shapeList=[];var s;for(var C=0,B=v.length;C<B;C++){D=v[C]._seriesIndex;if(z[D]){G=v[C]._dataIndex+E[D];H=D+"_"+G;s=u[H];if(!s){continue}if(v[C].type==="sector"){if(s!="delete"){r++;this.zr.animate(v[C].id,"style").when(400,{startAngle:s.style.startAngle,endAngle:s.style.endAngle}).done(p).start()}else{r++;this.zr.animate(v[C].id,"style").when(400,E[D]<0?{startAngle:v[C].style.startAngle}:{endAngle:v[C].style.endAngle}).done(p).start()}}else{if(v[C].type==="text"||v[C].type==="polyline"){if(s==="delete"){this.zr.delShape(v[C].id)}else{switch(v[C].type){case"text":r++;s=w[H];this.zr.animate(v[C].id,"style").when(400,{x:s.style.x,y:s.style.y}).done(p).start();break;case"polyline":r++;s=y[H];this.zr.animate(v[C].id,"style").when(400,{pointList:s.style.pointList}).done(p).start();break}}}}}}this.shapeList=v;if(!r){A&&A()}},onclick:function(r){var u=this.series;if(!this.isClick||!r.target){return}this.isClick=false;var s;var x=r.target;var p=x.style;var t=d.get(x,"seriesIndex");var y=d.get(x,"dataIndex");for(var v=0,w=this.shapeList.length;v<w;v++){if(this.shapeList[v].id===x.id){t=d.get(x,"seriesIndex");y=d.get(x,"dataIndex");if(!p._hasSelected){var q=((p.startAngle+p.endAngle)/2).toFixed(2)-0;x.style._hasSelected=true;this._selected[t][y]=true;x.style._x=x.style.x;x.style._y=x.style.y;s=this.query(u[t],"selectedOffset");x.style.x+=n.cos(q,true)*s;x.style.y-=n.sin(q,true)*s}else{x.style.x=x.style._x;x.style.y=x.style._y;x.style._hasSelected=false;this._selected[t][y]=false}this.zr.modShape(x.id)}else{if(this.shapeList[v].style._hasSelected&&this._selectedMode==="single"){t=d.get(this.shapeList[v],"seriesIndex");y=d.get(this.shapeList[v],"dataIndex");this.shapeList[v].style.x=this.shapeList[v].style._x;this.shapeList[v].style.y=this.shapeList[v].style._y;this.shapeList[v].style._hasSelected=false;this._selected[t][y]=false;this.zr.modShape(this.shapeList[v].id)}}}this.messageCenter.dispatch(o.EVENT.PIE_SELECTED,r.event,{selected:this._selected,target:d.get(x,"name")},this.myChart);this.zr.refreshNextFrame()}};h.inherits(m,f);g("../chart").define("pie",m);return m});